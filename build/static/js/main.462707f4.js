/*! For license information please see main.462707f4.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},916:function(e){var t=1/0,n=17976931348623157e292,r=NaN,i="[object Symbol]",a=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,s=/^0o[0-7]+$/i,c=parseInt,l=Object.prototype.toString;function f(e,f){var d;if("function"!=typeof f)throw new TypeError("Expected a function");return e=function(e){var f=function(e){if(!e)return 0===e?e:0;if((e=function(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&l.call(e)==i}(e))return r;if(h(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=h(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var n=u.test(e);return n||s.test(e)?c(e.slice(2),n?2:8):o.test(e)?r:+e}(e))===t||e===-1/0){return(e<0?-1:1)*n}return e===e?e:0}(e),d=f%1;return f===f?d?f-d:f:0}(e),function(){return--e>0&&(d=f.apply(this,arguments)),e<=1&&(f=void 0),d}}function h(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=function(e){return f(2,e)}},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,u,s=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(s[l]=o[l]);if(t){u=t(o);for(var f=0;f<u.length;f++)r.call(o,u[f])&&(s[u[f]]=o[u[f]])}}return s}},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(725),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var u=new Set,s={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)u.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function y(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new y(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new y(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new y(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new y(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new y(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new y(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new y(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new y(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new y(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,k);m[t]=new y(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,k);m[t]=new y(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,k);m[t]=new y(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new y(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new y(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=60103,x=60106,S=60107,_=60108,T=60114,O=60109,I=60110,C=60112,N=60113,A=60120,P=60115,D=60116,R=60121,L=60128,j=60129,M=60130,U=60131;if("function"===typeof Symbol&&Symbol.for){var F=Symbol.for;E=F("react.element"),x=F("react.portal"),S=F("react.fragment"),_=F("react.strict_mode"),T=F("react.profiler"),O=F("react.provider"),I=F("react.context"),C=F("react.forward_ref"),N=F("react.suspense"),A=F("react.suspense_list"),P=F("react.memo"),D=F("react.lazy"),R=F("react.block"),F("react.scope"),L=F("react.opaque.id"),j=F("react.debug_trace_mode"),M=F("react.offscreen"),U=F("react.legacy_hidden")}var V,z="function"===typeof Symbol&&Symbol.iterator;function B(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=z&&e[z]||e["@@iterator"])?e:null}function q(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var W=!1;function H(e,t){if(!e||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(s){var r=s}Reflect.construct(e,[],t)}else{try{t.call()}catch(s){r=s}e.call(t.prototype)}else{try{throw Error()}catch(s){r=s}e()}}catch(s){if(s&&r&&"string"===typeof s.stack){for(var i=s.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=u);break}}}finally{W=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?q(e):""}function K(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return e=H(e.type,!1);case 11:return e=H(e.type.render,!1);case 22:return e=H(e.type._render,!1);case 1:return e=H(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case x:return"Portal";case T:return"Profiler";case _:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case O:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case P:return G(e.type);case R:return G(e._render);case D:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=Y(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Y(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ue(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,ye,me=(ye=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ye(e,t)}))}:ye);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ke={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ke.hasOwnProperty(e)&&ke[e]?(""+t).trim():t+"px"}function Ee(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ke).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ke[t]=ke[e]}))}));var xe=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Se(e,t){if(t){if(xe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Te(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Oe=null,Ie=null,Ce=null;function Ne(e){if(e=ri(e)){if("function"!==typeof Oe)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Oe(e.stateNode,e.type,t))}}function Ae(e){Ie?Ce?Ce.push(e):Ce=[e]:Ie=e}function Pe(){if(Ie){var e=Ie,t=Ce;if(Ce=Ie=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function De(e,t){return e(t)}function Re(e,t,n,r,i){return e(t,n,r,i)}function Le(){}var je=De,Me=!1,Ue=!1;function Fe(){null===Ie&&null===Ce||(Le(),Pe())}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var ze=!1;if(f)try{var Be={};Object.defineProperty(Be,"passive",{get:function(){ze=!0}}),window.addEventListener("test",Be,Be),window.removeEventListener("test",Be,Be)}catch(ye){ze=!1}function qe(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var We=!1,He=null,Ke=!1,Ge=null,Qe={onError:function(e){We=!0,He=e}};function Ye(e,t,n,r,i,a,o,u,s){We=!1,He=null,qe.apply(Qe,arguments)}function $e(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Xe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if($e(e)!==e)throw Error(o(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=$e(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Je(i),e;if(a===r)return Je(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=a;break}if(s===r){u=!0,r=i,n=a;break}s=s.sibling}if(!u){for(s=a.child;s;){if(s===n){u=!0,n=a,r=i;break}if(s===r){u=!0,r=a,n=i;break}s=s.sibling}if(!u)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],ut=null,st=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":ut=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function yt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function mt(e){var t=ni(e.target);if(null!==t){var n=$e(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Xe(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function kt(e,t,n){gt(e)&&n.delete(t)}function bt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==ut&&gt(ut)&&(ut=null),null!==st&&gt(st)&&(st=null),null!==ct&&gt(ct)&&(ct=null),lt.forEach(kt),ft.forEach(kt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,bt)))}function Et(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ut&&wt(ut,e),null!==st&&wt(st,e),null!==ct&&wt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)mt(n),null===n.blockedOn&&ht.shift()}function xt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var St={animationend:xt("Animation","AnimationEnd"),animationiteration:xt("Animation","AnimationIteration"),animationstart:xt("Animation","AnimationStart"),transitionend:xt("Transition","TransitionEnd")},_t={},Tt={};function Ot(e){if(_t[e])return _t[e];if(!St[e])return e;var t,n=St[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tt)return _t[e]=n[t];return e}f&&(Tt=document.createElement("div").style,"AnimationEvent"in window||(delete St.animationend.animation,delete St.animationiteration.animation,delete St.animationstart.animation),"TransitionEvent"in window||delete St.transitionend.transition);var It=Ot("animationend"),Ct=Ot("animationiteration"),Nt=Ot("animationstart"),At=Ot("transitionend"),Pt=new Map,Dt=new Map,Rt=["abort","abort",It,"animationEnd",Ct,"animationIteration",Nt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",At,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Dt.set(r,t),Pt.set(r,i),c(i,[r])}}(0,a.unstable_now)();var jt=8;function Mt(e){if(0!==(1&e))return jt=15,1;if(0!==(2&e))return jt=14,2;if(0!==(4&e))return jt=13,4;var t=24&e;return 0!==t?(jt=12,t):0!==(32&e)?(jt=11,32):0!==(t=192&e)?(jt=10,t):0!==(256&e)?(jt=9,256):0!==(t=3584&e)?(jt=8,t):0!==(4096&e)?(jt=7,4096):0!==(t=4186112&e)?(jt=6,t):0!==(t=62914560&e)?(jt=5,t):67108864&e?(jt=4,67108864):0!==(134217728&e)?(jt=3,134217728):0!==(t=805306368&e)?(jt=2,t):0!==(1073741824&e)?(jt=1,1073741824):(jt=8,e)}function Ut(e,t){var n=e.pendingLanes;if(0===n)return jt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,u=e.pingedLanes;if(0!==a)r=a,i=jt=15;else if(0!==(a=134217727&n)){var s=a&~o;0!==s?(r=Mt(s),i=jt):0!==(u&=a)&&(r=Mt(u),i=jt)}else 0!==(a=n&~o)?(r=Mt(a),i=jt):0!==u&&(r=Mt(u),i=jt);if(0===r)return 0;if(r=n&((0>(r=31-Wt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Mt(t),i<=jt)return t;jt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Wt(t)),r|=e[n],t&=~i;return r}function Ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=zt(24&~t))?Vt(10,t):e;case 10:return 0===(e=zt(192&~t))?Vt(8,t):e;case 8:return 0===(e=zt(3584&~t))&&(0===(e=zt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=zt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function zt(e){return e&-e}function Bt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Wt(t)]=n}var Wt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Ht(e)/Kt|0)|0},Ht=Math.log,Kt=Math.LN2;var Gt=a.unstable_UserBlockingPriority,Qt=a.unstable_runWithPriority,Yt=!0;function $t(e,t,n,r){Me||Le();var i=Jt,a=Me;Me=!0;try{Re(i,e,t,n,r)}finally{(Me=a)||Fe()}}function Xt(e,t,n,r){Qt(Gt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var i;if(Yt)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Zt(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return ut=yt(ut,e,t,n,r,i),!0;case"dragenter":return st=yt(st,e,t,n,r,i),!0;case"mouseover":return ct=yt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,yt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,yt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Lr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=Te(r);if(null!==(i=ni(i))){var a=$e(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Xe(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Lr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function un(){return!1}function sn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:un,this.isPropagationStopped=un,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=sn(hn),pn=i({},hn,{view:0,detail:0}),vn=sn(pn),yn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),mn=sn(yn),gn=sn(i({},yn,{dataTransfer:0})),kn=sn(i({},pn,{relatedTarget:0})),bn=sn(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),En=sn(wn),xn=sn(i({},hn,{data:0})),Sn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function On(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Tn[e])&&!!t[e]}function In(){return On}var Cn=i({},pn,{key:function(e){if(e.key){var t=Sn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=sn(Cn),An=sn(i({},yn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=sn(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),Dn=sn(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=i({},yn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=sn(Rn),jn=[9,13,27,32],Mn=f&&"CompositionEvent"in window,Un=null;f&&"documentMode"in document&&(Un=document.documentMode);var Fn=f&&"TextEvent"in window&&!Un,Vn=f&&(!Mn||Un&&8<Un&&11>=Un),zn=String.fromCharCode(32),Bn=!1;function qn(e,t){switch(e){case"keyup":return-1!==jn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Kn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Kn[e.type]:"textarea"===t}function Qn(e,t,n,r){Ae(r),0<(t=Mr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yn=null,$n=null;function Xn(e){Cr(e,0)}function Jn(e){if(X(ii(e)))return e}function Zn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Yn&&(Yn.detachEvent("onpropertychange",ar),$n=Yn=null)}function ar(e){if("value"===e.propertyName&&Jn($n)){var t=[];if(Qn(t,$n,e,Te(e)),e=Xn,Me)e(t);else{Me=!0;try{De(e,t)}finally{Me=!1,Fe()}}}}function or(e,t,n){"focusin"===e?(ir(),$n=n,(Yn=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function ur(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn($n)}function sr(e,t){if("click"===e)return Jn(t)}function cr(e,t){if("input"===e||"change"===e)return Jn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function yr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=f&&"documentMode"in document&&11>=document.documentMode,kr=null,br=null,wr=null,Er=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Er||null==kr||kr!==J(r)||("selectionStart"in(r=kr)&&mr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&hr(wr,r)||(wr=r,0<(r=Mr(br,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kr)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Rt,2);for(var Sr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),_r=0;_r<Sr.length;_r++)Dt.set(Sr[_r],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Or=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tr));function Ir(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,u,s,c){if(Ye.apply(this,arguments),We){if(!We)throw Error(o(198));var l=He;We=!1,He=null,Ke||(Ke=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function Cr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Ir(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Ir(i,u,c),a=s}}}if(Ke)throw e=Ge,Ke=!1,Ge=null,e}function Nr(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Rr(t,e,2,!1),n.add(r))}var Ar="_reactListening"+Math.random().toString(36).slice(2);function Pr(e){e[Ar]||(e[Ar]=!0,u.forEach((function(t){Or.has(t)||Dr(t,!1,e,null),Dr(t,!0,e,null)})))}function Dr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Or.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),u=e+"__"+(t?"capture":"bubble");o.has(u)||(t&&(i|=4),Rr(a,e,i,t),o.add(u))}function Rr(e,t,n,r){var i=Dt.get(t);switch(void 0===i?2:i){case 0:i=$t;break;case 1:i=Xt;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!ze||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=ni(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}!function(e,t,n){if(Ue)return e(t,n);Ue=!0;try{je(e,t,n)}finally{Ue=!1,Fe()}}((function(){var r=a,i=Te(n),o=[];e:{var u=Pt.get(e);if(void 0!==u){var s=dn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":s=Nn;break;case"focusin":c="focus",s=kn;break;case"focusout":c="blur",s=kn;break;case"beforeblur":case"afterblur":s=kn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Pn;break;case It:case Ct:case Nt:s=bn;break;case At:s=Dn;break;case"scroll":s=vn;break;case"wheel":s=Ln;break;case"copy":case"cut":case"paste":s=En;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=An}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ve(p,h))&&l.push(jr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=$e(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=mn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=An,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:ii(s),d=null==c?u:ii(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,ni(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Ur(d))p++;for(d=0,v=h;v;v=Ur(v))d++;for(;0<p-d;)l=Ur(l),p--;for(;0<d-p;)h=Ur(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Ur(l),h=Ur(h)}l=null}else l=null;null!==s&&Fr(o,u,s,l,!1),null!==c&&null!==f&&Fr(o,f,c,l,!0)}if("select"===(s=(u=r?ii(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var y=Zn;else if(Gn(u))if(er)y=cr;else{y=ur;var m=or}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(y=sr);switch(y&&(y=y(e,r))?Qn(o,y,n,i):(m&&m(e,u,r),"focusout"===e&&(m=u._wrapperState)&&m.controlled&&"number"===u.type&&ie(u,"number",u.value)),m=r?ii(r):window,e){case"focusin":(Gn(m)||"true"===m.contentEditable)&&(kr=m,br=r,wr=null);break;case"focusout":wr=br=kr=null;break;case"mousedown":Er=!0;break;case"contextmenu":case"mouseup":case"dragend":Er=!1,xr(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":xr(o,n,i)}var g;if(Mn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Hn?qn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Vn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Hn&&(g=rn()):(tn="value"in(en=i)?en.value:en.textContent,Hn=!0)),0<(m=Mr(r,k)).length&&(k=new xn(k,e,null,n,i),o.push({event:k,listeners:m}),g?k.data=g:null!==(g=Wn(n))&&(k.data=g))),(g=Fn?function(e,t){switch(e){case"compositionend":return Wn(t);case"keypress":return 32!==t.which?null:(Bn=!0,zn);case"textInput":return(e=t.data)===zn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Mn&&qn(e,t)?(e=rn(),nn=tn=en=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Mr(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Cr(o,t)}))}function jr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Mr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ve(e,n))&&r.unshift(jr(e,a,i)),null!=(a=Ve(e,t))&&r.push(jr(e,a,i))),e=e.return}return r}function Ur(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Fr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Ve(n,a))&&o.unshift(jr(n,s,u)):i||null!=(s=Ve(n,a))&&o.push(jr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Vr(){}var zr=null,Br=null;function qr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Wr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Hr="function"===typeof setTimeout?setTimeout:void 0,Kr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Qr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Yr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var $r=0;var Xr=Math.random().toString(36).slice(2),Jr="__reactFiber$"+Xr,Zr="__reactProps$"+Xr,ei="__reactContainer$"+Xr,ti="__reactEvents$"+Xr;function ni(e){var t=e[Jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Jr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Yr(e);null!==e;){if(n=e[Jr])return n;e=Yr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Jr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[Zr]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var ui=[],si=-1;function ci(e){return{current:e}}function li(e){0>si||(e.current=ui[si],ui[si]=null,si--)}function fi(e,t){si++,ui[si]=e.current,e.current=t}var hi={},di=ci(hi),pi=ci(!1),vi=hi;function yi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function mi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){li(pi),li(di)}function ki(e,t,n){if(di.current!==hi)throw Error(o(168));fi(di,t),fi(pi,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,G(t)||"Unknown",a));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,e),fi(pi,pi.current),!0}function Ei(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=bi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),fi(di,e)):li(pi),fi(pi,n)}var xi=null,Si=null,_i=a.unstable_runWithPriority,Ti=a.unstable_scheduleCallback,Oi=a.unstable_cancelCallback,Ii=a.unstable_shouldYield,Ci=a.unstable_requestPaint,Ni=a.unstable_now,Ai=a.unstable_getCurrentPriorityLevel,Pi=a.unstable_ImmediatePriority,Di=a.unstable_UserBlockingPriority,Ri=a.unstable_NormalPriority,Li=a.unstable_LowPriority,ji=a.unstable_IdlePriority,Mi={},Ui=void 0!==Ci?Ci:function(){},Fi=null,Vi=null,zi=!1,Bi=Ni(),qi=1e4>Bi?Ni:function(){return Ni()-Bi};function Wi(){switch(Ai()){case Pi:return 99;case Di:return 98;case Ri:return 97;case Li:return 96;case ji:return 95;default:throw Error(o(332))}}function Hi(e){switch(e){case 99:return Pi;case 98:return Di;case 97:return Ri;case 96:return Li;case 95:return ji;default:throw Error(o(332))}}function Ki(e,t){return e=Hi(e),_i(e,t)}function Gi(e,t,n){return e=Hi(e),Ti(e,t,n)}function Qi(){if(null!==Vi){var e=Vi;Vi=null,Oi(e)}Yi()}function Yi(){if(!zi&&null!==Fi){zi=!0;var e=0;try{var t=Fi;Ki(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Fi=null}catch(n){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ti(Pi,Qi),n}finally{zi=!1}}}var $i=w.ReactCurrentBatchConfig;function Xi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ji=ci(null),Zi=null,ea=null,ta=null;function na(){ta=ea=Zi=null}function ra(e){var t=Ji.current;li(Ji),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){Zi=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Mo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===Zi)throw Error(o(308));ea=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var ua=!1;function sa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ha(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;ua=!1;var o=a.firstBaseUpdate,u=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var c=s,l=c.next;c.next=null,null===u?o=l:u.next=l,u=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==u&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,u=0,f=l=c=null;;){s=o.lane;var d=o.eventTime;if((r&s)===s){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(s=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,s);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(s="function"===typeof(p=v.payload)?p.call(d,h,s):p)||void 0===s)break e;h=i({},h,s);break e;case 2:ua=!0}}null!==o.callback&&(e.flags|=32,null===(s=a.effects)?a.effects=[o]:s.push(o))}else d={eventTime:d,lane:s,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,u|=s;if(null===(o=o.next)){if(null===(s=a.shared.pending))break;o=s.next,s.next=null,a.lastBaseUpdate=s,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,zu|=u,e.lanes=u,e.memoizedState=h}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ya(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ma={isMounted:function(e){return!!(e=e._reactInternals)&&$e(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hs(),r=ds(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fa(e,i),ps(e,r,n)}};function ga(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,a))}function ka(e,t,n){var r=!1,i=hi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=mi(t)?vi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?yi(e,i):hi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ma,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ba(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ma.enqueueReplaceState(t,t.state,null)}function wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,sa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=mi(t)?vi:di.current,i.context=yi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ya(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ma.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var Ea=Array.isArray;function xa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Sa(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function _a(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ks(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function u(t){return e&&null===t.alternate&&(t.flags=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=$s(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=xa(e,t,n),r.return=e,r):((r=Gs(n.type,n.key,n.props,null,e.mode,r)).ref=xa(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Xs(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Qs(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=$s(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case E:return(n=Gs(t.type,t.key,t.props,null,e.mode,n)).ref=xa(e,null,t),n.return=e,n;case x:return(t=Xs(t,e.mode,n)).return=e,t}if(Ea(t)||B(t))return(t=Qs(t,e.mode,n,null)).return=e,t;Sa(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?n.type===S?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null}if(Ea(n)||B(n))return null!==i?null:f(e,t,n,r,null);Sa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case E:return e=e.get(null===r.key?n:r.key)||null,r.type===S?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Ea(r)||B(r))return f(t,e=e.get(n)||null,r,i,null);Sa(t,r)}return null}function v(i,o,u,s){for(var c=null,l=null,f=o,v=o=0,y=null;null!==f&&v<u.length;v++){f.index>v?(y=f,f=null):y=f.sibling;var m=d(i,f,u[v],s);if(null===m){null===f&&(f=y);break}e&&f&&null===m.alternate&&t(i,f),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m,f=y}if(v===u.length)return n(i,f),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<u.length;v++)null!==(y=p(f,i,v,u[v],s))&&(e&&null!==y.alternate&&f.delete(null===y.key?v:y.key),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y);return e&&f.forEach((function(e){return t(i,e)})),c}function y(i,u,s,c){var l=B(s);if("function"!==typeof l)throw Error(o(150));if(null==(s=l.call(s)))throw Error(o(151));for(var f=l=null,v=u,y=u=0,m=null,g=s.next();null!==v&&!g.done;y++,g=s.next()){v.index>y?(m=v,v=null):m=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=m);break}e&&v&&null===k.alternate&&t(i,v),u=a(k,u,y),null===f?l=k:f.sibling=k,f=k,v=m}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;y++,g=s.next())null!==(g=h(i,g.value,c))&&(u=a(g,u,y),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;y++,g=s.next())null!==(g=p(v,i,y,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?y:g.key),u=a(g,u,y),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,s){var c="object"===typeof a&&null!==a&&a.type===S&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case E:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===S){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=xa(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===S?((r=Qs(a.props.children,e.mode,s,a.key)).return=e,e=r):((s=Gs(a.type,a.key,a.props,null,e.mode,s)).ref=xa(e,r,a),s.return=e,e=s)}return u(e);case x:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Xs(a,e.mode,s)).return=e,e=r}return u(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=$s(a,e.mode,s)).return=e,e=r),u(e);if(Ea(a))return v(e,r,a,s);if(B(a))return y(e,r,a,s);if(l&&Sa(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(e.type)||"Component"))}return n(e,r)}}var Ta=_a(!0),Oa=_a(!1),Ia={},Ca=ci(Ia),Na=ci(Ia),Aa=ci(Ia);function Pa(e){if(e===Ia)throw Error(o(174));return e}function Da(e,t){switch(fi(Aa,t),fi(Na,e),fi(Ca,Ia),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Ca),fi(Ca,t)}function Ra(){li(Ca),li(Na),li(Aa)}function La(e){Pa(Aa.current);var t=Pa(Ca.current),n=pe(t,e.type);t!==n&&(fi(Na,e),fi(Ca,n))}function ja(e){Na.current===e&&(li(Ca),li(Na))}var Ma=ci(0);function Ua(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fa=null,Va=null,za=!1;function Ba(e,t){var n=Ws(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function qa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Wa(e){if(za){var t=Va;if(t){var n=t;if(!qa(e,t)){if(!(t=Qr(n.nextSibling))||!qa(e,t))return e.flags=-1025&e.flags|2,za=!1,void(Fa=e);Ba(Fa,n)}Fa=e,Va=Qr(t.firstChild)}else e.flags=-1025&e.flags|2,za=!1,Fa=e}}function Ha(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Fa=e}function Ka(e){if(e!==Fa)return!1;if(!za)return Ha(e),za=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Wr(t,e.memoizedProps))for(t=Va;t;)Ba(e,t),t=Qr(t.nextSibling);if(Ha(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Va=Qr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Va=null}}else Va=Fa?Qr(e.stateNode.nextSibling):null;return!0}function Ga(){Va=Fa=null,za=!1}var Qa=[];function Ya(){for(var e=0;e<Qa.length;e++)Qa[e]._workInProgressVersionPrimary=null;Qa.length=0}var $a=w.ReactCurrentDispatcher,Xa=w.ReactCurrentBatchConfig,Ja=0,Za=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if(Ja=a,Za=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$a.current=null===e||null===e.memoizedState?Do:Ro,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,$a.current=Lo,e=n(r,i)}while(ro)}if($a.current=Po,t=null!==eo&&null!==eo.next,Ja=0,to=eo=Za=null,no=!1,t)throw Error(o(300));return e}function uo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Za.memoizedState=to=e:to=to.next=e,to}function so(){if(null===eo){var e=Za.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Za.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Za.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var u=i.next;i.next=a.next,a.next=u}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=u=a=null,c=i;do{var l=c.lane;if((Ja&l)===l)null!==s&&(s=s.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===s?(u=s=f,a=r):s=s.next=f,Za.lanes|=l,zu|=l}c=c.next}while(null!==c&&c!==i);null===s?a=r:s.next=u,lr(r,t.memoizedState)||(Mo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{a=e(a,u.action),u=u.next}while(u!==i);lr(a,t.memoizedState)||(Mo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Ja&e)===e)&&(t._workInProgressVersionPrimary=r,Qa.push(t))),e)return n(t._source);throw Qa.push(t),Error(o(350))}function po(e,t,n,r){var i=Du;if(null===i)throw Error(o(349));var a=t._getVersion,u=a(t._source),s=$a.current,c=s.useState((function(){return ho(i,t,n)})),l=c[1],f=c[0];c=to;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var y=Za;return e.memoizedState={refs:d,source:t,subscribe:r},s.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!lr(u,e)){e=n(t._source),lr(f,e)||(l(e),e=ds(y),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var s=31-Wt(o),c=1<<s;r[s]|=e,o&=~c}}}),[n,t,r]),s.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=ds(y);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:f}).dispatch=l=Ao.bind(null,Za,e),c.queue=e,c.baseQueue=null,f=ho(i,t,n),c.memoizedState=c.baseState=f),f}function vo(e,t,n){return po(so(),e,t,n)}function yo(e){var t=uo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=Ao.bind(null,Za,e),[t.memoizedState,e]}function mo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Za.updateQueue)?(t={lastEffect:null},Za.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function go(e){return e={current:e},uo().memoizedState=e}function ko(){return so().memoizedState}function bo(e,t,n,r){var i=uo();Za.flags|=e,i.memoizedState=mo(1|t,n,void 0,void 0===r?null:r)}function wo(e,t,n,r){var i=so();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void mo(t,n,a,r)}Za.flags|=e,i.memoizedState=mo(1|t,n,a,r)}function Eo(e,t){return bo(516,4,e,t)}function xo(e,t){return wo(516,4,e,t)}function So(e,t){return wo(4,2,e,t)}function _o(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function To(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,_o.bind(null,t,e),n)}function Oo(){}function Io(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Co(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function No(e,t){var n=Wi();Ki(98>n?98:n,(function(){e(!0)})),Ki(97<n?97:n,(function(){var n=Xa.transition;Xa.transition=1;try{e(!1),t()}finally{Xa.transition=n}}))}function Ao(e,t,n){var r=hs(),i=ds(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Za||null!==o&&o===Za)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var u=t.lastRenderedState,s=o(u,n);if(a.eagerReducer=o,a.eagerState=s,lr(s,u))return}catch(c){}ps(e,i,r)}}var Po={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Do={readContext:oa,useCallback:function(e,t){return uo().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:Eo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,_o.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bo(4,2,e,t)},useMemo:function(e,t){var n=uo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=uo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ao.bind(null,Za,e),[r.memoizedState,e]},useRef:go,useState:yo,useDebugValue:Oo,useDeferredValue:function(e){var t=yo(e),n=t[0],r=t[1];return Eo((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=yo(!1),t=e[0];return go(e=No.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=uo();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(za){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+($r++).toString(36))),Error(o(355))})),n=yo(t)[1];return 0===(2&Za.mode)&&(Za.flags|=516,mo(5,(function(){n("r:"+($r++).toString(36))}),void 0,null)),t}return yo(t="r:"+($r++).toString(36)),t},unstable_isNewReconciler:!1},Ro={readContext:oa,useCallback:Io,useContext:oa,useEffect:xo,useImperativeHandle:To,useLayoutEffect:So,useMemo:Co,useReducer:lo,useRef:ko,useState:function(){return lo(co)},useDebugValue:Oo,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return xo((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},Lo={readContext:oa,useCallback:Io,useContext:oa,useEffect:xo,useImperativeHandle:To,useLayoutEffect:So,useMemo:Co,useReducer:fo,useRef:ko,useState:function(){return fo(co)},useDebugValue:Oo,useDeferredValue:function(e){var t=fo(co),n=t[0],r=t[1];return xo((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=fo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return fo(co)[0]},unstable_isNewReconciler:!1},jo=w.ReactCurrentOwner,Mo=!1;function Uo(e,t,n,r){t.child=null===e?Oa(t,null,n,r):Ta(t,e.child,n,r)}function Fo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||Mo?(t.flags|=1,Uo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Vo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Hs(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gs(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,zo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?au(e,t,a):(t.flags|=1,(e=Ks(o,r)).ref=t.ref,e.return=t,t.child=e)}function zo(e,t,n,r,i,a){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(Mo=!1,0===(a&i))return t.lanes=e.lanes,au(e,t,a);0!==(16384&e.flags)&&(Mo=!0)}return Wo(e,t,n,r,a)}function Bo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},Es(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Es(t,e),null;t.memoizedState={baseLanes:0},Es(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Es(t,r);return Uo(e,t,i,n),t.child}function qo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Wo(e,t,n,r,i){var a=mi(n)?vi:di.current;return a=yi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||Mo?(t.flags|=1,Uo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Ho(e,t,n,r,i){if(mi(n)){var a=!0;wi(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ka(t,n,r),wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oa(c):c=yi(t,c=mi(n)?vi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&ba(t,o,r,c),ua=!1;var h=t.memoizedState;o.state=h,da(t,r,o,i),s=t.memoizedState,u!==r||h!==s||pi.current||ua?("function"===typeof l&&(ya(t,n,l,r),s=t.memoizedState),(u=ua||ga(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ca(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:Xi(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=oa(s):s=yi(t,s=mi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&ba(t,o,r,s),ua=!1,h=t.memoizedState,o.state=h,da(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||pi.current||ua?("function"===typeof d&&(ya(t,n,d,r),p=t.memoizedState),(c=ua||ga(t,n,c,r,h,p,s))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Ko(e,t,n,r,a,i)}function Ko(e,t,n,r,i,a){qo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&Ei(t,n,!1),au(e,t,a);r=t.stateNode,jo.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ta(t,e.child,null,a),t.child=Ta(t,null,u,a)):Uo(e,t,u,a),t.memoizedState=r.state,i&&Ei(t,n,!0),t.child}function Go(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),Da(e,t.containerInfo)}var Qo,Yo,$o,Xo={dehydrated:null,retryLane:0};function Jo(e,t,n){var r,i=t.pendingProps,a=Ma.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),fi(Ma,1&a),null===e?(void 0!==i.fallback&&Wa(t),e=i.children,a=i.fallback,o?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xo,e):"number"===typeof i.unstable_expectedLoadTime?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xo,t.lanes=33554432,e):((n=Ys({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=tu(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Xo,i):(n=eu(e,t,i.children,n),t.memoizedState=null,n))}function Zo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Ys(t,i,0,null),n=Qs(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function eu(e,t,n,r){var i=e.child;return e=i.sibling,n=Ks(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function tu(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var u={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=u,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Ks(o,u),null!==e?r=Ks(e,r):(r=Qs(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function nu(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function ru(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function iu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Uo(e,t,r.children,n),0!==(2&(r=Ma.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&nu(e,n);else if(19===e.tag)nu(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(Ma,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Ua(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ru(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Ua(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ru(t,!0,n,null,a,t.lastEffect);break;case"together":ru(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function au(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),zu|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ks(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ks(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ou(e,t){if(!za)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function uu(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return mi(t.type)&&gi(),null;case 3:return Ra(),li(pi),li(di),Ya(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ka(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:ja(t);var a=Pa(Aa.current);if(n=t.type,null!==e&&null!=t.stateNode)Yo(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Pa(Ca.current),Ka(t)){r=t.stateNode,n=t.type;var u=t.memoizedProps;switch(r[Jr]=t,r[Zr]=u,n){case"dialog":Nr("cancel",r),Nr("close",r);break;case"iframe":case"object":case"embed":Nr("load",r);break;case"video":case"audio":for(e=0;e<Tr.length;e++)Nr(Tr[e],r);break;case"source":Nr("error",r);break;case"img":case"image":case"link":Nr("error",r),Nr("load",r);break;case"details":Nr("toggle",r);break;case"input":ee(r,u),Nr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!u.multiple},Nr("invalid",r);break;case"textarea":se(r,u),Nr("invalid",r)}for(var c in Se(n,u),e=null,u)u.hasOwnProperty(c)&&(a=u[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):s.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Nr("scroll",r));switch(n){case"input":$(r),re(r,u,!0);break;case"textarea":$(r),le(r);break;case"select":case"option":break;default:"function"===typeof u.onClick&&(r.onclick=Vr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Jr]=t,e[Zr]=r,Qo(e,t),t.stateNode=e,c=_e(n,r),n){case"dialog":Nr("cancel",e),Nr("close",e),a=r;break;case"iframe":case"object":case"embed":Nr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Tr.length;a++)Nr(Tr[a],e);a=r;break;case"source":Nr("error",e),a=r;break;case"img":case"image":case"link":Nr("error",e),Nr("load",e),a=r;break;case"details":Nr("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),Nr("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Nr("invalid",e);break;case"textarea":se(e,r),a=ue(e,r),Nr("invalid",e);break;default:a=r}Se(n,a);var l=a;for(u in l)if(l.hasOwnProperty(u)){var f=l[u];"style"===u?Ee(e,f):"dangerouslySetInnerHTML"===u?null!=(f=f?f.__html:void 0)&&me(e,f):"children"===u?"string"===typeof f?("textarea"!==n||""!==f)&&ge(e,f):"number"===typeof f&&ge(e,""+f):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?null!=f&&"onScroll"===u&&Nr("scroll",e):null!=f&&b(e,u,f,c))}switch(n){case"input":$(e),re(e,r,!1);break;case"textarea":$(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(u=r.value)?oe(e,!!r.multiple,u,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Vr)}qr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)$o(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Pa(Aa.current),Pa(Ca.current),Ka(t)?(r=t.stateNode,n=t.memoizedProps,r[Jr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Jr]=t,t.stateNode=r)}return null;case 13:return li(Ma),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ka(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Ma.current)?0===Uu&&(Uu=3):(0!==Uu&&3!==Uu||(Uu=4),null===Du||0===(134217727&zu)&&0===(134217727&Bu)||gs(Du,Lu))),(r||n)&&(t.flags|=4),null);case 4:return Ra(),null===e&&Pr(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(li(Ma),null===(r=t.memoizedState))return null;if(u=0!==(64&t.flags),null===(c=r.rendering))if(u)ou(r,!1);else{if(0!==Uu||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Ua(e))){for(t.flags|=64,ou(r,!1),null!==(u=c.updateQueue)&&(t.updateQueue=u,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(u=n).flags&=2,u.nextEffect=null,u.firstEffect=null,u.lastEffect=null,null===(c=u.alternate)?(u.childLanes=0,u.lanes=e,u.child=null,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=c.childLanes,u.lanes=c.lanes,u.child=c.child,u.memoizedProps=c.memoizedProps,u.memoizedState=c.memoizedState,u.updateQueue=c.updateQueue,u.type=c.type,e=c.dependencies,u.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(Ma,1&Ma.current|2),t.child}e=e.sibling}null!==r.tail&&qi()>Ku&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432)}else{if(!u)if(null!==(e=Ua(c))){if(t.flags|=64,u=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ou(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!za)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*qi()-r.renderingStartTime>Ku&&1073741824!==n&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=qi(),n.sibling=null,t=Ma.current,fi(Ma,u?1&t|2:1&t),n):null;case 23:case 24:return xs(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function su(e){switch(e.tag){case 1:mi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Ra(),li(pi),li(di),Ya(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return ja(e),null;case 13:return li(Ma),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Ma),null;case 4:return Ra(),null;case 10:return ra(e),null;case 23:case 24:return xs(),null;default:return null}}function cu(e,t){try{var n="",r=t;do{n+=K(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function lu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Qo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Yo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Pa(Ca.current);var o,u=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),u=[];break;case"option":a=ae(e,a),r=ae(e,r),u=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),u=[];break;case"textarea":a=ue(e,a),r=ue(e,r),u=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Vr)}for(f in Se(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(s.hasOwnProperty(f)?u||(u=[]):(u=u||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(u||(u=[]),u.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(u=u||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(u=u||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(s.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Nr("scroll",e),u||c===l||(u=[])):"object"===typeof l&&null!==l&&l.$$typeof===L?l.toString():(u=u||[]).push(f,l))}n&&(u=u||[]).push("style",n);var f=u;(t.updateQueue=f)&&(t.flags|=4)}},$o=function(e,t,n,r){n!==r&&(t.flags|=4)};var fu="function"===typeof WeakMap?WeakMap:Map;function hu(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){$u||($u=!0,Xu=r),lu(0,t)},n}function du(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return lu(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Ju?Ju=new Set([this]):Ju.add(this),lu(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var pu="function"===typeof WeakSet?WeakSet:Set;function vu(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Vs(e,n)}else t.current=null}function yu(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Xi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(o(163))}function mu(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Ms(n,e),js(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Xi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&qr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Et(n)))))}throw Error(o(163))}function gu(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ku(e,t){if(Si&&"function"===typeof Si.onCommitFiberUnmount)try{Si.onCommitFiberUnmount(xi,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Ms(t,n);else{r=t;try{i()}catch(a){Vs(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vu(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Vs(t,a)}break;case 5:vu(t);break;case 4:_u(e,t)}}function bu(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function wu(e){return 5===e.tag||3===e.tag||4===e.tag}function Eu(e){e:{for(var t=e.return;null!==t;){if(wu(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||wu(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?xu(e,n,t):Su(e,n,t)}function xu(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Vr));else if(4!==r&&null!==(e=e.child))for(xu(e,t,n),e=e.sibling;null!==e;)xu(e,t,n),e=e.sibling}function Su(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Su(e,t,n),e=e.sibling;null!==e;)Su(e,t,n),e=e.sibling}function _u(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var u=e,s=i,c=s;;)if(ku(u,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===s)break e;for(;null===c.sibling;){if(null===c.return||c.return===s)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(u=n,s=i.stateNode,8===u.nodeType?u.parentNode.removeChild(s):u.removeChild(s)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ku(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Tu(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),_e(e,i),t=_e(e,r),i=0;i<a.length;i+=2){var u=a[i],s=a[i+1];"style"===u?Ee(n,s):"dangerouslySetInnerHTML"===u?me(n,s):"children"===u?ge(n,s):b(n,u,s,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,Et(n.containerInfo)));case 13:return null!==t.memoizedState&&(Hu=qi(),gu(t.child,!0)),void Ou(t);case 19:return void Ou(t);case 23:case 24:return void gu(t,null!==t.memoizedState)}throw Error(o(163))}function Ou(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new pu),t.forEach((function(t){var r=Bs.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Iu(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Cu=Math.ceil,Nu=w.ReactCurrentDispatcher,Au=w.ReactCurrentOwner,Pu=0,Du=null,Ru=null,Lu=0,ju=0,Mu=ci(0),Uu=0,Fu=null,Vu=0,zu=0,Bu=0,qu=0,Wu=null,Hu=0,Ku=1/0;function Gu(){Ku=qi()+500}var Qu,Yu=null,$u=!1,Xu=null,Ju=null,Zu=!1,es=null,ts=90,ns=[],rs=[],is=null,as=0,os=null,us=-1,ss=0,cs=0,ls=null,fs=!1;function hs(){return 0!==(48&Pu)?qi():-1!==us?us:us=qi()}function ds(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Wi()?1:2;if(0===ss&&(ss=Vu),0!==$i.transition){0!==cs&&(cs=null!==Wu?Wu.pendingLanes:0),e=ss;var t=4186112&~cs;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Wi(),0!==(4&Pu)&&98===e?e=Vt(12,ss):e=Vt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ss),e}function ps(e,t,n){if(50<as)throw as=0,os=null,Error(o(185));if(null===(e=vs(e,t)))return null;qt(e,t,n),e===Du&&(Bu|=t,4===Uu&&gs(e,Lu));var r=Wi();1===t?0!==(8&Pu)&&0===(48&Pu)?ks(e):(ys(e,n),0===Pu&&(Gu(),Qi())):(0===(4&Pu)||98!==r&&99!==r||(null===is?is=new Set([e]):is.add(e)),ys(e,n)),Wu=e}function vs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function ys(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,u=e.pendingLanes;0<u;){var s=31-Wt(u),c=1<<s,l=a[s];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Mt(c);var f=jt;a[s]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);u&=~c}if(r=Ut(e,e===Du?Lu:0),t=jt,0===r)null!==n&&(n!==Mi&&Oi(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Mi&&Oi(n)}15===t?(n=ks.bind(null,e),null===Fi?(Fi=[n],Vi=Ti(Pi,Yi)):Fi.push(n),n=Mi):14===t?n=Gi(99,ks.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Gi(n,ms.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function ms(e){if(us=-1,cs=ss=0,0!==(48&Pu))throw Error(o(327));var t=e.callbackNode;if(Ls()&&e.callbackNode!==t)return null;var n=Ut(e,e===Du?Lu:0);if(0===n)return null;var r=n,i=Pu;Pu|=16;var a=Ts();for(Du===e&&Lu===r||(Gu(),Ss(e,r));;)try{Cs();break}catch(s){_s(e,s)}if(na(),Nu.current=a,Pu=i,null!==Ru?r=0:(Du=null,Lu=0,r=Uu),0!==(Vu&Bu))Ss(e,0);else if(0!==r){if(2===r&&(Pu|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=Ft(e))&&(r=Os(e,n))),1===r)throw t=Fu,Ss(e,0),gs(e,n),ys(e,qi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Ps(e);break;case 3:if(gs(e,n),(62914560&n)===n&&10<(r=Hu+500-qi())){if(0!==Ut(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Hr(Ps.bind(null,e),r);break}Ps(e);break;case 4:if(gs(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var u=31-Wt(n);a=1<<u,(u=r[u])>i&&(i=u),n&=~a}if(n=i,10<(n=(120>(n=qi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Cu(n/1960))-n)){e.timeoutHandle=Hr(Ps.bind(null,e),n);break}Ps(e);break;default:throw Error(o(329))}}return ys(e,qi()),e.callbackNode===t?ms.bind(null,e):null}function gs(e,t){for(t&=~qu,t&=~Bu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wt(t),r=1<<n;e[n]=-1,t&=~r}}function ks(e){if(0!==(48&Pu))throw Error(o(327));if(Ls(),e===Du&&0!==(e.expiredLanes&Lu)){var t=Lu,n=Os(e,t);0!==(Vu&Bu)&&(n=Os(e,t=Ut(e,t)))}else n=Os(e,t=Ut(e,0));if(0!==e.tag&&2===n&&(Pu|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=Ft(e))&&(n=Os(e,t))),1===n)throw n=Fu,Ss(e,0),gs(e,t),ys(e,qi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ps(e),ys(e,qi()),null}function bs(e,t){var n=Pu;Pu|=1;try{return e(t)}finally{0===(Pu=n)&&(Gu(),Qi())}}function ws(e,t){var n=Pu;Pu&=-2,Pu|=8;try{return e(t)}finally{0===(Pu=n)&&(Gu(),Qi())}}function Es(e,t){fi(Mu,ju),ju|=t,Vu|=t}function xs(){ju=Mu.current,li(Mu)}function Ss(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Kr(n)),null!==Ru)for(n=Ru.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:Ra(),li(pi),li(di),Ya();break;case 5:ja(r);break;case 4:Ra();break;case 13:case 19:li(Ma);break;case 10:ra(r);break;case 23:case 24:xs()}n=n.return}Du=e,Ru=Ks(e.current,null),Lu=ju=Vu=t,Uu=0,Fu=null,qu=Bu=zu=0}function _s(e,t){for(;;){var n=Ru;try{if(na(),$a.current=Po,no){for(var r=Za.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if(Ja=0,to=eo=Za=null,ro=!1,Au.current=null,null===n||null===n.return){Uu=1,Fu=t,Ru=null;break}e:{var a=e,o=n.return,u=n,s=t;if(t=Lu,u.flags|=2048,u.firstEffect=u.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var c=s;if(0===(2&u.mode)){var l=u.alternate;l?(u.updateQueue=l.updateQueue,u.memoizedState=l.memoizedState,u.lanes=l.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=0!==(1&Ma.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var y=h.updateQueue;if(null===y){var m=new Set;m.add(c),h.updateQueue=m}else y.add(c);if(0===(2&h.mode)){if(h.flags|=64,u.flags|=16384,u.flags&=-2981,1===u.tag)if(null===u.alternate)u.tag=17;else{var g=la(-1,1);g.tag=2,fa(u,g)}u.lanes|=1;break e}s=void 0,u=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new fu,s=new Set,k.set(c,s)):void 0===(s=k.get(c))&&(s=new Set,k.set(c,s)),!s.has(u)){s.add(u);var b=zs.bind(null,a,c,u);c.then(b,b)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);s=Error((G(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Uu&&(Uu=2),s=cu(s,u),h=o;do{switch(h.tag){case 3:a=s,h.flags|=4096,t&=-t,h.lanes|=t,ha(h,hu(0,a,t));break e;case 1:a=s;var w=h.type,E=h.stateNode;if(0===(64&h.flags)&&("function"===typeof w.getDerivedStateFromError||null!==E&&"function"===typeof E.componentDidCatch&&(null===Ju||!Ju.has(E)))){h.flags|=4096,t&=-t,h.lanes|=t,ha(h,du(h,a,t));break e}}h=h.return}while(null!==h)}As(n)}catch(x){t=x,Ru===n&&null!==n&&(Ru=n=n.return);continue}break}}function Ts(){var e=Nu.current;return Nu.current=Po,null===e?Po:e}function Os(e,t){var n=Pu;Pu|=16;var r=Ts();for(Du===e&&Lu===t||Ss(e,t);;)try{Is();break}catch(i){_s(e,i)}if(na(),Pu=n,Nu.current=r,null!==Ru)throw Error(o(261));return Du=null,Lu=0,Uu}function Is(){for(;null!==Ru;)Ns(Ru)}function Cs(){for(;null!==Ru&&!Ii();)Ns(Ru)}function Ns(e){var t=Qu(e.alternate,e,ju);e.memoizedProps=e.pendingProps,null===t?As(e):Ru=t,Au.current=null}function As(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=uu(n,t,ju)))return void(Ru=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&ju)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=su(t)))return n.flags&=2047,void(Ru=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ru=t);Ru=t=e}while(null!==t);0===Uu&&(Uu=5)}function Ps(e){var t=Wi();return Ki(99,Ds.bind(null,e,t)),null}function Ds(e,t){do{Ls()}while(null!==es);if(0!==(48&Pu))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var u=e.eventTimes,s=e.expirationTimes;0<a;){var c=31-Wt(a),l=1<<c;i[c]=0,u[c]=-1,s[c]=-1,a&=~l}if(null!==is&&0===(24&r)&&is.has(e)&&is.delete(e),e===Du&&(Ru=Du=null,Lu=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Pu,Pu|=32,Au.current=null,zr=Yt,mr(u=yr())){if("selectionStart"in u)s={start:u.selectionStart,end:u.selectionEnd};else e:if(s=(s=u.ownerDocument)&&s.defaultView||window,(l=s.getSelection&&s.getSelection())&&0!==l.rangeCount){s=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{s.nodeType,c.nodeType}catch(T){s=null;break e}var f=0,h=-1,d=-1,p=0,v=0,y=u,m=null;t:for(;;){for(var g;y!==s||0!==a&&3!==y.nodeType||(h=f+a),y!==c||0!==l&&3!==y.nodeType||(d=f+l),3===y.nodeType&&(f+=y.nodeValue.length),null!==(g=y.firstChild);)m=y,y=g;for(;;){if(y===u)break t;if(m===s&&++p===a&&(h=f),m===c&&++v===l&&(d=f),null!==(g=y.nextSibling))break;m=(y=m).parentNode}y=g}s=-1===h||-1===d?null:{start:h,end:d}}else s=null;s=s||{start:0,end:0}}else s=null;Br={focusedElem:u,selectionRange:s},Yt=!1,ls=null,fs=!1,Yu=r;do{try{Rs()}catch(T){if(null===Yu)throw Error(o(330));Vs(Yu,T),Yu=Yu.nextEffect}}while(null!==Yu);ls=null,Yu=r;do{try{for(u=e;null!==Yu;){var k=Yu.flags;if(16&k&&ge(Yu.stateNode,""),128&k){var b=Yu.alternate;if(null!==b){var w=b.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&k){case 2:Eu(Yu),Yu.flags&=-3;break;case 6:Eu(Yu),Yu.flags&=-3,Tu(Yu.alternate,Yu);break;case 1024:Yu.flags&=-1025;break;case 1028:Yu.flags&=-1025,Tu(Yu.alternate,Yu);break;case 4:Tu(Yu.alternate,Yu);break;case 8:_u(u,s=Yu);var E=s.alternate;bu(s),null!==E&&bu(E)}Yu=Yu.nextEffect}}catch(T){if(null===Yu)throw Error(o(330));Vs(Yu,T),Yu=Yu.nextEffect}}while(null!==Yu);if(w=Br,b=yr(),k=w.focusedElem,u=w.selectionRange,b!==k&&k&&k.ownerDocument&&vr(k.ownerDocument.documentElement,k)){null!==u&&mr(k)&&(b=u.start,void 0===(w=u.end)&&(w=b),"selectionStart"in k?(k.selectionStart=b,k.selectionEnd=Math.min(w,k.value.length)):(w=(b=k.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),s=k.textContent.length,E=Math.min(u.start,s),u=void 0===u.end?E:Math.min(u.end,s),!w.extend&&E>u&&(s=u,u=E,E=s),s=pr(k,E),a=pr(k,u),s&&a&&(1!==w.rangeCount||w.anchorNode!==s.node||w.anchorOffset!==s.offset||w.focusNode!==a.node||w.focusOffset!==a.offset)&&((b=b.createRange()).setStart(s.node,s.offset),w.removeAllRanges(),E>u?(w.addRange(b),w.extend(a.node,a.offset)):(b.setEnd(a.node,a.offset),w.addRange(b))))),b=[];for(w=k;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<b.length;k++)(w=b[k]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Yt=!!zr,Br=zr=null,e.current=n,Yu=r;do{try{for(k=e;null!==Yu;){var x=Yu.flags;if(36&x&&mu(k,Yu.alternate,Yu),128&x){b=void 0;var S=Yu.ref;if(null!==S){var _=Yu.stateNode;Yu.tag,b=_,"function"===typeof S?S(b):S.current=b}}Yu=Yu.nextEffect}}catch(T){if(null===Yu)throw Error(o(330));Vs(Yu,T),Yu=Yu.nextEffect}}while(null!==Yu);Yu=null,Ui(),Pu=i}else e.current=n;if(Zu)Zu=!1,es=e,ts=t;else for(Yu=r;null!==Yu;)t=Yu.nextEffect,Yu.nextEffect=null,8&Yu.flags&&((x=Yu).sibling=null,x.stateNode=null),Yu=t;if(0===(r=e.pendingLanes)&&(Ju=null),1===r?e===os?as++:(as=0,os=e):as=0,n=n.stateNode,Si&&"function"===typeof Si.onCommitFiberRoot)try{Si.onCommitFiberRoot(xi,n,void 0,64===(64&n.current.flags))}catch(T){}if(ys(e,qi()),$u)throw $u=!1,e=Xu,Xu=null,e;return 0!==(8&Pu)||Qi(),null}function Rs(){for(;null!==Yu;){var e=Yu.alternate;fs||null===ls||(0!==(8&Yu.flags)?et(Yu,ls)&&(fs=!0):13===Yu.tag&&Iu(e,Yu)&&et(Yu,ls)&&(fs=!0));var t=Yu.flags;0!==(256&t)&&yu(e,Yu),0===(512&t)||Zu||(Zu=!0,Gi(97,(function(){return Ls(),null}))),Yu=Yu.nextEffect}}function Ls(){if(90!==ts){var e=97<ts?97:ts;return ts=90,Ki(e,Us)}return!1}function js(e,t){ns.push(t,e),Zu||(Zu=!0,Gi(97,(function(){return Ls(),null})))}function Ms(e,t){rs.push(t,e),Zu||(Zu=!0,Gi(97,(function(){return Ls(),null})))}function Us(){if(null===es)return!1;var e=es;if(es=null,0!==(48&Pu))throw Error(o(331));var t=Pu;Pu|=32;var n=rs;rs=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],u=i.destroy;if(i.destroy=void 0,"function"===typeof u)try{u()}catch(c){if(null===a)throw Error(o(330));Vs(a,c)}}for(n=ns,ns=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var s=i.create;i.destroy=s()}catch(c){if(null===a)throw Error(o(330));Vs(a,c)}}for(s=e.current.firstEffect;null!==s;)e=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=e;return Pu=t,Qi(),!0}function Fs(e,t,n){fa(e,t=hu(0,t=cu(n,t),1)),t=hs(),null!==(e=vs(e,1))&&(qt(e,1,t),ys(e,t))}function Vs(e,t){if(3===e.tag)Fs(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Fs(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ju||!Ju.has(r))){var i=du(n,e=cu(t,e),1);if(fa(n,i),i=hs(),null!==(n=vs(n,1)))qt(n,1,i),ys(n,i);else if("function"===typeof r.componentDidCatch&&(null===Ju||!Ju.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function zs(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hs(),e.pingedLanes|=e.suspendedLanes&n,Du===e&&(Lu&n)===n&&(4===Uu||3===Uu&&(62914560&Lu)===Lu&&500>qi()-Hu?Ss(e,0):qu|=n),ys(e,t)}function Bs(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Wi()?1:2:(0===ss&&(ss=Vu),0===(t=zt(62914560&~ss))&&(t=4194304))),n=hs(),null!==(e=vs(e,t))&&(qt(e,t,n),ys(e,n))}function qs(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ws(e,t,n,r){return new qs(e,t,n,r)}function Hs(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ks(e,t){var n=e.alternate;return null===n?((n=Ws(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gs(e,t,n,r,i,a){var u=2;if(r=e,"function"===typeof e)Hs(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case S:return Qs(n.children,i,a,t);case j:u=8,i|=16;break;case _:u=8,i|=1;break;case T:return(e=Ws(12,n,t,8|i)).elementType=T,e.type=T,e.lanes=a,e;case N:return(e=Ws(13,n,t,i)).type=N,e.elementType=N,e.lanes=a,e;case A:return(e=Ws(19,n,t,i)).elementType=A,e.lanes=a,e;case M:return Ys(n,i,a,t);case U:return(e=Ws(24,n,t,i)).elementType=U,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case O:u=10;break e;case I:u=9;break e;case C:u=11;break e;case P:u=14;break e;case D:u=16,r=null;break e;case R:u=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ws(u,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Qs(e,t,n,r){return(e=Ws(7,e,r,t)).lanes=n,e}function Ys(e,t,n,r){return(e=Ws(23,e,r,t)).elementType=M,e.lanes=n,e}function $s(e,t,n){return(e=Ws(6,e,null,t)).lanes=n,e}function Xs(e,t,n){return(t=Ws(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Js(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Bt(0),this.expirationTimes=Bt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bt(0),this.mutableSourceEagerHydrationData=null}function Zs(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,a=hs(),u=ds(i);e:if(n){t:{if($e(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(mi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(o(171))}if(1===n.tag){var c=n.type;if(mi(c)){n=bi(n,c,s);break e}}n=s}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,u)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(i,t),ps(i,u,a),u}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Js(e,t,null!=n&&!0===n.hydrate),t=Ws(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,sa(t),e[ei]=n.current,Pr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var u=i;i=function(){var e=tc(o);u.call(e)}}ec(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var s=i;i=function(){var e=tc(o);s.call(e)}}ws((function(){ec(t,o,e,i)}))}return tc(o)}function uc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(o(200));return Zs(e,t,null,n)}Qu=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Mo=!0;else{if(0===(n&r)){switch(Mo=!1,t.tag){case 3:Go(t),Ga();break;case 5:La(t);break;case 1:mi(t.type)&&wi(t);break;case 4:Da(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi(Ji,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Jo(e,t,n):(fi(Ma,1&Ma.current),null!==(t=au(e,t,n))?t.sibling:null);fi(Ma,1&Ma.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return iu(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(Ma,Ma.current),r)break;return null;case 23:case 24:return t.lanes=0,Bo(e,t,n)}return au(e,t,n)}Mo=0!==(16384&e.flags)}else Mo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=yi(t,di.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,mi(r)){var a=!0;wi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,sa(t);var u=r.getDerivedStateFromProps;"function"===typeof u&&ya(t,r,u,e),i.updater=ma,t.stateNode=i,i._reactInternals=t,wa(t,r,e,n),t=Ko(null,t,r,!0,a,n)}else t.tag=0,Uo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Hs(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===P)return 14}return 2}(i),e=Xi(i,e),a){case 0:t=Wo(null,t,i,e,n);break e;case 1:t=Ho(null,t,i,e,n);break e;case 11:t=Fo(null,t,i,e,n);break e;case 14:t=Vo(null,t,i,Xi(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Wo(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ho(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 3:if(Go(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ca(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Ga(),t=au(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Va=Qr(t.stateNode.containerInfo.firstChild),Fa=t,a=za=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Qa.push(a);for(n=Oa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Uo(e,t,r,n),Ga();t=t.child}return t;case 5:return La(t),null===e&&Wa(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,u=i.children,Wr(r,i)?u=null:null!==a&&Wr(r,a)&&(t.flags|=16),qo(e,t),Uo(e,t,u,n),t.child;case 6:return null===e&&Wa(t),null;case 13:return Jo(e,t,n);case 4:return Da(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ta(t,null,r,n):Uo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Fo(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 7:return Uo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Uo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,u=t.memoizedProps,a=i.value;var s=t.type._context;if(fi(Ji,s._currentValue),s._currentValue=a,null!==u)if(s=u.value,0===(a=lr(s,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(s,a):1073741823))){if(u.children===i.children&&!pi.current){t=au(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){u=s.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===s.tag&&((l=la(-1,n&-n)).tag=2,fa(s,l)),s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),ia(s.return,n),c.lanes|=n;break}l=l.next}}else u=10===s.tag&&s.type===t.type?null:s.child;if(null!==u)u.return=s;else for(u=s;null!==u;){if(u===t){u=null;break}if(null!==(s=u.sibling)){s.return=u.return,u=s;break}u=u.return}s=u}Uo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,Uo(e,t,r,n),t.child;case 14:return a=Xi(i=t.type,t.pendingProps),Vo(e,t,i,a=Xi(i.type,a),r,n);case 15:return zo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,mi(r)?(e=!0,wi(t)):e=!1,aa(t,n),ka(t,r,i),wa(t,r,i,n),Ko(null,t,r,!0,e,n);case 19:return iu(e,t,n);case 23:case 24:return Bo(e,t,n)}throw Error(o(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(ps(e,4,hs()),rc(e,4))},nt=function(e){13===e.tag&&(ps(e,67108864,hs()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hs(),n=ds(e);ps(e,n,t),rc(e,n)}},it=function(e,t){return t()},Oe=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));X(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},De=bs,Re=function(e,t,n,r,i){var a=Pu;Pu|=4;try{return Ki(98,e.bind(null,t,n,r,i))}finally{0===(Pu=a)&&(Gu(),Qi())}},Le=function(){0===(49&Pu)&&(function(){if(null!==is){var e=is;is=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,ys(e,qi())}))}Qi()}(),Ls())},je=function(e,t){var n=Pu;Pu|=2;try{return e(t)}finally{0===(Pu=n)&&(Gu(),Qi())}};var sc={Events:[ri,ii,ai,Ae,Pe,Ls,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{xi=fc.inject(lc),Si=fc}catch(ye){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sc,t.createPortal=uc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Pu;if(0!==(48&n))return e(t);Pu|=1;try{if(e)return Ki(99,e.bind(null,t))}finally{Pu=n,Qi()}},t.hydrate=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ac(e))throw Error(o(40));return!!e._reactRootContainer&&(ws((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=bs,t.unstable_createPortal=function(e,t){return uc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ac(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)u.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,u=60110,s=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),u=f("react.context"),s=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function m(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},m.prototype=y.prototype;var k=g.prototype=new m;k.constructor=g,r(k,y.prototype),k.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function x(e,t,n){var r,a={},o=null,u=null;if(null!=t)for(r in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!E.hasOwnProperty(r)&&(a[r]=t[r]);var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===a[r]&&(a[r]=s[r]);return{$$typeof:i,type:e,key:o,ref:u,props:a,_owner:b.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var _=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function O(e,t,n,r,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case i:case a:s=!0}}if(s)return o=o(s=e),e=""===r?"."+T(s,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(_,"$&/")+"/"),O(o,t,n,"",(function(e){return e}))):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(_,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+T(u=e[c],c);s+=O(u,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=O(u=u.value,t,n,l=r+T(u,c++),o);else if("object"===u)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function I(e,t,n){if(null==e)return e;var r=[],i=0;return O(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function C(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var N={current:null};function A(){var e=N.current;if(null===e)throw Error(d(321));return e}var P={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:I,forEach:function(e,t,n){I(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error(d(143));return e}},t.Component=y,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,u=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(u=t.ref,s=b.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!E.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:u,props:a,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:u,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=x,t.createFactory=function(e){var t=x.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:C}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return A().useCallback(e,t)},t.useContext=function(e,t){return A().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return A().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return A().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return A().useLayoutEffect(e,t)},t.useMemo=function(e,t){return A().useMemo(e,t)},t.useReducer=function(e,t,n){return A().useReducer(e,t,n)},t.useRef=function(e){return A().useRef(e)},t.useState=function(e){return A().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(A){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),o=new I(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return N()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=_(o,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=l(e,t,n);if("normal"===s.type){if(r=n.done?p:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function y(){}function m(){}function g(){}var k={};s(k,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(C([])));w&&w!==n&&r.call(w,a)&&(k=w);var E=g.prototype=y.prototype=Object.create(k);function x(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(i,a,o,u){var s=l(e[i],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function _(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,_(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function C(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:N}}function N(){return{value:t,done:!0}}return m.prototype=g,s(E,"constructor",g),s(g,"constructor",m),m.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,u,"GeneratorFunction")),e.prototype=Object.create(E),e},e.awrap=function(e){return{__await:e}},x(S.prototype),s(S.prototype,o,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new S(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},x(E),s(E,u,"Generator"),s(E,a,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;O(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:C(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,y=null,m=-1,g=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();k=e+g;try{y(!0,e)?w.postMessage(null):(v=!1,y=null)}catch(n){throw w.postMessage(null),n}}else v=!1},n=function(e){y=e,v||(v=!0,w.postMessage(null))},r=function(e,n){m=h((function(){e(t.unstable_now())}),n)},i=function(){d(m),m=-1}}function E(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<_(i,t)))break e;e[r]=t,e[n]=i,n=r}}function x(e){return void 0===(e=e[0])?null:e}function S(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],u=a+1,s=e[u];if(void 0!==o&&0>_(o,n))void 0!==s&&0>_(s,o)?(e[r]=s,e[u]=n,r=u):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==s&&0>_(s,n)))break e;e[r]=s,e[u]=n,r=u}}}return t}return null}function _(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var T=[],O=[],I=1,C=null,N=3,A=!1,P=!1,D=!1;function R(e){for(var t=x(O);null!==t;){if(null===t.callback)S(O);else{if(!(t.startTime<=e))break;S(O),t.sortIndex=t.expirationTime,E(T,t)}t=x(O)}}function L(e){if(D=!1,R(e),!P)if(null!==x(T))P=!0,n(j);else{var t=x(O);null!==t&&r(L,t.startTime-e)}}function j(e,n){P=!1,D&&(D=!1,i()),A=!0;var a=N;try{for(R(n),C=x(T);null!==C&&(!(C.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=C.callback;if("function"===typeof o){C.callback=null,N=C.priorityLevel;var u=o(C.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?C.callback=u:C===x(T)&&S(T),R(n)}else S(T);C=x(T)}if(null!==C)var s=!0;else{var c=x(O);null!==c&&r(L,c.startTime-n),s=!1}return s}finally{C=null,N=a,A=!1}}var M=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){P||A||(P=!0,n(j))},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return x(T)},t.unstable_next=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var n=N;N=t;try{return e()}finally{N=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=M,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=N;N=e;try{return t()}finally{N=n}},t.unstable_scheduleCallback=function(e,a,o){var u=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?u+o:u:o=u,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:I++,callback:a,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>u?(e.sortIndex=o,E(O,e),null===x(T)&&e===x(O)&&(D?i():D=!0,r(L,o-u))):(e.sortIndex=s,E(T,e),P||A||(P=!0,n(j))),e},t.unstable_wrapCallback=function(e){var t=N;return function(){var n=N;N=t;try{return e.apply(this,arguments)}finally{N=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";var e,t=n(791),r=n(164);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){if(e){if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));var s=function(e){return e};var c="beforeunload",l="popstate";function f(e){e.preventDefault(),e.returnValue=""}function h(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function d(){return Math.random().toString(36).substr(2,8)}function p(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function v(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function y(e,t){if(!e)throw new Error(t)}var m=(0,t.createContext)(null);var g=(0,t.createContext)(null);var k=(0,t.createContext)({outlet:null,matches:[]});function b(e){y(!1)}function w(n){var r=n.basename,i=void 0===r?"/":r,a=n.children,o=void 0===a?null:a,u=n.location,s=n.navigationType,c=void 0===s?e.Pop:s,l=n.navigator,f=n.static,h=void 0!==f&&f;x()&&y(!1);var d=M(i),p=(0,t.useMemo)((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof u&&(u=v(u));var k=u,b=k.pathname,w=void 0===b?"/":b,E=k.search,S=void 0===E?"":E,_=k.hash,T=void 0===_?"":_,O=k.state,I=void 0===O?null:O,C=k.key,N=void 0===C?"default":C,A=(0,t.useMemo)((function(){var e=L(w,d);return null==e?null:{pathname:e,search:S,hash:T,state:I,key:N}}),[d,w,S,T,I,N]);return null==A?null:(0,t.createElement)(m.Provider,{value:p},(0,t.createElement)(g.Provider,{children:o,value:{location:A,navigationType:c}}))}function E(e){var n=e.children,r=e.location;return function(e,n){x()||y(!1);var r=(0,t.useContext)(k).matches,i=r[r.length-1],a=i?i.params:{},o=(i&&i.pathname,i?i.pathnameBase:"/");i&&i.route;0;var u,s=S();if(n){var c,l="string"===typeof n?v(n):n;"/"===o||(null==(c=l.pathname)?void 0:c.startsWith(o))||y(!1),u=l}else u=s;var f=u.pathname||"/",h="/"===o?f:f.slice(o.length)||"/",d=function(e,t,n){void 0===n&&(n="/");var r=L(("string"===typeof t?v(t):t).pathname||"/",n);if(null==r)return null;var i=O(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=A(i[o],r);return a}(e,{pathname:h});0;return P(d&&d.map((function(e){return Object.assign({},e,{params:Object.assign({},a,e.params),pathname:j([o,e.pathname]),pathnameBase:"/"===e.pathnameBase?o:j([o,e.pathnameBase])})})),r)}(T(n),r)}function x(){return null!=(0,t.useContext)(g)}function S(){return x()||y(!1),(0,t.useContext)(g).location}function _(){x()||y(!1);var e=(0,t.useContext)(m),n=e.basename,r=e.navigator,i=(0,t.useContext)(k).matches,a=S().pathname,o=JSON.stringify(i.map((function(e){return e.pathnameBase}))),u=(0,t.useRef)(!1);(0,t.useEffect)((function(){u.current=!0}));var s=(0,t.useCallback)((function(e,t){if(void 0===t&&(t={}),u.current)if("number"!==typeof e){var i=R(e,JSON.parse(o),a);"/"!==n&&(i.pathname=j([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state)}else r.go(e)}),[n,r,o,a]);return s}function T(e){var n=[];return t.Children.forEach(e,(function(e){if((0,t.isValidElement)(e))if(e.type!==t.Fragment){e.type!==b&&y(!1);var r={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(r.children=T(e.props.children)),n.push(r)}else n.push.apply(n,T(e.props.children))})),n}function O(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||y(!1),a.relativePath=a.relativePath.slice(r.length));var o=j([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&y(!1),O(e.children,t,u,o)),(null!=e.path||e.index)&&t.push({path:o,score:N(o,e.index),routesMeta:u})})),t}var I=/^:\w+$/,C=function(e){return"*"===e};function N(e,t){var n=e.split("/"),r=n.length;return n.some(C)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!C(e)})).reduce((function(e,t){return e+(I.test(t)?3:""===t?1:10)}),r)}function A(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=D({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:j([i,l.pathname]),pathnameBase:M(j([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=j([i,l.pathnameBase]))}return a}function P(e,n){return void 0===n&&(n=[]),null==e?null:e.reduceRight((function(r,i,a){return(0,t.createElement)(k.Provider,{children:void 0!==i.route.element?i.route.element:r,value:{outlet:r,matches:n.concat(e.slice(0,a+1))}})}),null)}function D(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=o(n,2),i=r[0],a=r[1],u=t.match(i);if(!u)return null;var s=u[0],c=s.replace(/(.)\/+$/,"$1"),l=u.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";c=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(l[n]||""),e}),{}),pathname:s,pathnameBase:c,pattern:e}}function R(e,t,n){var r,i="string"===typeof e?v(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var u=a.split("/");".."===u[0];)u.shift(),o-=1;i.pathname=u.join("/")}r=o>=0?t[o]:"/"}var s=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?v(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:U(a),hash:F(u)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!s.pathname.endsWith("/")&&(s.pathname+="/"),s}function L(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var j=function(e){return e.join("/").replace(/\/\/+/g,"/")},M=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},U=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},F=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},V=n(7),z=n.n(V);function B(){return Array.prototype.slice.call(arguments).reduce((function(e,t){return e.concat(t)}),[]).filter((function(e){return"string"===typeof e})).join(" ")}var q=n(916),W=n.n(q);var H=W()((function(){var e=[];return"undefined"!==typeof window&&(window.navigator.languages&&(e=e.concat(window.navigator.languages)),window.navigator.language&&e.push(window.navigator.language),window.navigator.userLanguage&&e.push(window.navigator.userLanguage),window.navigator.browserLanguage&&e.push(window.navigator.browserLanguage),window.navigator.systemLanguage&&e.push(window.navigator.systemLanguage)),e.push("en-US"),function(e){return e.map((function(e){if(!e||-1===e.indexOf("-")||e.toLowerCase()!==e)return e;var t=e.split("-");return"".concat(t[0],"-").concat(t[1].toUpperCase())}))}(e.filter((function(e,t,n){return n.indexOf(e)===t})))}));var K=W()((function(){return H()[0]})),G=K;function Q(e,t,n){return function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,a=e(r)+i;return t(a)}}function Y(e){return function(t){return new Date(e(t).getTime()-1)}}function $(e){return function(t){return e.map((function(e){return e(t)}))}}function X(e){if(e instanceof Date)return e.getFullYear();if("number"===typeof e)return e;var t=parseInt(e,10);if("string"===typeof e&&!isNaN(t))return t;throw new Error("Failed to get year from date: ".concat(e,"."))}function J(e){if(e instanceof Date)return e.getMonth();throw new Error("Failed to get month from date: ".concat(e,"."))}function Z(e){if(e instanceof Date)return e.getDate();throw new Error("Failed to get year from date: ".concat(e,"."))}function ee(e){var t=X(e),n=t+(1-t)%100,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}var te=Q(X,ee,-100),ne=Q(X,ee,100),re=Y(ne),ie=Q(X,re,-100),ae=(Q(X,re,100),$([ee,re]));function oe(e){var t=X(e),n=t+(1-t)%10,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}var ue=Q(X,oe,-10),se=Q(X,oe,10),ce=Y(se),le=Q(X,ce,-10),fe=(Q(X,ce,10),$([oe,ce]));function he(e){var t=X(e),n=new Date;return n.setFullYear(t,0,1),n.setHours(0,0,0,0),n}var de=Q(X,he,-1),pe=Q(X,he,1),ve=Y(pe),ye=Q(X,ve,-1),me=(Q(X,ve,1),$([he,ve]));function ge(e,t){return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=X(n),a=J(n)+r,o=new Date;return o.setFullYear(i,a,1),o.setHours(0,0,0,0),e(o)}}function ke(e){var t=X(e),n=J(e),r=new Date;return r.setFullYear(t,n,1),r.setHours(0,0,0,0),r}var be=ge(ke,-1),we=ge(ke,1),Ee=Y(we),xe=ge(Ee,-1),Se=(ge(Ee,1),$([ke,Ee]));function _e(e,t){return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=X(n),a=J(n),o=Z(n)+r,u=new Date;return u.setFullYear(i,a,o),u.setHours(0,0,0,0),e(u)}}function Te(e){var t=X(e),n=J(e),r=Z(e),i=new Date;return i.setFullYear(t,n,r),i.setHours(0,0,0,0),i}_e(Te,-1);var Oe,Ie=Y(_e(Te,1)),Ce=(_e(Ie,-1),_e(Ie,1),$([Te,Ie]));function Ne(e){return Z(Ee(e))}function Ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var De,Re={ARABIC:"Arabic",HEBREW:"Hebrew",ISO_8601:"ISO 8601",US:"US"},Le=(Pe(Oe={},Re.US,["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"]),Pe(Oe,Re.ARABIC,["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]),Pe(Oe,Re.HEBREW,["he","he-IL"]),Oe),je=(De=Array(7),function(e){if(Array.isArray(e))return Ae(e)}(De)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(De)||function(e,t){if(e){if("string"===typeof e)return Ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ae(e,t):void 0}}(De)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(e,t){return t})),Me=new Map;function Ue(e){return function(t,n){return function(e){return function(t,n){var r=t||G();Me.has(r)||Me.set(r,new Map);var i=Me.get(r);return i.has(e)||i.set(e,new Intl.DateTimeFormat(r,e).format),i.get(e)(n)}}(e)(t,function(e){var t=new Date(e);return new Date(t.setHours(12))}(n))}}Ue({day:"numeric",month:"numeric",year:"numeric"});var Fe=Ue({day:"numeric"}),Ve=Ue({day:"numeric",month:"long",year:"numeric"}),ze=Ue({month:"long"}),Be=Ue({month:"long",year:"numeric"}),qe=Ue({weekday:"short"}),We=Ue({weekday:"long"}),He=Ue({year:"numeric"}),Ke=je[0],Ge=je[5],Qe=je[6];function Ye(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Re.ISO_8601,n=e.getDay();switch(t){case Re.ISO_8601:return(n+6)%7;case Re.ARABIC:return(n+1)%7;case Re.HEBREW:case Re.US:return n;default:throw new Error("Unsupported calendar type.")}}function $e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Re.ISO_8601,n=X(e),r=J(e),i=e.getDate()-Ye(e,t);return new Date(n,r,i)}function Xe(e,t){switch(e){case"century":return ee(t);case"decade":return oe(t);case"year":return he(t);case"month":return ke(t);case"day":return Te(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function Je(e,t){switch(e){case"century":return ne(t);case"decade":return se(t);case"year":return pe(t);case"month":return we(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function Ze(e,t){switch(e){case"century":return re(t);case"decade":return ce(t);case"year":return ve(t);case"month":return Ee(t);case"day":return Ie(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function et(e,t){switch(e){case"century":return ae(t);case"decade":return fe(t);case"year":return me(t);case"month":return Se(t);case"day":return Ce(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function tt(e,t,n){var r=[t,n].sort((function(e,t){return e-t}));return[Xe(e,r[0]),Ze(e,r[1])]}function nt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:He,n=arguments.length>2?arguments[2]:void 0;return n.map((function(n){return t(e,n)})).join(" \u2013 ")}function rt(e,t,n){return nt(e,t,fe(n))}function it(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Re.ISO_8601,n=e.getDay();switch(t){case Re.ARABIC:case Re.HEBREW:return n===Ge||n===Qe;case Re.ISO_8601:case Re.US:return n===Qe||n===Ke;default:throw new Error("Unsupported calendar type.")}}function at(e){return at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},at(e)}var ot=Object.values(Re),ut=["century","decade","year","month"],st=z().oneOf(ot),ct=z().oneOfType([z().string,z().arrayOf(z().string)]),lt=function(e,t,n){var r=e[t];if(!r)return null;if(!(r instanceof Date))return new Error("Invalid prop `".concat(t,"` of type `").concat(at(r),"` supplied to `").concat(n,"`, expected instance of `Date`."));var i=e.maxDate;return i&&r>i?new Error("Invalid prop `".concat(t,"` of type `").concat(at(r),"` supplied to `").concat(n,"`, minDate cannot be larger than maxDate.")):null},ft=function(e,t,n){var r=e[t];if(!r)return null;if(!(r instanceof Date))return new Error("Invalid prop `".concat(t,"` of type `").concat(at(r),"` supplied to `").concat(n,"`, expected instance of `Date`."));var i=e.minDate;return i&&r<i?new Error("Invalid prop `".concat(t,"` of type `").concat(at(r),"` supplied to `").concat(n,"`, maxDate cannot be smaller than minDate.")):null},ht=z().oneOfType([z().func,z().shape({current:z().any})]),dt=z().oneOfType([z().instanceOf(Date),z().arrayOf(z().instanceOf(Date))]),pt=z().arrayOf(z().oneOf(ut)),vt=function(e,t,n){var r=e[t],i=e.views||ut;return void 0!==r&&-1===i.indexOf(r)?new Error("Invalid prop `".concat(t,"` of value `").concat(r,"` supplied to `").concat(n,"`, expected one of [").concat(i.map((function(e){return'"'.concat(e,'"')})).join(", "),"].")):null};vt.isRequired=function(e,t,n){var r=e[t];return r?vt(e,t,n):new Error("The prop `".concat(t,"` is marked as required in `").concat(n,"`, but its value is `").concat(r,"`."))};var yt={activeStartDate:z().instanceOf(Date).isRequired,hover:z().instanceOf(Date),locale:z().string,maxDate:ft,minDate:lt,onClick:z().func,onMouseOver:z().func,tileClassName:z().oneOfType([z().func,ct]),tileContent:z().oneOfType([z().func,z().node]),value:dt,valueType:z().string},mt={activeStartDate:z().instanceOf(Date).isRequired,classes:z().arrayOf(z().string).isRequired,date:z().instanceOf(Date).isRequired,locale:z().string,maxDate:ft,minDate:lt,onClick:z().func,onMouseOver:z().func,style:z().objectOf(z().oneOfType([z().string,z().number])),tileClassName:z().oneOfType([z().func,ct]),tileContent:z().oneOfType([z().func,z().node]),tileDisabled:z().func},gt="react-calendar__navigation";function kt(e){var n=e.activeStartDate,r=e.drillUp,i=e.formatMonthYear,a=void 0===i?Be:i,o=e.formatYear,u=void 0===o?He:o,s=e.locale,c=e.maxDate,l=e.minDate,f=e.navigationAriaLabel,h=void 0===f?"":f,d=e.navigationAriaLive,p=e.navigationLabel,v=e.next2AriaLabel,y=void 0===v?"":v,m=e.next2Label,g=void 0===m?"\xbb":m,k=e.nextAriaLabel,b=void 0===k?"":k,w=e.nextLabel,E=void 0===w?"\u203a":w,x=e.prev2AriaLabel,S=void 0===x?"":x,_=e.prev2Label,T=void 0===_?"\xab":_,O=e.prevAriaLabel,I=void 0===O?"":O,C=e.prevLabel,N=void 0===C?"\u2039":C,A=e.setActiveStartDate,P=e.showDoubleView,D=e.view,R=e.views.indexOf(D)>0,L="century"!==D,j=function(e,t){switch(e){case"century":return te(t);case"decade":return ue(t);case"year":return de(t);case"month":return be(t);default:throw new Error("Invalid rangeType: ".concat(e))}}(D,n),M=L&&function(e,t){switch(e){case"decade":return ue(t,-100);case"year":return de(t,-10);case"month":return be(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}(D,n),U=Je(D,n),F=L&&function(e,t){switch(e){case"decade":return se(t,100);case"year":return pe(t,10);case"month":return we(t,12);default:throw new Error("Invalid rangeType: ".concat(e))}}(D,n),V=function(){if(j.getFullYear()<0)return!0;var e=function(e,t){switch(e){case"century":return ie(t);case"decade":return le(t);case"year":return ye(t);case"month":return xe(t);default:throw new Error("Invalid rangeType: ".concat(e))}}(D,n);return l&&l>=e}(),z=L&&function(){if(M.getFullYear()<0)return!0;var e=function(e,t){switch(e){case"decade":return le(t,-100);case"year":return ye(t,-10);case"month":return xe(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}(D,n);return l&&l>=e}(),B=c&&c<U,q=L&&c&&c<F;function W(e){var t=function(){switch(D){case"century":return function(e,t,n){return nt(e,t,ae(n))}(s,u,e);case"decade":return rt(s,u,e);case"year":return u(s,e);case"month":return a(s,e);default:throw new Error("Invalid view: ".concat(D,"."))}}();return p?p({date:e,label:t,locale:s||K(),view:D}):t}return t.createElement("div",{className:gt},null!==T&&L&&t.createElement("button",{"aria-label":S,className:"".concat(gt,"__arrow ").concat(gt,"__prev2-button"),disabled:z,onClick:function(){A(M,"prev2")},type:"button"},T),null!==N&&t.createElement("button",{"aria-label":I,className:"".concat(gt,"__arrow ").concat(gt,"__prev-button"),disabled:V,onClick:function(){A(j,"prev")},type:"button"},N),function(){var e="".concat(gt,"__label");return t.createElement("button",{"aria-label":h,"aria-live":d,className:e,disabled:!R,onClick:r,style:{flexGrow:1},type:"button"},t.createElement("span",{className:"".concat(e,"__labelText ").concat(e,"__labelText--from")},W(n)),P&&t.createElement(t.Fragment,null,t.createElement("span",{className:"".concat(e,"__divider")}," \u2013 "),t.createElement("span",{className:"".concat(e,"__labelText ").concat(e,"__labelText--to")},W(U))))}(),null!==E&&t.createElement("button",{"aria-label":b,className:"".concat(gt,"__arrow ").concat(gt,"__next-button"),disabled:B,onClick:function(){A(U,"next")},type:"button"},E),null!==g&&L&&t.createElement("button",{"aria-label":y,className:"".concat(gt,"__arrow ").concat(gt,"__next2-button"),disabled:q,onClick:function(){A(F,"next2")},type:"button"},g))}kt.propTypes={activeStartDate:z().instanceOf(Date).isRequired,drillUp:z().func.isRequired,formatMonthYear:z().func,formatYear:z().func,locale:z().string,maxDate:z().instanceOf(Date),minDate:z().instanceOf(Date),navigationAriaLabel:z().string,navigationAriaLive:z().string,navigationLabel:z().func,next2AriaLabel:z().string,next2Label:z().node,nextAriaLabel:z().string,nextLabel:z().node,prev2AriaLabel:z().string,prev2Label:z().node,prevAriaLabel:z().string,prevLabel:z().node,setActiveStartDate:z().func.isRequired,showDoubleView:z().bool,view:vt.isRequired,views:pt.isRequired};var bt=["children","className","direction","count","offset","style","wrap"];function wt(){return wt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wt.apply(this,arguments)}function Et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Et(Object(n),!0).forEach((function(t){St(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function St(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _t(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Tt(e){return"".concat(e,"%")}function Ot(e){var n=e.children,r=e.className,i=e.direction,a=e.count,o=e.offset,u=e.style,s=e.wrap,c=_t(e,bt);return t.createElement("div",wt({className:r,style:xt({display:"flex",flexDirection:i,flexWrap:s?"wrap":"no-wrap"},u)},c),t.Children.map(n,(function(e,n){return t.cloneElement(e,xt(xt({},e.props),{},{style:{flexBasis:Tt(100/a),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:o&&0===n?Tt(100*o/a):null}}))})))}function It(e){return function(e){if(Array.isArray(e))return Ct(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Ct(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ct(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ct(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nt(e,t){return t[0]<=e&&t[1]>=e}function At(e,t){return e[0]<=t[0]&&e[1]>=t[1]}function Pt(e,t){return Nt(e[0],t)||Nt(e[1],t)}function Dt(e,t,n){var r=[];if(Pt(t,e)){r.push(n);var i=Nt(e[0],t),a=Nt(e[1],t);i&&r.push("".concat(n,"Start")),a&&r.push("".concat(n,"End")),i&&a&&r.push("".concat(n,"BothEnds"))}return r}function Rt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.value,n=e.valueType,r=e.date,i=e.dateType,a=e.hover,o="react-calendar__tile",u=[o];if(!r)return u;if(!Array.isArray(r)&&!i)throw new Error("getTileClasses(): Unable to get tile activity classes because one or more required arguments were not passed.");var s=new Date,c=Array.isArray(r)?r:et(i,r);if(Nt(s,c)&&u.push("".concat(o,"--now")),!t)return u;if(!Array.isArray(t)&&!n)throw new Error("getTileClasses(): Unable to get tile activity classes because one or more required arguments were not passed.");var l=Array.isArray(t)?t:et(n,t);At(l,c)?u.push("".concat(o,"--active")):Pt(l,c)&&u.push("".concat(o,"--hasActive"));var f=Dt(l,c,"".concat(o,"--range"));u.push.apply(u,It(f));var h=[].concat(t);if(a&&1===h.length){var d=a>l[0]?[l[0],a]:[a,l[0]],p=Dt(d,c,"".concat(o,"--hover"));u.push.apply(u,It(p))}return u}Ot.propTypes={children:z().node,className:z().string,count:z().number.isRequired,direction:z().string,offset:z().number,style:z().objectOf(z().oneOfType([z().string,z().number])),wrap:z().bool};var Lt=["className","count","dateTransform","dateType","end","hover","offset","start","step","tile","value","valueType"];function jt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jt(Object(n),!0).forEach((function(t){Ut(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ut(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ft(){return Ft=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ft.apply(this,arguments)}function Vt(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function zt(e){for(var n=e.className,r=e.count,i=void 0===r?3:r,a=e.dateTransform,o=e.dateType,u=e.end,s=e.hover,c=e.offset,l=e.start,f=e.step,h=void 0===f?1:f,d=e.tile,p=e.value,v=e.valueType,y=Vt(e,Lt),m=[],g=l;g<=u;g+=h){var k=a(g);m.push(t.createElement(d,Ft({key:k.getTime(),classes:Rt({value:p,valueType:v,date:k,dateType:o,hover:s}),date:k,point:g},y)))}return t.createElement(Ot,{className:n,count:i,offset:c,wrap:!0},m)}function Bt(e){return Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bt(e)}function qt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qt(Object(n),!0).forEach((function(t){Jt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ht(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gt(e,t){return Gt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Gt(e,t)}function Qt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Xt(e);if(t){var i=Xt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Yt(this,n)}}function Yt(e,t){if(t&&("object"===Bt(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return $t(e)}function $t(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xt(e){return Xt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Xt(e)}function Jt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zt(e,t){return e&&!t||!e&&t||e&&t&&e.getTime()!==t.getTime()}function en(e,t){var n=e.activeStartDate,r=e.date,i=e.view;return"function"===typeof t?t({activeStartDate:n,date:r,view:i}):t}zt.propTypes=Mt(Mt({},yt),{},{activeStartDate:z().instanceOf(Date),count:z().number,dateTransform:z().func.isRequired,dateType:z().string,offset:z().number,step:z().number,tile:z().func.isRequired});var tn=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gt(e,t)}(o,e);var n,r,i,a=Qt(o);function o(){var e;Ht(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Jt($t(e=a.call.apply(a,[this].concat(n))),"state",{}),e}return n=o,i=[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.activeStartDate,r=e.tileClassName,i=e.tileContent,a={};return(r!==t.tileClassNameProps||Zt(n,t.activeStartDateProps))&&(a.tileClassName=en(e,r),a.tileClassNameProps=r),(i!==t.tileContentProps||Zt(n,t.activeStartDateProps))&&(a.tileContent=en(e,i),a.tileContentProps=i),a.activeStartDateProps=n,a}}],(r=[{key:"render",value:function(){var e=this.props,n=e.activeStartDate,r=e.children,i=e.classes,a=e.date,o=e.formatAbbr,u=e.locale,s=e.maxDate,c=e.maxDateTransform,l=e.minDate,f=e.minDateTransform,h=e.onClick,d=e.onMouseOver,p=e.style,v=e.tileDisabled,y=e.view,m=this.state,g=m.tileClassName,k=m.tileContent;return t.createElement("button",{className:B(i,g),disabled:l&&f(l)>a||s&&c(s)<a||v&&v({activeStartDate:n,date:a,view:y}),onClick:h&&function(e){return h(a,e)},onFocus:d&&function(){return d(a)},onMouseOver:d&&function(){return d(a)},style:p,type:"button"},o?t.createElement("abbr",{"aria-label":o(u,a)},r):r,k)}}])&&Kt(n.prototype,r),i&&Kt(n,i),Object.defineProperty(n,"prototype",{writable:!1}),o}(t.Component);tn.propTypes=Wt(Wt({},mt),{},{children:z().node.isRequired,formatAbbr:z().func,maxDateTransform:z().func.isRequired,minDateTransform:z().func.isRequired});var nn=["classes","formatYear"];function rn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function an(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rn(Object(n),!0).forEach((function(t){on(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function on(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function un(){return un=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},un.apply(this,arguments)}function sn(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function cn(e){var n=e.classes,r=e.formatYear,i=void 0===r?He:r,a=sn(e,nn),o=a.date,u=a.locale;return t.createElement(tn,un({},a,{classes:[].concat(n,"react-calendar__century-view__decades__decade"),maxDateTransform:ce,minDateTransform:oe,view:"century"}),rt(u,i,o))}function ln(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hn(){return hn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hn.apply(this,arguments)}function dn(e){var n=e.activeStartDate,r=X(ee(n)),i=r+99;return t.createElement(zt,hn({},e,{className:"react-calendar__century-view__decades",dateTransform:oe,dateType:"decade",end:i,start:r,step:10,tile:cn}))}function pn(e){return t.createElement("div",{className:"react-calendar__century-view"},t.createElement(dn,e))}cn.propTypes=an(an({},mt),{},{formatYear:z().func}),dn.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ln(Object(n),!0).forEach((function(t){fn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ln(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},yt);var vn=["classes","formatYear"];function yn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yn(Object(n),!0).forEach((function(t){gn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kn(){return kn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kn.apply(this,arguments)}function bn(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function wn(e){var n=e.classes,r=e.formatYear,i=void 0===r?He:r,a=bn(e,vn),o=a.date,u=a.locale;return t.createElement(tn,kn({},a,{classes:[].concat(n,"react-calendar__decade-view__years__year"),maxDateTransform:ve,minDateTransform:he,view:"decade"}),i(u,o))}function En(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sn(){return Sn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sn.apply(this,arguments)}function _n(e){var n=e.activeStartDate,r=X(oe(n)),i=r+9;return t.createElement(zt,Sn({},e,{className:"react-calendar__decade-view__years",dateTransform:function(e){var t=new Date;return t.setFullYear(e,0,1),t.setHours(0,0,0,0),t},dateType:"year",end:i,start:r,tile:wn}))}function Tn(e){return t.createElement("div",{className:"react-calendar__decade-view"},t.createElement(_n,e))}wn.propTypes=mn(mn({},mt),{},{formatYear:z().func}),_n.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?En(Object(n),!0).forEach((function(t){xn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):En(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},yt);var On=["classes","formatMonth","formatMonthYear"];function In(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?In(Object(n),!0).forEach((function(t){Nn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):In(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Nn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function An(){return An=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},An.apply(this,arguments)}function Pn(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Dn(e){var n=e.classes,r=e.formatMonth,i=void 0===r?ze:r,a=e.formatMonthYear,o=void 0===a?Be:a,u=Pn(e,On),s=u.date,c=u.locale;return t.createElement(tn,An({},u,{classes:[].concat(n,"react-calendar__year-view__months__month"),formatAbbr:o,maxDateTransform:Ee,minDateTransform:ke,view:"year"}),i(c,s))}function Rn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ln(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rn(Object(n),!0).forEach((function(t){jn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mn(){return Mn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mn.apply(this,arguments)}function Un(e){var n=X(e.activeStartDate);return t.createElement(zt,Mn({},e,{className:"react-calendar__year-view__months",dateTransform:function(e){var t=new Date;return t.setFullYear(n,e,1),t.setHours(0,0,0,0),t},dateType:"month",end:11,start:0,tile:Dn}))}function Fn(e){return t.createElement("div",{className:"react-calendar__year-view"},t.createElement(Un,e))}Dn.propTypes=Cn(Cn({},mt),{},{formatMonth:z().func,formatMonthYear:z().func}),Un.propTypes=Ln(Ln({},yt),{},{locale:z().string});var Vn=["formatDay","formatLongDate","calendarType","classes","currentMonthIndex"];function zn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zn(Object(n),!0).forEach((function(t){qn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wn(){return Wn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wn.apply(this,arguments)}function Hn(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Kn="react-calendar__month-view__days__day";function Gn(e){var n=e.formatDay,r=void 0===n?Fe:n,i=e.formatLongDate,a=void 0===i?Ve:i,o=e.calendarType,u=e.classes,s=e.currentMonthIndex,c=Hn(e,Vn),l=c.date,f=c.locale;return t.createElement(tn,Wn({},c,{classes:[].concat(u,Kn,it(l,o)?"".concat(Kn,"--weekend"):null,l.getMonth()!==s?"".concat(Kn,"--neighboringMonth"):null),formatAbbr:a,maxDateTransform:Ie,minDateTransform:Te,view:"month"}),r(f,l))}Gn.propTypes=Bn(Bn({},mt),{},{currentMonthIndex:z().number.isRequired,formatDay:z().func,formatLongDate:z().func});var Qn=["showFixedNumberOfWeeks","showNeighboringMonth"];function Yn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xn(){return Xn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xn.apply(this,arguments)}function Jn(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Zn(e){var n=e.activeStartDate,r=e.calendarType,i=e.showFixedNumberOfWeeks,a=e.showNeighboringMonth,o=Jn(e,Qn),u=X(n),s=J(n),c=i||a,l=Ye(n,r),f=c?0:l,h=1+(c?-l:0),d=function(){if(i)return h+42-1;var e=Ne(n);if(a){var t=new Date;return t.setFullYear(u,s,e),t.setHours(0,0,0,0),e+(7-Ye(t,r)-1)}return e}();return t.createElement(zt,Xn({},o,{className:"react-calendar__month-view__days",count:7,currentMonthIndex:s,dateTransform:function(e){var t=new Date;return t.setFullYear(u,s,e),t.setHours(0,0,0,0),t},dateType:"day",end:d,offset:f,start:h,tile:Gn}))}Zn.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yn(Object(n),!0).forEach((function(t){$n(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({calendarType:st.isRequired,showFixedNumberOfWeeks:z().bool,showNeighboringMonth:z().bool},yt);var er="react-calendar__month-view__weekdays";function tr(e){for(var n=e.calendarType,r=e.formatShortWeekday,i=void 0===r?qe:r,a=e.locale,o=e.onMouseLeave,u=ke(new Date),s=X(u),c=J(u),l=[],f=1;f<=7;f+=1){var h=new Date(s,c,f-Ye(u,n)),d=We(a,h);l.push(t.createElement("div",{key:f,className:"".concat(er,"__weekday")},t.createElement("abbr",{"aria-label":d,title:d},i(a,h).replace(".",""))))}return t.createElement(Ot,{className:er,count:7,onFocus:o,onMouseOver:o},l)}tr.propTypes={calendarType:st.isRequired,formatShortWeekday:z().func,locale:z().string,onMouseLeave:z().func};var nr=["date","onClickWeekNumber","weekNumber"];function rr(){return rr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rr.apply(this,arguments)}function ir(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ar(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function or(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ur(e){var n=e.date,r=e.onClickWeekNumber,i=e.weekNumber,a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ir(Object(n),!0).forEach((function(t){ar(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ir(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({className:"react-calendar__tile"},or(e,nr)),o=t.createElement("span",null,i);return r?t.createElement("button",rr({},a,{onClick:function(e){return r(i,n,e)},type:"button"}),o):t.createElement("div",a,o)}function sr(e){var n=e.activeStartDate,r=e.calendarType,i=e.onClickWeekNumber,a=e.onMouseLeave,o=e.showFixedNumberOfWeeks,u=function(){if(o)return 6;var e=Ne(n)-(7-Ye(n,r));return 1+Math.ceil(e/7)}(),s=function(){for(var e=X(n),t=J(n),i=Z(n),a=[],o=0;o<u;o+=1)a.push($e(new Date(e,t,i+7*o),r));return a}(),c=s.map((function(e){return function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Re.ISO_8601,r=n===Re.US?Re.US:Re.ISO_8601,i=$e(e,n),a=X(e)+1;do{t=$e(new Date(a,0,r===Re.ISO_8601?4:1),n),a-=1}while(e<t);return Math.round((i-t)/6048e5)+1}(e,r)}));return t.createElement(Ot,{className:"react-calendar__month-view__weekNumbers",count:u,direction:"column",onFocus:a,onMouseOver:a,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0}},c.map((function(e,n){return t.createElement(ur,{key:e,date:s[n],onClickWeekNumber:i,weekNumber:e})})))}ur.propTypes={date:z().instanceOf(Date).isRequired,onClickWeekNumber:z().func,weekNumber:z().node.isRequired},sr.propTypes={activeStartDate:z().instanceOf(Date).isRequired,calendarType:st.isRequired,onClickWeekNumber:z().func,onMouseLeave:z().func,showFixedNumberOfWeeks:z().bool};var cr=["calendarType","formatShortWeekday","onClickWeekNumber","showWeekNumbers"];function lr(){return lr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lr.apply(this,arguments)}function fr(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function hr(e){var n=e.activeStartDate,r=e.locale,i=e.onMouseLeave,a=e.showFixedNumberOfWeeks,o=e.calendarType,u=void 0===o?function(e){return Object.keys(Le).find((function(t){return Le[t].includes(e)}))||Re.ISO_8601}(r):o,s=e.formatShortWeekday,c=e.onClickWeekNumber,l=e.showWeekNumbers,f=fr(e,cr);var h="react-calendar__month-view";return t.createElement("div",{className:B(h,l?"".concat(h,"--weekNumbers"):"")},t.createElement("div",{style:{display:"flex",alignItems:"flex-end"}},l?t.createElement(sr,{activeStartDate:n,calendarType:u,onClickWeekNumber:c,onMouseLeave:i,showFixedNumberOfWeeks:a}):null,t.createElement("div",{style:{flexGrow:1,width:"100%"}},t.createElement(tr,{calendarType:u,formatShortWeekday:s,locale:r,onMouseLeave:i}),t.createElement(Zn,lr({calendarType:u},f)))))}hr.propTypes={activeStartDate:z().instanceOf(Date).isRequired,calendarType:st,formatShortWeekday:z().func,locale:z().string,onClickWeekNumber:z().func,onMouseLeave:z().func,showFixedNumberOfWeeks:z().bool,showWeekNumbers:z().bool};var dr=["activeStartDate","defaultActiveStartDate","defaultValue","defaultView","maxDetail","minDetail","value","view"];function pr(){return pr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pr.apply(this,arguments)}function vr(e){return vr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vr(e)}function yr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gr(e,t){return gr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},gr(e,t)}function kr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Er(e);if(t){var i=Er(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return br(this,n)}}function br(e,t){if(t&&("object"===vr(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return wr(e)}function wr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Er(e){return Er=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Er(e)}function xr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xr(Object(n),!0).forEach((function(t){_r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tr(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Or(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ir=new Date;Ir.setFullYear(1,0,1),Ir.setHours(0,0,0,0);var Cr=new Date(864e13),Nr="react-calendar",Ar=["century","decade","year","month"],Pr=[].concat(function(e){return function(e){if(Array.isArray(e))return Or(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Or(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Or(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Ar.slice(1)),["day"]);function Dr(e,t){return Ar.slice(Ar.indexOf(e),Ar.indexOf(t)+1)}function Rr(e,t,n){return function(e,t,n){return-1!==Dr(t,n).indexOf(e)}(e,t,n)?e:n}function Lr(e){return Pr[Ar.indexOf(e)]}function jr(e,t){if(!e)return null;var n=Array.isArray(e)&&2===e.length?e[t]:e;if(!n)return null;var r=function(e){return e instanceof Date?e:new Date(e)}(n);if(isNaN(r.getTime()))throw new Error("Invalid date: ".concat(e));return r}function Mr(e,t){var n=e.value,r=e.minDate,i=e.maxDate,a=e.maxDetail,o=jr(n,t);if(!o)return null;var u=Lr(a);return function(e,t,n){return t&&t>e?t:n&&n<e?n:e}([Xe,Ze][t](u,o),r,i)}var Ur=function(e){return Mr(e,0)},Fr=function(e){return Mr(e,1)},Vr=function(e){var t=e.value;return Array.isArray(t)?t:[Ur,Fr].map((function(t){return t(e)}))};function zr(e){var t=e.maxDate,n=e.maxDetail,r=e.minDate,i=e.minDetail,a=e.value;return Xe(Rr(e.view,i,n),Ur({value:a,minDate:r,maxDate:t,maxDetail:n})||new Date)}var Br=function(e){return e&&1===[].concat(e).length},qr=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gr(e,t)}(o,e);var n,r,i,a=kr(o);function o(){var e;yr(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _r(wr(e=a.call.apply(a,[this].concat(n))),"state",{activeStartDate:e.props.defaultActiveStartDate,value:e.props.defaultValue,view:e.props.defaultView}),_r(wr(e),"setStateAndCallCallbacks",(function(t,n,r){var i=wr(e),a=i.activeStartDate,o=i.view,u=e.props,s=u.allowPartialRange,c=u.onActiveStartDateChange,l=u.onChange,f=u.onViewChange,h=u.selectRange,d={activeStartDate:a,view:o};e.setState(t,(function(){var i={action:t.action,activeStartDate:t.activeStartDate||e.activeStartDate,value:t.value||e.value,view:t.view||e.view};function a(e){return e in t&&(vr(t[e])!==vr(d[e])||(t[e]instanceof Date?t[e].getTime()!==d[e].getTime():t[e]!==d[e]))}(a("activeStartDate")&&c&&c(i),a("view")&&f&&f(i),a("value"))&&(l&&(h&&Br(t.value)?s&&l([t.value],n):l(t.value,n)));r&&r(i)}))})),_r(wr(e),"setActiveStartDate",(function(t,n){e.setStateAndCallCallbacks({action:n,activeStartDate:t})})),_r(wr(e),"drillDown",(function(t,n){if(e.drillDownAvailable){e.onClickTile(t,n);var r=wr(e),i=r.view,a=r.views,o=e.props.onDrillDown,u=a[a.indexOf(i)+1];e.setStateAndCallCallbacks({action:"drillDown",activeStartDate:t,view:u},void 0,o)}})),_r(wr(e),"drillUp",(function(){if(e.drillUpAvailable){var t=wr(e),n=t.activeStartDate,r=t.view,i=t.views,a=e.props.onDrillUp,o=i[i.indexOf(r)-1],u=Xe(o,n);e.setStateAndCallCallbacks({action:"drillUp",activeStartDate:u,view:o},void 0,a)}})),_r(wr(e),"onChange",(function(t,n){var r,i=e.props.selectRange;if(e.onClickTile(t,n),i){var a=wr(e),o=a.value,u=a.valueType;r=Br(o)?tt(u,o,t):Xe(u,t)}else r=e.getProcessedValue(t);var s=zr(Sr(Sr({},e.props),{},{value:r}));n.persist(),e.setStateAndCallCallbacks({action:"onChange",activeStartDate:s,value:r},n)})),_r(wr(e),"onClickTile",(function(t,n){var r=wr(e).view,i=e.props,a=i.onClickDay,o=i.onClickDecade,u=i.onClickMonth,s=i.onClickYear,c=function(){switch(r){case"century":return o;case"decade":return s;case"year":return u;case"month":return a;default:throw new Error("Invalid view: ".concat(r,"."))}}();c&&c(t,n)})),_r(wr(e),"onMouseOver",(function(t){e.setState((function(e){return e.hover&&e.hover.getTime()===t.getTime()?null:{hover:t}}))})),_r(wr(e),"onMouseLeave",(function(){e.setState({hover:null})})),e}return n=o,r=[{key:"activeStartDate",get:function(){var e=this.props.activeStartDate,t=this.state.activeStartDate;return e||t||function(e){var t=e.activeStartDate,n=e.defaultActiveStartDate,r=e.defaultValue,i=e.defaultView,a=e.maxDetail,o=e.minDetail,u=e.value,s=e.view,c=Tr(e,dr),l=Rr(s,o,a),f=t||n;return f?Xe(l,f):zr(Sr({maxDetail:a,minDetail:o,value:u||r,view:s||i},c))}(this.props)}},{key:"value",get:function(){var e=this.props,t=e.selectRange,n=e.value,r=this.state.value;return t&&Br(r)?r:void 0!==n?n:r}},{key:"valueType",get:function(){return Lr(this.props.maxDetail)}},{key:"view",get:function(){var e=this.props,t=e.minDetail,n=e.maxDetail,r=e.view,i=this.state.view;return Rr(r||i,t,n)}},{key:"views",get:function(){var e=this.props;return Dr(e.minDetail,e.maxDetail)}},{key:"hover",get:function(){var e=this.props.selectRange,t=this.state.hover;return e?t:null}},{key:"drillDownAvailable",get:function(){var e=this.view,t=this.views;return t.indexOf(e)<t.length-1}},{key:"drillUpAvailable",get:function(){var e=this.view;return this.views.indexOf(e)>0}},{key:"getProcessedValue",value:function(e){var t=this.props,n=t.minDate,r=t.maxDate,i=t.maxDetail,a=t.returnValue;return function(){switch(a){case"start":return Ur;case"end":return Fr;case"range":return Vr;default:throw new Error("Invalid returnValue.")}}()({value:e,minDate:n,maxDate:r,maxDetail:i})}},{key:"renderContent",value:function(e){var n=this.activeStartDate,r=this.onMouseOver,i=this.valueType,a=this.value,o=this.view,u=this.props,s=u.calendarType,c=u.locale,l=u.maxDate,f=u.minDate,h=u.selectRange,d=u.tileClassName,p=u.tileContent,v=u.tileDisabled,y=this.hover,m={activeStartDate:e?Je(o,n):Xe(o,n),hover:y,locale:c,maxDate:l,minDate:f,onClick:this.drillDownAvailable?this.drillDown:this.onChange,onMouseOver:h?r:null,tileClassName:d,tileContent:p,tileDisabled:v,value:a,valueType:i};switch(o){case"century":var g=this.props.formatYear;return t.createElement(pn,pr({formatYear:g},m));case"decade":var k=this.props.formatYear;return t.createElement(Tn,pr({formatYear:k},m));case"year":var b=this.props,w=b.formatMonth,E=b.formatMonthYear;return t.createElement(Fn,pr({formatMonth:w,formatMonthYear:E},m));case"month":var x=this.props,S=x.formatDay,_=x.formatLongDate,T=x.formatShortWeekday,O=x.onClickWeekNumber,I=x.showDoubleView,C=x.showFixedNumberOfWeeks,N=x.showNeighboringMonth,A=x.showWeekNumbers,P=this.onMouseLeave;return t.createElement(hr,pr({calendarType:s,formatDay:S,formatLongDate:_,formatShortWeekday:T,onClickWeekNumber:O,onMouseLeave:h?P:null,showFixedNumberOfWeeks:"undefined"!==typeof C?C:I,showNeighboringMonth:N,showWeekNumbers:A},m));default:throw new Error("Invalid view: ".concat(o,"."))}}},{key:"renderNavigation",value:function(){if(!this.props.showNavigation)return null;var e=this.activeStartDate,n=this.view,r=this.views,i=this.props,a=i.formatMonthYear,o=i.formatYear,u=i.locale,s=i.maxDate,c=i.minDate,l=i.navigationAriaLabel,f=i.navigationAriaLive,h=i.navigationLabel,d=i.next2AriaLabel,p=i.next2Label,v=i.nextAriaLabel,y=i.nextLabel,m=i.prev2AriaLabel,g=i.prev2Label,k=i.prevAriaLabel,b=i.prevLabel,w=i.showDoubleView;return t.createElement(kt,{activeStartDate:e,drillUp:this.drillUp,formatMonthYear:a,formatYear:o,locale:u,maxDate:s,minDate:c,navigationAriaLabel:l,navigationAriaLive:f,navigationLabel:h,next2AriaLabel:d,next2Label:p,nextAriaLabel:v,nextLabel:y,prev2AriaLabel:m,prev2Label:g,prevAriaLabel:k,prevLabel:b,setActiveStartDate:this.setActiveStartDate,showDoubleView:w,view:n,views:r})}},{key:"render",value:function(){var e=this.props,n=e.className,r=e.inputRef,i=e.selectRange,a=e.showDoubleView,o=this.onMouseLeave,u=this.value,s=[].concat(u);return t.createElement("div",{className:B(Nr,i&&1===s.length&&"".concat(Nr,"--selectRange"),a&&"".concat(Nr,"--doubleView"),n),ref:r},this.renderNavigation(),t.createElement("div",{className:"".concat(Nr,"__viewContainer"),onBlur:i?o:null,onMouseLeave:i?o:null},this.renderContent(),a&&this.renderContent(!0)))}}],r&&mr(n.prototype,r),i&&mr(n,i),Object.defineProperty(n,"prototype",{writable:!1}),o}(t.Component);qr.defaultProps={maxDate:Cr,maxDetail:"month",minDate:Ir,minDetail:"century",returnValue:"start",showNavigation:!0,showNeighboringMonth:!0};var Wr=z().instanceOf(Date),Hr=z().oneOfType([z().string,dt]);qr.propTypes={activeStartDate:Wr,allowPartialRange:z().bool,calendarType:st,className:ct,defaultActiveStartDate:Wr,defaultValue:Hr,defaultView:vt,formatDay:z().func,formatLongDate:z().func,formatMonth:z().func,formatMonthYear:z().func,formatShortWeekday:z().func,formatYear:z().func,inputRef:ht,locale:z().string,maxDate:ft,maxDetail:z().oneOf(Ar),minDate:lt,minDetail:z().oneOf(Ar),navigationAriaLabel:z().string,navigationAriaLive:z().oneOf(["off","polite","assertive"]),navigationLabel:z().func,next2AriaLabel:z().string,next2Label:z().node,nextAriaLabel:z().string,nextLabel:z().node,onActiveStartDateChange:z().func,onChange:z().func,onClickDay:z().func,onClickDecade:z().func,onClickMonth:z().func,onClickWeekNumber:z().func,onClickYear:z().func,onDrillDown:z().func,onDrillUp:z().func,onViewChange:z().func,prev2AriaLabel:z().string,prev2Label:z().node,prevAriaLabel:z().string,prevLabel:z().node,returnValue:z().oneOf(["start","end","range"]),selectRange:z().bool,showDoubleView:z().bool,showFixedNumberOfWeeks:z().bool,showNavigation:z().bool,showNeighboringMonth:z().bool,showWeekNumbers:z().bool,tileClassName:z().oneOfType([z().func,ct]),tileContent:z().oneOfType([z().func,z().node]),tileDisabled:z().func,value:Hr,view:vt};var Kr=qr;function Gr(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function Qr(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Gr(a,r,i,o,u,"next",e)}function u(e){Gr(a,r,i,o,u,"throw",e)}o(void 0)}))}}var Yr=n(757),$r=n.n(Yr);function Xr(e,t){return Xr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Xr(e,t)}function Jr(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Zr(e,t,n){return Zr=Jr()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Xr(i,n.prototype),i},Zr.apply(null,arguments)}function ei(e){return ei=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ei(e)}function ti(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ei(e)););return e}function ni(){return ni="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=ti(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},ni.apply(this,arguments)}function ri(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=a(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,o=e},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw o}}}}function ii(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xr(e,t)}function ai(e){return ai="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ai(e)}function oi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ui(e,t){if(t&&("object"===ai(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return oi(e)}function si(e){var t=Jr();return function(){var n,r=ei(e);if(t){var i=ei(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ui(this,n)}}function ci(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function li(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hi(e,t,n){return t&&fi(e.prototype,t),n&&fi(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function di(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pi(e){var t="function"===typeof Map?new Map:void 0;return pi=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Zr(e,arguments,ei(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Xr(n,e)},pi(e)}var vi=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},yi={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(vi(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},mi=function(e){try{return yi.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};var gi=function(){function e(){var t=this;li(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return hi(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function ki(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function bi(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ki())}function wi(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Ei(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function xi(){var e=ki();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}var Si=function(e){ii(n,e);var t=si(n);function n(e,r,i){var a;return li(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(oi(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(oi(a),_i.prototype.create),a}return hi(n)}(pi(Error)),_i=function(){function e(t,n,r){li(this,e),this.service=t,this.serviceName=n,this.errors=r}return hi(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Ti(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Si(n,a,t);return o}}]),e}();function Ti(e,t){return e.replace(Oi,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Oi=/\{\$([^}]+)}/g;function Ii(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(Ci(u)&&Ci(s)){if(!Ii(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Ci(e){return null!==e&&"object"===typeof e}function Ni(e){for(var t=[],n=function(){var e=o(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Ai(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=o(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Pi(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var Di=function(){function e(t,n){var r=this;li(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return hi(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=ri(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Ri),void 0===r.error&&(r.error=Ri),void 0===r.complete&&(r.complete=Ri);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Ri(){}function Li(e){return e&&e._delegate?e._delegate:e}var ji=function(){function e(t,n,r){li(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return hi(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Mi="[DEFAULT]",Ui=function(){function e(t,n){li(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return hi(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new gi;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Mi})}catch(c){}var t,n=ri(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=o(t.value,2),i=r[0],a=r[1],u=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:u});a.resolve(s)}catch(c){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mi;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Qr(Yr.mark((function e(){var t;return Yr.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(ci(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),ci(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mi;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mi;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),u=ri(this.instancesDeferred.entries());try{for(u.s();!(i=u.n()).done;){var s=o(i.value,2),c=s[0],l=s[1],f=this.normalizeInstanceIdentifier(c);r===f&&l.resolve(a)}}catch(h){u.e(h)}finally{u.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=ri(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(Zy){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Mi?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(Zy){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mi;return this.component?this.component.multipleInstances?e:Mi:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Fi,Vi,zi=function(){function e(t){li(this,e),this.name=t,this.providers=new Map}return hi(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Ui(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Bi=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Vi||(Vi={}));var qi,Wi,Hi={debug:Vi.DEBUG,verbose:Vi.VERBOSE,info:Vi.INFO,warn:Vi.WARN,error:Vi.ERROR,silent:Vi.SILENT},Ki=Vi.INFO,Gi=(di(Fi={},Vi.DEBUG,"log"),di(Fi,Vi.VERBOSE,"log"),di(Fi,Vi.INFO,"info"),di(Fi,Vi.WARN,"warn"),di(Fi,Vi.ERROR,"error"),Fi),Qi=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Gi[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Yi=function(){function e(t){li(this,e),this.name=t,this._logLevel=Ki,this._logHandler=Qi,this._userLogHandler=null,Bi.push(this)}return hi(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Vi))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Hi[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Vi.DEBUG].concat(t)),this._logHandler.apply(this,[this,Vi.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Vi.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Vi.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Vi.INFO].concat(t)),this._logHandler.apply(this,[this,Vi.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Vi.WARN].concat(t)),this._logHandler.apply(this,[this,Vi.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Vi.ERROR].concat(t)),this._logHandler.apply(this,[this,Vi.ERROR].concat(t))}}]),e}();var $i=function(){function e(t){li(this,e),this.container=t}return hi(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Xi="@firebase/app",Ji="0.7.17",Zi=new Yi("@firebase/app"),ea="[DEFAULT]",ta=(di(qi={},Xi,"fire-core"),di(qi,"@firebase/app-compat","fire-core-compat"),di(qi,"@firebase/analytics","fire-analytics"),di(qi,"@firebase/analytics-compat","fire-analytics-compat"),di(qi,"@firebase/app-check","fire-app-check"),di(qi,"@firebase/app-check-compat","fire-app-check-compat"),di(qi,"@firebase/auth","fire-auth"),di(qi,"@firebase/auth-compat","fire-auth-compat"),di(qi,"@firebase/database","fire-rtdb"),di(qi,"@firebase/database-compat","fire-rtdb-compat"),di(qi,"@firebase/functions","fire-fn"),di(qi,"@firebase/functions-compat","fire-fn-compat"),di(qi,"@firebase/installations","fire-iid"),di(qi,"@firebase/installations-compat","fire-iid-compat"),di(qi,"@firebase/messaging","fire-fcm"),di(qi,"@firebase/messaging-compat","fire-fcm-compat"),di(qi,"@firebase/performance","fire-perf"),di(qi,"@firebase/performance-compat","fire-perf-compat"),di(qi,"@firebase/remote-config","fire-rc"),di(qi,"@firebase/remote-config-compat","fire-rc-compat"),di(qi,"@firebase/storage","fire-gcs"),di(qi,"@firebase/storage-compat","fire-gcs-compat"),di(qi,"@firebase/firestore","fire-fst"),di(qi,"@firebase/firestore-compat","fire-fst-compat"),di(qi,"fire-js","fire-js"),di(qi,"firebase","fire-js-all"),qi),na=new Map,ra=new Map;function ia(e,t){try{e.container.addComponent(t)}catch(n){Zi.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function aa(e){var t=e.name;if(ra.has(t))return Zi.debug("There were multiple attempts to register component ".concat(t,".")),!1;ra.set(t,e);var n,r=ri(na.values());try{for(r.s();!(n=r.n()).done;){ia(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function oa(e,t){return e.container.getProvider(t)}var ua,sa=(di(Wi={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),di(Wi,"bad-app-name","Illegal App name: '{$appName}"),di(Wi,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),di(Wi,"app-deleted","Firebase App named '{$appName}' already deleted"),di(Wi,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),di(Wi,"invalid-log-argument","First argument to `onLog` must be null or a function."),Wi),ca=new _i("app","Firebase",sa),la=function(){function e(t,n,r){var i=this;li(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ji("app",(function(){return i}),"PUBLIC"))}return hi(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw ca.create("app-deleted",{appName:this._name})}}]),e}(),fa="9.6.7";function ha(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ea,t=na.get(e);if(!t)throw ca.create("no-app",{appName:e});return t}function da(e,t,n){var r,i=null!==(r=ta[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Zi.warn(u.join(" "))}aa(new ji("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}ua="",aa(new ji("platform-logger",(function(e){return new $i(e)}),"PRIVATE")),da(Xi,Ji,ua),da(Xi,Ji,"esm2017"),da("fire-js","");var pa,va="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},ya={},ma=ma||{},ga=va||self;function ka(){}function ba(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function wa(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Ea="closure_uid_"+(1e9*Math.random()>>>0),xa=0;function Sa(e,t,n){return e.call.apply(e.bind,arguments)}function _a(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Ta(e,t,n){return(Ta=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Sa:_a).apply(null,arguments)}function Oa(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Ia(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Ca(){this.s=this.s,this.o=this.o}var Na={};Ca.prototype.s=!1,Ca.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Ea)&&e[Ea]||(e[Ea]=++xa)}(this);delete Na[e]}},Ca.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Aa=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Pa=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function Da(e){return Array.prototype.concat.apply([],arguments)}function Ra(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function La(e){return/^[\s\xa0]*$/.test(e)}var ja,Ma=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Ua(e,t){return-1!=e.indexOf(t)}function Fa(e,t){return e<t?-1:e>t?1:0}e:{var Va=ga.navigator;if(Va){var za=Va.userAgent;if(za){ja=za;break e}}ja=""}function Ba(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function qa(e){var t={};for(var n in e)t[n]=e[n];return t}var Wa="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ha(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Wa.length;a++)n=Wa[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Ka(e){return Ka[" "](e),e}Ka[" "]=ka;var Ga,Qa=Ua(ja,"Opera"),Ya=Ua(ja,"Trident")||Ua(ja,"MSIE"),$a=Ua(ja,"Edge"),Xa=$a||Ya,Ja=Ua(ja,"Gecko")&&!(Ua(ja.toLowerCase(),"webkit")&&!Ua(ja,"Edge"))&&!(Ua(ja,"Trident")||Ua(ja,"MSIE"))&&!Ua(ja,"Edge"),Za=Ua(ja.toLowerCase(),"webkit")&&!Ua(ja,"Edge");function eo(){var e=ga.document;return e?e.documentMode:void 0}e:{var to="",no=function(){var e=ja;return Ja?/rv:([^\);]+)(\)|;)/.exec(e):$a?/Edge\/([\d\.]+)/.exec(e):Ya?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Za?/WebKit\/(\S+)/.exec(e):Qa?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(no&&(to=no?no[1]:""),Ya){var ro=eo();if(null!=ro&&ro>parseFloat(to)){Ga=String(ro);break e}}Ga=to}var io,ao={};function oo(){return function(e){var t=ao;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Ma(String(Ga)).split("."),n=Ma("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Fa(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Fa(0==a[2].length,0==o[2].length)||Fa(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(ga.document&&Ya){var uo=eo();io=uo||(parseInt(Ga,10)||void 0)}else io=void 0;var so=io,co=function(){if(!ga.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ga.addEventListener("test",ka,t),ga.removeEventListener("test",ka,t)}catch(n){}return e}();function lo(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function fo(e,t){if(lo.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Ja){e:{try{Ka(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:ho[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&fo.Z.h.call(this)}}lo.prototype.h=function(){this.defaultPrevented=!0},Ia(fo,lo);var ho={2:"touch",3:"pen",4:"mouse"};fo.prototype.h=function(){fo.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var po="closure_listenable_"+(1e6*Math.random()|0),vo=0;function yo(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++vo,this.ca=this.fa=!1}function mo(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function go(e){this.src=e,this.g={},this.h=0}function ko(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Aa(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(mo(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function bo(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}go.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=bo(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new yo(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var wo="closure_lm_"+(1e6*Math.random()|0),Eo={};function xo(e,t,n,r,i){if(r&&r.once)return _o(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)xo(e,t[a],n,r,i);return null}return n=Po(n),e&&e[po]?e.N(t,n,wa(r)?!!r.capture:!!r,i):So(e,t,n,!1,r,i)}function So(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=wa(i)?!!i.capture:!!i,u=No(e);if(u||(e[wo]=u=new go(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Co;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)co||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Io(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function _o(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)_o(e,t[a],n,r,i);return null}return n=Po(n),e&&e[po]?e.O(t,n,wa(r)?!!r.capture:!!r,i):So(e,t,n,!0,r,i)}function To(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)To(e,t[a],n,r,i);else r=wa(r)?!!r.capture:!!r,n=Po(n),e&&e[po]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=bo(a=e.g[t],n,r,i))&&(mo(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=No(e))&&(t=e.g[t.toString()],e=-1,t&&(e=bo(t,n,r,i)),(n=-1<e?t[e]:null)&&Oo(n))}function Oo(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[po])ko(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Io(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=No(t))?(ko(n,e),0==n.h&&(n.src=null,t[wo]=null)):mo(e)}}}function Io(e){return e in Eo?Eo[e]:Eo[e]="on"+e}function Co(e,t){if(e.ca)e=!0;else{t=new fo(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Oo(e),e=n.call(r,t)}return e}function No(e){return(e=e[wo])instanceof go?e:null}var Ao="__closure_events_fn_"+(1e9*Math.random()>>>0);function Po(e){return"function"===typeof e?e:(e[Ao]||(e[Ao]=function(t){return e.handleEvent(t)}),e[Ao])}function Do(){Ca.call(this),this.i=new go(this),this.P=this,this.I=null}function Ro(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new lo(t,e);else if(t instanceof lo)t.target=t.target||e;else{var i=t;Ha(t=new lo(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Lo(o,r,!0,t)&&i}if(i=Lo(o=t.g=e,r,!0,t)&&i,i=Lo(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Lo(o=t.g=n[a],r,!1,t)&&i}function Lo(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&ko(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Ia(Do,Ca),Do.prototype[po]=!0,Do.prototype.removeEventListener=function(e,t,n,r){To(this,e,t,n,r)},Do.prototype.M=function(){if(Do.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)mo(n[r]);delete t.g[e],t.h--}}this.I=null},Do.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Do.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var jo=ga.JSON.stringify;function Mo(){var e=Ho,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Uo,Fo=function(){function e(){li(this,e),this.h=this.g=null}return hi(e,[{key:"add",value:function(e,t){var n=Vo.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Vo=new(function(){function e(t,n){li(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return hi(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new zo}),(function(e){return e.reset()})),zo=function(){function e(){li(this,e),this.next=this.g=this.h=null}return hi(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Bo(e){ga.setTimeout((function(){throw e}),0)}function qo(e,t){Uo||function(){var e=ga.Promise.resolve(void 0);Uo=function(){e.then(Ko)}}(),Wo||(Uo(),Wo=!0),Ho.add(e,t)}var Wo=!1,Ho=new Fo;function Ko(){for(var e;e=Mo();){try{e.h.call(e.g)}catch(n){Bo(n)}var t=Vo;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Wo=!1}function Go(e,t){Do.call(this),this.h=e||1,this.g=t||ga,this.j=Ta(this.kb,this),this.l=Date.now()}function Qo(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Yo(e,t,n){if("function"===typeof e)n&&(e=Ta(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Ta(e.handleEvent,e)}return 2147483647<Number(t)?-1:ga.setTimeout(e,t||0)}function $o(e){e.g=Yo((function(){e.g=null,e.i&&(e.i=!1,$o(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Ia(Go,Do),(pa=Go.prototype).da=!1,pa.S=null,pa.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ro(this,"tick"),this.da&&(Qo(this),this.start()))}},pa.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},pa.M=function(){Go.Z.M.call(this),Qo(this),delete this.g};var Xo=function(e){ii(n,e);var t=si(n);function n(e,r){var i;return li(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return hi(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:$o(this)}},{key:"M",value:function(){ni(ei(n.prototype),"M",this).call(this),this.g&&(ga.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Ca);function Jo(e){Ca.call(this),this.h=e,this.g={}}Ia(Jo,Ca);var Zo=[];function eu(e,t,n,r){Array.isArray(n)||(n&&(Zo[0]=n.toString()),n=Zo);for(var i=0;i<n.length;i++){var a=xo(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function tu(e){Ba(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Oo(e)}),e),e.g={}}function nu(){this.g=!0}function ru(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return jo(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Jo.prototype.M=function(){Jo.Z.M.call(this),tu(this)},Jo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},nu.prototype.Aa=function(){this.g=!1},nu.prototype.info=function(){};var iu={},au=null;function ou(){return au=au||new Do}function uu(e){lo.call(this,iu.Ma,e)}function su(e){var t=ou();Ro(t,new uu(t,e))}function cu(e,t){lo.call(this,iu.STAT_EVENT,e),this.stat=t}function lu(e){var t=ou();Ro(t,new cu(t,e))}function fu(e,t){lo.call(this,iu.Na,e),this.size=t}function hu(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return ga.setTimeout((function(){e()}),t)}iu.Ma="serverreachability",Ia(uu,lo),iu.STAT_EVENT="statevent",Ia(cu,lo),iu.Na="timingevent",Ia(fu,lo);var du={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},pu={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function vu(){}function yu(e){return e.h||(e.h=e.i())}function mu(){}vu.prototype.h=null;var gu,ku={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function bu(){lo.call(this,"d")}function wu(){lo.call(this,"c")}function Eu(){}function xu(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Jo(this),this.P=_u,e=Xa?125:void 0,this.W=new Go(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Su}function Su(){this.i=null,this.g="",this.h=!1}Ia(bu,lo),Ia(wu,lo),Ia(Eu,vu),Eu.prototype.g=function(){return new XMLHttpRequest},Eu.prototype.i=function(){return{}},gu=new Eu;var _u=45e3,Tu={},Ou={};function Iu(e,t,n){e.K=1,e.v=Xu(Hu(t)),e.s=n,e.U=!0,Cu(e,null)}function Cu(e,t){e.F=Date.now(),Du(e),e.A=Hu(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),ls(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Su,e.g=hc(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Xo(Ta(e.Ia,e,e.g),e.O)),eu(e.V,e.g,"readystatechange",e.gb),t=e.H?qa(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),su(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Nu(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Au(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Pu(e,n))==Ou){4==t&&(e.o=4,lu(14),i=!1),ru(e.j,e.m,null,"[Incomplete Response]");break}if(r==Tu){e.o=4,lu(15),ru(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}ru(e.j,e.m,r,null),Uu(e,r)}Nu(e)&&r!=Ou&&r!=Tu&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,lu(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),ic(t),t.L=!0,lu(11))):(ru(e.j,e.m,n,"[Invalid Chunked Response]"),Mu(e),ju(e))}function Pu(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ou:(n=Number(t.substring(n,r)),isNaN(n)?Tu:(r+=1)+n>t.length?Ou:(t=t.substr(r,n),e.C=r+n,t))}function Du(e){e.Y=Date.now()+e.P,Ru(e,e.P)}function Ru(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=hu(Ta(e.eb,e),t)}function Lu(e){e.B&&(ga.clearTimeout(e.B),e.B=null)}function ju(e){0==e.l.G||e.I||uc(e.l,e)}function Mu(e){Lu(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Qo(e.W),tu(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Uu(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||gs(n.i,e)))if(n.I=e.N,!e.J&&gs(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;oc(n),Ys(n)}rc(n),lu(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=hu(Ta(n.ab,n),6e3));if(1>=ms(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else cc(n,11)}else if((e.J||n.g==e)&&oc(n),!La(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Ua(l,"spdy")||Ua(l,"quic")||Ua(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(ks(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,$u(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=fc(r,r.H?r.la:null,r.W),d.J){bs(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Lu(p),Du(p)),r.g=d}else nc(r);0<n.l.length&&Js(n)}else"stop"!=a[0]&&"close"!=a[0]||cc(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?cc(n,7):Qs(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}su(4)}catch(a){}}function Fu(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(ba(e)||"string"===typeof e)Pa(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(ba(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(ba(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Vu(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Vu)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function zu(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Bu(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Bu(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Bu(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(pa=xu.prototype).setTimeout=function(e){this.P=e},pa.gb=function(e){e=e.target;var t=this.L;t&&3==qs(e)?t.l():this.Ia(e)},pa.Ia=function(e){try{if(e==this.g)e:{var t=qs(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Xa||this.g&&(this.h.h||this.g.ga()||Ws(this.g)))){this.I||4!=t||7==n||su(8==n||0>=r?3:2),Lu(this);var i=this.g.ba();this.N=i;t:if(Nu(this)){var a=Ws(this.g);e="";var o=a.length,u=4==qs(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Mu(this),ju(this);var s="";break t}this.h.i=new ga.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!La(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,lu(12),Mu(this),ju(this);break e}ru(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Uu(this,i)}this.U?(Au(this,t,s),Xa&&this.i&&3==t&&(eu(this.V,this.W,"tick",this.fb),this.W.start())):(ru(this.j,this.m,s,null),Uu(this,s)),4==t&&Mu(this),this.i&&!this.I&&(4==t?uc(this.l,this):(this.i=!1,Du(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,lu(12)):(this.o=0,lu(13)),Mu(this),ju(this)}}}catch(t){}},pa.fb=function(){if(this.g){var e=qs(this.g),t=this.g.ga();this.C<t.length&&(Lu(this),Au(this,e,t),this.i&&4!=e&&Du(this))}},pa.cancel=function(){this.I=!0,Mu(this)},pa.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(su(3),lu(17)),Mu(this),this.o=2,ju(this)):Ru(this,this.Y-e)},(pa=Vu.prototype).R=function(){zu(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},pa.T=function(){return zu(this),this.g.concat()},pa.get=function(e,t){return Bu(this.h,e)?this.h[e]:t},pa.set=function(e,t){Bu(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},pa.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var qu=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Wu(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Wu){this.g=void 0!==t?t:e.g,Ku(this,e.j),this.s=e.s,Gu(this,e.i),Qu(this,e.m),this.l=e.l,t=e.h;var n=new os;n.i=t.i,t.g&&(n.g=new Vu(t.g),n.h=t.h),Yu(this,n),this.o=e.o}else e&&(n=String(e).match(qu))?(this.g=!!t,Ku(this,n[1]||"",!0),this.s=Ju(n[2]||""),Gu(this,n[3]||"",!0),Qu(this,n[4]),this.l=Ju(n[5]||"",!0),Yu(this,n[6]||"",!0),this.o=Ju(n[7]||"")):(this.g=!!t,this.h=new os(null,this.g))}function Hu(e){return new Wu(e)}function Ku(e,t,n){e.j=n?Ju(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Gu(e,t,n){e.i=n?Ju(t,!0):t}function Qu(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Yu(e,t,n){t instanceof os?(e.h=t,function(e,t){t&&!e.j&&(us(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(ss(this,t),ls(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Zu(t,is)),e.h=new os(t,e.g))}function $u(e,t,n){e.h.set(t,n)}function Xu(e){return $u(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Ju(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Zu(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,es),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function es(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Wu.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Zu(t,ts,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Zu(t,ts,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Zu(n,"/"==n.charAt(0)?rs:ns,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Zu(n,as)),e.join("")};var ts=/[#\/\?@]/g,ns=/[#\?:]/g,rs=/[#\?]/g,is=/[#\?@]/g,as=/#/g;function os(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function us(e){e.g||(e.g=new Vu,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function ss(e,t){us(e),t=fs(e,t),Bu(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Bu((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&zu(e)))}function cs(e,t){return us(e),t=fs(e,t),Bu(e.g.h,t)}function ls(e,t,n){ss(e,t),0<n.length&&(e.i=null,e.g.set(fs(e,t),Ra(n)),e.h+=n.length)}function fs(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(pa=os.prototype).add=function(e,t){us(this),this.i=null,e=fs(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},pa.forEach=function(e,t){us(this),this.g.forEach((function(n,r){Pa(n,(function(n){e.call(t,n,r,this)}),this)}),this)},pa.T=function(){us(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},pa.R=function(e){us(this);var t=[];if("string"===typeof e)cs(this,e)&&(t=Da(t,this.g.get(fs(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Da(t,e[n])}return t},pa.set=function(e,t){return us(this),this.i=null,cs(this,e=fs(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},pa.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},pa.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var hs=hi((function e(t,n){li(this,e),this.h=t,this.g=n}));function ds(e){this.l=e||vs,ga.PerformanceNavigationTiming?e=0<(e=ga.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(ga.g&&ga.g.Ea&&ga.g.Ea()&&ga.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ps,vs=10;function ys(e){return!!e.h||!!e.g&&e.g.size>=e.j}function ms(e){return e.h?1:e.g?e.g.size:0}function gs(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function ks(e,t){e.g?e.g.add(t):e.h=t}function bs(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function ws(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=ri(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Ra(e.i)}function Es(){}function xs(){this.g=new Es}function Ss(e,t,n){var r=n||"";try{Fu(e,(function(e,n){var i=e;wa(e)&&(i=jo(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function _s(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Ts(e){this.l=e.$b||null,this.j=e.ib||!1}function Os(e,t){Do.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Is,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ds.prototype.cancel=function(){if(this.i=ws(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=ri(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Es.prototype.stringify=function(e){return ga.JSON.stringify(e,void 0)},Es.prototype.parse=function(e){return ga.JSON.parse(e,void 0)},Ia(Ts,vu),Ts.prototype.g=function(){return new Os(this.l,this.j)},Ts.prototype.i=(ps={},function(){return ps}),Ia(Os,Do);var Is=0;function Cs(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Ns(e){e.readyState=4,e.l=null,e.j=null,e.A=null,As(e)}function As(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(pa=Os.prototype).open=function(e,t){if(this.readyState!=Is)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,As(this)},pa.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||ga).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},pa.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ns(this)),this.readyState=Is},pa.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,As(this)),this.g&&(this.readyState=3,As(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof ga.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Cs(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},pa.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ns(this):As(this),3==this.readyState&&Cs(this)}},pa.Ua=function(e){this.g&&(this.response=this.responseText=e,Ns(this))},pa.Ta=function(e){this.g&&(this.response=e,Ns(this))},pa.ha=function(){this.g&&Ns(this)},pa.setRequestHeader=function(e,t){this.v.append(e,t)},pa.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},pa.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Os.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Ps=ga.JSON.parse;function Ds(e){Do.call(this),this.headers=new Vu,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Rs,this.K=this.L=!1}Ia(Ds,Do);var Rs="",Ls=/^https?$/i,js=["POST","PUT"];function Ms(e){return"content-type"==e.toLowerCase()}function Us(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Fs(e),zs(e)}function Fs(e){e.D||(e.D=!0,Ro(e,"complete"),Ro(e,"error"))}function Vs(e){if(e.h&&"undefined"!=typeof ma&&(!e.C[1]||4!=qs(e)||2!=e.ba()))if(e.v&&4==qs(e))Yo(e.Fa,0,e);else if(Ro(e,"readystatechange"),4==qs(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(qu)[1]||null;if(!a&&ga.self&&ga.self.location){var o=ga.self.location.protocol;a=o.substr(0,o.length-1)}i=!Ls.test(a?a.toLowerCase():"")}t=i}if(t)Ro(e,"complete"),Ro(e,"success");else{e.m=6;try{var u=2<qs(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",Fs(e)}}finally{zs(e)}}}function zs(e,t){if(e.g){Bs(e);var n=e.g,r=e.C[0]?ka:null;e.g=null,e.C=null,t||Ro(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Bs(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(ga.clearTimeout(e.A),e.A=null)}function qs(e){return e.g?e.g.readyState:0}function Ws(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Rs:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Hs(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Ba(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):$u(e,t,n))}function Ks(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Gs(e){this.za=0,this.l=[],this.h=new nu,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ks("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ks("baseRetryDelayMs",5e3,e),this.$a=Ks("retryDelaySeedMs",1e4,e),this.Ya=Ks("forwardChannelMaxRetries",2,e),this.ra=Ks("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new ds(e&&e.concurrentRequestLimit),this.Ca=new xs,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Qs(e){if($s(e),3==e.G){var t=e.V++,n=Hu(e.F);$u(n,"SID",e.J),$u(n,"RID",t),$u(n,"TYPE","terminate"),ec(e,n),(t=new xu(e,e.h,t,void 0)).K=2,t.v=Xu(Hu(n)),n=!1,ga.navigator&&ga.navigator.sendBeacon&&(n=ga.navigator.sendBeacon(t.v.toString(),"")),!n&&ga.Image&&((new Image).src=t.v,n=!0),n||(t.g=hc(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Du(t)}lc(e)}function Ys(e){e.g&&(ic(e),e.g.cancel(),e.g=null)}function $s(e){Ys(e),e.u&&(ga.clearTimeout(e.u),e.u=null),oc(e),e.i.cancel(),e.m&&("number"===typeof e.m&&ga.clearTimeout(e.m),e.m=null)}function Xs(e,t){e.l.push(new hs(e.Za++,t)),3==e.G&&Js(e)}function Js(e){ys(e.i)||e.m||(e.m=!0,qo(e.Ha,e),e.C=0)}function Zs(e,t){var n;n=t?t.m:e.V++;var r=Hu(e.F);$u(r,"SID",e.J),$u(r,"RID",n),$u(r,"AID",e.U),ec(e,r),e.o&&e.s&&Hs(r,e.o,e.s),n=new xu(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=tc(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),ks(e.i,n),Iu(n,r,t)}function ec(e,t){e.j&&Fu({},(function(e,n){$u(t,n,e)}))}function tc(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Ta(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{Ss(l,o,"req"+c+"_")}catch(Vc){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function nc(e){e.g||e.u||(e.Y=1,qo(e.Ga,e),e.A=0)}function rc(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=hu(Ta(e.Ga,e),sc(e,e.A)),e.A++,!0)}function ic(e){null!=e.B&&(ga.clearTimeout(e.B),e.B=null)}function ac(e){e.g=new xu(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Hu(e.oa);$u(t,"RID","rpc"),$u(t,"SID",e.J),$u(t,"CI",e.N?"0":"1"),$u(t,"AID",e.U),ec(e,t),$u(t,"TYPE","xmlhttp"),e.o&&e.s&&Hs(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Xu(Hu(t)),n.s=null,n.U=!0,Cu(n,e)}function oc(e){null!=e.v&&(ga.clearTimeout(e.v),e.v=null)}function uc(e,t){var n=null;if(e.g==t){oc(e),ic(e),e.g=null;var r=2}else{if(!gs(e.i,t))return;n=t.D,bs(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Ro(r=ou(),new fu(r,n,t,i)),Js(e)}else nc(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(ms(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=hu(Ta(e.Ha,e,t),sc(e,e.C)),e.C++,!0))}(e,t)||2==r&&rc(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:cc(e,5);break;case 4:cc(e,10);break;case 3:cc(e,6);break;default:cc(e,2)}}function sc(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function cc(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Ta(e.jb,e);n||(n=new Wu("//www.google.com/images/cleardot.gif"),ga.location&&"http"==ga.location.protocol||Ku(n,"https"),Xu(n)),function(e,t){var n=new nu;if(ga.Image){var r=new Image;r.onload=Oa(_s,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Oa(_s,n,r,"TestLoadImage: error",!1,t),r.onabort=Oa(_s,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Oa(_s,n,r,"TestLoadImage: timeout",!1,t),ga.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else lu(2);e.G=0,e.j&&e.j.va(t),lc(e),$s(e)}function lc(e){e.G=0,e.I=-1,e.j&&(0==ws(e.i).length&&0==e.l.length||(e.i.i.length=0,Ra(e.l),e.l.length=0),e.j.ua())}function fc(e,t,n){var r=function(e){return e instanceof Wu?Hu(e):new Wu(e,void 0)}(n);if(""!=r.i)t&&Gu(r,t+"."+r.i),Qu(r,r.m);else{var i=ga.location;r=function(e,t,n,r){var i=new Wu(null,void 0);return e&&Ku(i,e),t&&Gu(i,t),n&&Qu(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Ba(e.aa,(function(e,t){$u(r,t,e)})),t=e.D,n=e.sa,t&&n&&$u(r,t,n),$u(r,"VER",e.ma),ec(e,r),r}function hc(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Ds(new Ts({ib:!0})):new Ds(e.qa)).L=e.H,t}function dc(){}function pc(){if(Ya&&!(10<=Number(so)))throw Error("Environmental error: no available transport.")}function vc(e,t){Do.call(this),this.g=new Gs(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!La(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!La(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new gc(this)}function yc(e){bu.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function mc(){wu.call(this),this.status=1}function gc(e){this.g=e}(pa=Ds.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():gu.g(),this.C=this.u?yu(this.u):yu(gu),this.g.onreadystatechange=Ta(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void Us(this,a)}e=n||"";var i=new Vu(this.headers);r&&Fu(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Ms,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=ga.FormData&&e instanceof ga.FormData,!(0<=Aa(js,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Bs(this),0<this.B&&((this.K=function(e){return Ya&&oo()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ta(this.pa,this)):this.A=Yo(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){Us(this,a)}},pa.pa=function(){"undefined"!=typeof ma&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ro(this,"timeout"),this.abort(8))},pa.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ro(this,"complete"),Ro(this,"abort"),zs(this))},pa.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),zs(this,!0)),Ds.Z.M.call(this)},pa.Fa=function(){this.s||(this.F||this.v||this.l?Vs(this):this.cb())},pa.cb=function(){Vs(this)},pa.ba=function(){try{return 2<qs(this)?this.g.status:-1}catch(ps){return-1}},pa.ga=function(){try{return this.g?this.g.responseText:""}catch(ps){return""}},pa.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Ps(t)}},pa.Da=function(){return this.m},pa.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(pa=Gs.prototype).ma=8,pa.G=1,pa.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},pa.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new xu(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Ha(n=qa(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=tc(this,t,r),$u(i=Hu(this.F),"RID",e),$u(i,"CVER",22),this.D&&$u(i,"X-HTTP-Session-Id",this.D),ec(this,i),this.o&&n&&Hs(i,this.o,n),ks(this.i,t),this.Ra&&$u(i,"TYPE","init"),this.ja?($u(i,"$req",r),$u(i,"SID","null"),t.$=!0,Iu(t,i,null)):Iu(t,i,r),this.G=2}}else 3==this.G&&(e?Zs(this,e):0==this.l.length||ys(this.i)||Zs(this))},pa.Ga=function(){if(this.u=null,ac(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=hu(Ta(this.bb,this),e)}},pa.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,lu(10),Ys(this),ac(this))},pa.ab=function(){null!=this.v&&(this.v=null,Ys(this),rc(this),lu(19))},pa.jb=function(e){e?(this.h.info("Successfully pinged google.com"),lu(2)):(this.h.info("Failed to ping google.com"),lu(1))},(pa=dc.prototype).xa=function(){},pa.wa=function(){},pa.va=function(){},pa.ua=function(){},pa.Oa=function(){},pc.prototype.g=function(e,t){return new vc(e,t)},Ia(vc,Do),vc.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),qo(Ta(e.hb,e,t))),lu(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=fc(e,null,e.W),Js(e)},vc.prototype.close=function(){Qs(this.g)},vc.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Xs(this.g,t)}else this.v?((t={}).__data__=jo(e),Xs(this.g,t)):Xs(this.g,e)},vc.prototype.M=function(){this.g.j=null,delete this.j,Qs(this.g),delete this.g,vc.Z.M.call(this)},Ia(yc,bu),Ia(mc,wu),Ia(gc,dc),gc.prototype.xa=function(){Ro(this.g,"a")},gc.prototype.wa=function(e){Ro(this.g,new yc(e))},gc.prototype.va=function(e){Ro(this.g,new mc(e))},gc.prototype.ua=function(){Ro(this.g,"b")},pc.prototype.createWebChannel=pc.prototype.g,vc.prototype.send=vc.prototype.u,vc.prototype.open=vc.prototype.m,vc.prototype.close=vc.prototype.close,du.NO_ERROR=0,du.TIMEOUT=8,du.HTTP_ERROR=6,pu.COMPLETE="complete",mu.EventType=ku,ku.OPEN="a",ku.CLOSE="b",ku.ERROR="c",ku.MESSAGE="d",Do.prototype.listen=Do.prototype.N,Ds.prototype.listenOnce=Ds.prototype.O,Ds.prototype.getLastError=Ds.prototype.La,Ds.prototype.getLastErrorCode=Ds.prototype.Da,Ds.prototype.getStatus=Ds.prototype.ba,Ds.prototype.getResponseJson=Ds.prototype.Qa,Ds.prototype.getResponseText=Ds.prototype.ga,Ds.prototype.send=Ds.prototype.ea;var kc=ya.createWebChannelTransport=function(){return new pc},bc=ya.getStatEventTarget=function(){return ou()},wc=ya.ErrorCode=du,Ec=ya.EventType=pu,xc=ya.Event=iu,Sc=ya.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},_c=ya.FetchXmlHttpFactory=Ts,Tc=ya.WebChannel=mu,Oc=ya.XhrIo=Ds,Ic="@firebase/firestore",Cc=function(){function e(t){li(this,e),this.uid=t}return hi(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Cc.UNAUTHENTICATED=new Cc(null),Cc.GOOGLE_CREDENTIALS=new Cc("google-credentials-uid"),Cc.FIRST_PARTY=new Cc("first-party-uid"),Cc.MOCK_USER=new Cc("mock-user");var Nc="9.6.7",Ac=new Yi("@firebase/firestore");function Pc(){return Ac.logLevel}function Dc(e){if(Ac.logLevel<=Vi.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(jc);Ac.debug.apply(Ac,["Firestore (".concat(Nc,"): ").concat(e)].concat(ci(i)))}}function Rc(e){if(Ac.logLevel<=Vi.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(jc);Ac.error.apply(Ac,["Firestore (".concat(Nc,"): ").concat(e)].concat(ci(i)))}}function Lc(e){if(Ac.logLevel<=Vi.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(jc);Ac.warn.apply(Ac,["Firestore (".concat(Nc,"): ").concat(e)].concat(ci(i)))}}function jc(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Mc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Nc,") INTERNAL ASSERTION FAILED: ")+e;throw Rc(t),new Error(t)}function Uc(e,t){e||Mc()}function Fc(e,t){return e}var Vc={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},zc=function(e){ii(n,e);var t=si(n);function n(e,r){var i;return li(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return hi(n)}(Si),Bc=hi((function e(){var t=this;li(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),qc=hi((function e(t,n){li(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Wc=function(){function e(){li(this,e)}return hi(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Cc.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Hc=function(){function e(t){li(this,e),this.t=t,this.currentUser=Cc.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return hi(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Bc;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Bc,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Qr($r().mark((function e(){return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Dc("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Dc("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Bc)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Dc("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Uc("string"==typeof n.accessToken),new qc(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Uc(null===e||"string"==typeof e),new Cc(e)}}]),e}(),Kc=hi((function e(t,n,r){li(this,e),this.type="FirstParty",this.user=Cc.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),Gc=function(){function e(t,n,r){li(this,e),this.h=t,this.l=n,this.m=r}return hi(e,[{key:"getToken",value:function(){return Promise.resolve(new Kc(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Cc.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Qc=hi((function e(t){li(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Yc=function(){function e(t){li(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return hi(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Dc("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,Dc("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Dc("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):Dc("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Uc("string"==typeof t.token),e.p=t.token,new Qc(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),$c=function(){function e(t,n){var r=this;li(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.I(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return hi(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function Xc(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}$c.A=-1;var Jc=function(){function e(){li(this,e)}return hi(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Xc(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Zc(e,t){return e<t?-1:e>t?1:0}function el(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}var tl=function(){function e(t,n){if(li(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new zc(Vc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new zc(Vc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new zc(Vc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new zc(Vc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return hi(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Zc(this.nanoseconds,e.nanoseconds):Zc(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),nl=function(){function e(t){li(this,e),this.timestamp=t}return hi(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new tl(0,0))}}]),e}();function rl(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function il(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function al(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var ol=function(){function e(t,n,r){li(this,e),void 0===n?n=0:n>t.length&&Mc(),void 0===r?r=t.length-n:r>t.length-n&&Mc(),this.segments=t,this.offset=n,this.len=r}return hi(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),ul=function(e){ii(n,e);var t=si(n);function n(){return li(this,n),t.apply(this,arguments)}return hi(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new zc(Vc.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,ci(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(ol),sl=/^[_a-zA-Z][_a-zA-Z0-9]*$/,cl=function(e){ii(n,e);var t=si(n);function n(){return li(this,n),t.apply(this,arguments)}return hi(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return sl.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new zc(Vc.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new zc(Vc.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new zc(Vc.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new zc(Vc.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(ol),ll=function(){function e(t){li(this,e),this.fields=t,t.sort(cl.comparator)}return hi(e,[{key:"covers",value:function(e){var t,n=ri(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return el(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var fl=function(e){function t(e){li(this,t),this.binaryString=e}return hi(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Zc(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();fl.EMPTY_BYTE_STRING=new fl("");var hl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function dl(e){if(Uc(!!e),"string"==typeof e){var t=0,n=hl.exec(e);if(Uc(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:pl(e.seconds),nanos:pl(e.nanos)}}function pl(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function vl(e){return"string"==typeof e?fl.fromBase64String(e):fl.fromUint8Array(e)}function yl(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ml(e){var t=e.mapValue.fields.__previous_value__;return yl(t)?ml(t):t}function gl(e){var t=dl(e.mapValue.fields.__local_write_time__.timestampValue);return new tl(t.seconds,t.nanos)}var kl=hi((function e(t,n,r,i,a,o,u,s){li(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),bl=function(){function e(t,n){li(this,e),this.projectId=t,this.database=n||"(default)"}return hi(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function wl(e){return null==e}function El(e){return 0===e&&1/e==-1/0}function xl(e){return"number"==typeof e&&Number.isInteger(e)&&!El(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Sl=function(){function e(t){li(this,e),this.path=t}return hi(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===ul.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(ul.fromString(t))}},{key:"fromName",value:function(t){return new e(ul.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(ul.emptyPath())}},{key:"comparator",value:function(e,t){return ul.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new ul(t.slice()))}}]),e}(),_l={mapValue:{fields:{__type__:{stringValue:"__max___"}}}};function Tl(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?yl(e)?4:10:Mc()}function Ol(e,t){if(e===t)return!0;var n=Tl(e);if(n!==Tl(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return gl(e).isEqual(gl(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=dl(e.timestampValue),r=dl(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return vl(e.bytesValue).isEqual(vl(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return pl(e.geoPointValue.latitude)===pl(t.geoPointValue.latitude)&&pl(e.geoPointValue.longitude)===pl(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return pl(e.integerValue)===pl(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=pl(e.doubleValue),r=pl(t.doubleValue);return n===r?El(n)===El(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return el(e.arrayValue.values||[],t.arrayValue.values||[],Ol);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(rl(n)!==rl(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ol(n[i],r[i])))return!1;return!0}(e,t);default:return Mc()}}function Il(e,t){return void 0!==(e.values||[]).find((function(e){return Ol(e,t)}))}function Cl(e,t){if(e===t)return 0;var n=Tl(e),r=Tl(t);if(n!==r)return Zc(n,r);switch(n){case 0:return 0;case 1:return Zc(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=pl(e.integerValue||e.doubleValue),r=pl(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Nl(e.timestampValue,t.timestampValue);case 4:return Nl(gl(e),gl(t));case 5:return Zc(e.stringValue,t.stringValue);case 6:return function(e,t){var n=vl(e),r=vl(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Zc(n[i],r[i]);if(0!==a)return a}return Zc(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Zc(pl(e.latitude),pl(t.latitude));return 0!==n?n:Zc(pl(e.longitude),pl(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Cl(n[i],r[i]);if(a)return a}return Zc(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Zc(r[o],a[o]);if(0!==u)return u;var s=Cl(n[r[o]],i[a[o]]);if(0!==s)return s}return Zc(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Mc()}}function Nl(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Zc(e,t);var n=dl(e),r=dl(t),i=Zc(n.seconds,r.seconds);return 0!==i?i:Zc(n.nanos,r.nanos)}function Al(e){return Pl(e)}function Pl(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=dl(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?vl(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Sl.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=ri(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Pl(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=ri(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Pl(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Mc();var t,n}function Dl(e){return!!e&&"integerValue"in e}function Rl(e){return!!e&&"arrayValue"in e}function Ll(e){return!!e&&"nullValue"in e}function jl(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ml(e){return!!e&&"mapValue"in e}function Ul(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return il(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Ul(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Ul(e.arrayValue.values[r]);return n}return Object.assign({},e)}var Fl=function(){function e(t){li(this,e),this.value=t}return hi(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Ml(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ul(t)}},{key:"setAll",value:function(e){var t=this,n=cl.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Ul(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Ml(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Ol(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Ml(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){il(t,(function(t,n){return e[t]=n}));var r,i=ri(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Ul(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Vl(e){var t=[];return il(e.fields,(function(e,n){var r=new cl([e]);if(Ml(n)){var i=Vl(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=ri(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new ll(t)}var zl=function(){function e(t,n,r,i,a,o){li(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return hi(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Fl.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Fl.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,nl.min(),nl.min(),Fl.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,nl.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,nl.min(),Fl.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,nl.min(),Fl.empty(),2)}}]),e}(),Bl=hi((function e(t,n,r,i){li(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));Bl.UNKNOWN_ID=-1;var ql=hi((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;li(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.P=null}));function Wl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new ql(e,t,n,r,i,a,o)}function Hl(e){var t=Fc(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+Al(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),wl(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Al(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Al(e)})).join(",")),t.P=n}return t.P}function Kl(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!of(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Ol(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!sf(e.startAt,t.startAt)&&sf(e.endAt,t.endAt)}function Gl(e){return Sl.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Ql=function(e){ii(n,e);var t=si(n);function n(e,r,i){var a;return li(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return hi(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.V(Cl(t,this.value)):null!==t&&Tl(this.value)===Tl(t)&&this.V(Cl(t,this.value))}},{key:"V",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Mc()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.v(e,t,r):new Yl(e,t,r):"array-contains"===t?new Zl(e,r):"in"===t?new ef(e,r):"not-in"===t?new tf(e,r):"array-contains-any"===t?new nf(e,r):new n(e,t,r)}},{key:"v",value:function(e,t,n){return"in"===t?new $l(e,n):new Xl(e,n)}}]),n}(function(){return hi((function e(){li(this,e)}))}()),Yl=function(e){ii(n,e);var t=si(n);function n(e,r,i){var a;return li(this,n),(a=t.call(this,e,r,i)).key=Sl.fromName(i.referenceValue),a}return hi(n,[{key:"matches",value:function(e){var t=Sl.comparator(e.key,this.key);return this.V(t)}}]),n}(Ql),$l=function(e){ii(n,e);var t=si(n);function n(e,r){var i;return li(this,n),(i=t.call(this,e,"in",r)).keys=Jl("in",r),i}return hi(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Ql),Xl=function(e){ii(n,e);var t=si(n);function n(e,r){var i;return li(this,n),(i=t.call(this,e,"not-in",r)).keys=Jl("not-in",r),i}return hi(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Ql);function Jl(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Sl.fromName(e.referenceValue)}))}var Zl=function(e){ii(n,e);var t=si(n);function n(e,r){return li(this,n),t.call(this,e,"array-contains",r)}return hi(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Rl(t)&&Il(t.arrayValue,this.value)}}]),n}(Ql),ef=function(e){ii(n,e);var t=si(n);function n(e,r){return li(this,n),t.call(this,e,"in",r)}return hi(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Il(this.value.arrayValue,t)}}]),n}(Ql),tf=function(e){ii(n,e);var t=si(n);function n(e,r){return li(this,n),t.call(this,e,"not-in",r)}return hi(n,[{key:"matches",value:function(e){if(Il(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Il(this.value.arrayValue,t)}}]),n}(Ql),nf=function(e){ii(n,e);var t=si(n);function n(e,r){return li(this,n),t.call(this,e,"array-contains-any",r)}return hi(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Rl(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Il(t.value.arrayValue,e)}))}}]),n}(Ql),rf=hi((function e(t,n){li(this,e),this.position=t,this.inclusive=n})),af=hi((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";li(this,e),this.field=t,this.dir=n}));function of(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function uf(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Sl.comparator(Sl.fromName(o.referenceValue),n.key):Cl(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function sf(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Ol(e.position[n],t.position[n]))return!1;return!0}var cf=hi((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;li(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.D=null,this.C=null,this.startAt,this.endAt}));function lf(e,t,n,r,i,a,o,u){return new cf(e,t,n,r,i,a,o,u)}function ff(e){return new cf(e)}function hf(e){return!wl(e.limit)&&"F"===e.limitType}function df(e){return!wl(e.limit)&&"L"===e.limitType}function pf(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function vf(e){var t,n=ri(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.S())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function yf(e){return null!==e.collectionGroup}function mf(e){var t=Fc(e);if(null===t.D){t.D=[];var n=vf(t),r=pf(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new af(n)),t.D.push(new af(cl.keyField(),"asc"));else{var i,a=!1,o=ri(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.D.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new af(cl.keyField(),s))}}}return t.D}function gf(e){var t=Fc(e);if(!t.C)if("F"===t.limitType)t.C=Wl(t.path,t.collectionGroup,mf(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=ri(mf(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new af(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new rf(t.endAt.position,!t.endAt.inclusive):null,s=t.startAt?new rf(t.startAt.position,!t.startAt.inclusive):null;t.C=Wl(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.C}function kf(e,t,n){return new cf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function bf(e,t){return Kl(gf(e),gf(t))&&e.limitType===t.limitType}function wf(e){return"".concat(Hl(gf(e)),"|lt:").concat(e.limitType)}function Ef(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Al(t.value));var t})).join(", "),"]")),wl(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Al(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Al(e)})).join(",")),"Target(".concat(t,")")}(gf(e)),"; limitType=").concat(e.limitType,")")}function xf(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Sl.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=ri(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=ri(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=uf(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,mf(e),t))&&!(e.endAt&&!function(e,t,n){var r=uf(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,mf(e),t))}(e,t)}function Sf(e){return function(t,n){var r,i=!1,a=ri(mf(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=_f(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function _f(e,t,n){var r=e.field.isKeyField()?Sl.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Cl(r,i):Mc()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Mc()}}function Tf(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:El(t)?"-0":t}}function Of(e){return{integerValue:""+e}}function If(e,t){return xl(t)?Of(t):Tf(e,t)}var Cf=hi((function e(){li(this,e),this._=void 0}));function Nf(e,t,n){return e instanceof Df?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Rf?Lf(e,t):e instanceof jf?Mf(e,t):function(e,t){var n=Pf(e,t),r=Ff(n)+Ff(e.k);return Dl(n)&&Dl(e.k)?Of(r):Tf(e.O,r)}(e,t)}function Af(e,t,n){return e instanceof Rf?Lf(e,t):e instanceof jf?Mf(e,t):n}function Pf(e,t){return e instanceof Uf?Dl(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Df=function(e){ii(n,e);var t=si(n);function n(){return li(this,n),t.apply(this,arguments)}return hi(n)}(Cf),Rf=function(e){ii(n,e);var t=si(n);function n(e){var r;return li(this,n),(r=t.call(this)).elements=e,r}return hi(n)}(Cf);function Lf(e,t){var n,r=Vf(t),i=ri(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Ol(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var jf=function(e){ii(n,e);var t=si(n);function n(e){var r;return li(this,n),(r=t.call(this)).elements=e,r}return hi(n)}(Cf);function Mf(e,t){var n,r=Vf(t),i=ri(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Ol(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Uf=function(e){ii(n,e);var t=si(n);function n(e,r){var i;return li(this,n),(i=t.call(this)).O=e,i.k=r,i}return hi(n)}(Cf);function Ff(e){return pl(e.integerValue||e.doubleValue)}function Vf(e){return Rl(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var zf=hi((function e(t,n){li(this,e),this.field=t,this.transform=n}));var Bf=hi((function e(t,n){li(this,e),this.version=t,this.transformResults=n})),qf=function(){function e(t,n){li(this,e),this.updateTime=t,this.exists=n}return hi(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Wf(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Hf=hi((function e(){li(this,e)}));function Kf(e,t,n){e instanceof Xf?function(e,t,n){var r=e.value.clone(),i=eh(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Jf?function(e,t,n){if(Wf(e.precondition,t)){var r=eh(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Zf(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Gf(e,t,n){e instanceof Xf?function(e,t,n){if(Wf(e.precondition,t)){var r=e.value.clone(),i=th(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument($f(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Jf?function(e,t,n){if(Wf(e.precondition,t)){var r=th(e.fieldTransforms,n,t),i=t.data;i.setAll(Zf(e)),i.setAll(r),t.convertToFoundDocument($f(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){Wf(e.precondition,t)&&t.convertToNoDocument(nl.min())}(e,t)}function Qf(e,t){var n,r=null,i=ri(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=Pf(a.transform,o||null);null!=u&&(null==r&&(r=Fl.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Yf(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&el(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Rf&&t instanceof Rf||e instanceof jf&&t instanceof jf?el(e.elements,t.elements,Ol):e instanceof Uf&&t instanceof Uf?Ol(e.k,t.k):e instanceof Df&&t instanceof Df}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function $f(e){return e.isFoundDocument()?e.version:nl.min()}var Xf=function(e){ii(n,e);var t=si(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return li(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return hi(n)}(Hf),Jf=function(e){ii(n,e);var t=si(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return li(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return hi(n)}(Hf);function Zf(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function eh(e,t,n){var r=new Map;Uc(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Af(o,u,n[i]))}return r}function th(e,t,n){var r,i=new Map,a=ri(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,Nf(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var nh,rh,ih=function(e){ii(n,e);var t=si(n);function n(e,r){var i;return li(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return hi(n)}(Hf),ah=function(e){ii(n,e);var t=si(n);function n(e,r){var i;return li(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return hi(n)}(Hf),oh=hi((function e(t){li(this,e),this.count=t}));function uh(e){switch(e){default:return Mc();case Vc.CANCELLED:case Vc.UNKNOWN:case Vc.DEADLINE_EXCEEDED:case Vc.RESOURCE_EXHAUSTED:case Vc.INTERNAL:case Vc.UNAVAILABLE:case Vc.UNAUTHENTICATED:return!1;case Vc.INVALID_ARGUMENT:case Vc.NOT_FOUND:case Vc.ALREADY_EXISTS:case Vc.PERMISSION_DENIED:case Vc.FAILED_PRECONDITION:case Vc.ABORTED:case Vc.OUT_OF_RANGE:case Vc.UNIMPLEMENTED:case Vc.DATA_LOSS:return!0}}function sh(e){if(void 0===e)return Rc("GRPC error has no .code"),Vc.UNKNOWN;switch(e){case nh.OK:return Vc.OK;case nh.CANCELLED:return Vc.CANCELLED;case nh.UNKNOWN:return Vc.UNKNOWN;case nh.DEADLINE_EXCEEDED:return Vc.DEADLINE_EXCEEDED;case nh.RESOURCE_EXHAUSTED:return Vc.RESOURCE_EXHAUSTED;case nh.INTERNAL:return Vc.INTERNAL;case nh.UNAVAILABLE:return Vc.UNAVAILABLE;case nh.UNAUTHENTICATED:return Vc.UNAUTHENTICATED;case nh.INVALID_ARGUMENT:return Vc.INVALID_ARGUMENT;case nh.NOT_FOUND:return Vc.NOT_FOUND;case nh.ALREADY_EXISTS:return Vc.ALREADY_EXISTS;case nh.PERMISSION_DENIED:return Vc.PERMISSION_DENIED;case nh.FAILED_PRECONDITION:return Vc.FAILED_PRECONDITION;case nh.ABORTED:return Vc.ABORTED;case nh.OUT_OF_RANGE:return Vc.OUT_OF_RANGE;case nh.UNIMPLEMENTED:return Vc.UNIMPLEMENTED;case nh.DATA_LOSS:return Vc.DATA_LOSS;default:return Mc()}}(rh=nh||(nh={}))[rh.OK=0]="OK",rh[rh.CANCELLED=1]="CANCELLED",rh[rh.UNKNOWN=2]="UNKNOWN",rh[rh.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rh[rh.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rh[rh.NOT_FOUND=5]="NOT_FOUND",rh[rh.ALREADY_EXISTS=6]="ALREADY_EXISTS",rh[rh.PERMISSION_DENIED=7]="PERMISSION_DENIED",rh[rh.UNAUTHENTICATED=16]="UNAUTHENTICATED",rh[rh.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rh[rh.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rh[rh.ABORTED=10]="ABORTED",rh[rh.OUT_OF_RANGE=11]="OUT_OF_RANGE",rh[rh.UNIMPLEMENTED=12]="UNIMPLEMENTED",rh[rh.INTERNAL=13]="INTERNAL",rh[rh.UNAVAILABLE=14]="UNAVAILABLE",rh[rh.DATA_LOSS=15]="DATA_LOSS";var ch=function(){function e(t,n){li(this,e),this.comparator=t,this.root=n||fh.EMPTY}return hi(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,fh.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,fh.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new lh(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new lh(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new lh(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new lh(this.root,e,this.comparator,!0)}}]),e}(),lh=function(){function e(t,n,r,i){li(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return hi(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),fh=function(){function e(t,n,r,i,a){li(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return hi(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Mc();if(this.right.isRed())throw Mc();var e=this.left.check();if(e!==this.right.check())throw Mc();return e+(this.isRed()?0:1)}}]),e}();fh.EMPTY=null,fh.RED=!0,fh.BLACK=!1,fh.EMPTY=new(function(){function e(){li(this,e),this.size=0}return hi(e,[{key:"key",get:function(){throw Mc()}},{key:"value",get:function(){throw Mc()}},{key:"color",get:function(){throw Mc()}},{key:"left",get:function(){throw Mc()}},{key:"right",get:function(){throw Mc()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new fh(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var hh=function(){function e(t){li(this,e),this.comparator=t,this.data=new ch(this.comparator)}return hi(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new dh(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new dh(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),dh=function(){function e(t){li(this,e),this.iter=t}return hi(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();var ph=new ch(Sl.comparator);function vh(){return ph}var yh=new ch(Sl.comparator);function mh(){return yh}var gh=new ch(Sl.comparator),kh=new hh(Sl.comparator);function bh(){for(var e=kh,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var wh=new hh(Zc);function Eh(){return wh}var xh=function(){function e(t,n,r,i,a){li(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return hi(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,Sh.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(nl.min(),r,Eh(),vh(),bh())}}]),e}(),Sh=function(){function e(t,n,r,i,a){li(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return hi(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(fl.EMPTY_BYTE_STRING,n,bh(),bh(),bh())}}]),e}(),_h=hi((function e(t,n,r,i){li(this,e),this.M=t,this.removedTargetIds=n,this.key=r,this.$=i})),Th=hi((function e(t,n){li(this,e),this.targetId=t,this.F=n})),Oh=hi((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fl.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;li(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Ih=function(){function e(){li(this,e),this.B=0,this.L=Ah(),this.U=fl.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}return hi(e,[{key:"current",get:function(){return this.q}},{key:"resumeToken",get:function(){return this.U}},{key:"G",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.K}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}},{key:"H",value:function(){var e=bh(),t=bh(),n=bh();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Mc()}})),new Sh(this.U,this.q,e,t,n)}},{key:"J",value:function(){this.K=!1,this.L=Ah()}},{key:"Y",value:function(e,t){this.K=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.K=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.K=!0,this.q=!0}}]),e}(),Ch=function(){function e(t){li(this,e),this.nt=t,this.st=new Map,this.it=vh(),this.rt=Nh(),this.ot=new hh(Zc)}return hi(e,[{key:"ct",value:function(e){var t,n=ri(e.M);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.$&&e.$.isFoundDocument()?this.ut(r,e.$):this.at(r,e.key,e.$)}}catch(u){n.e(u)}finally{n.f()}var i,a=ri(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.at(o,e.key,e.$)}}catch(u){a.e(u)}finally{a.f()}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.lt(n);switch(e.state){case 0:t.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||t.removeTarget(n);break;case 3:t.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:t.ft(n)&&(t.dt(n),r.W(e.resumeToken));break;default:Mc()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((function(e,r){n.ft(r)&&t(r)}))}},{key:"_t",value:function(e){var t=e.targetId,n=e.F.count,r=this.wt(t);if(r){var i=r.target;if(Gl(i))if(0===n){var a=new Sl(i.path);this.at(t,a,zl.newNoDocument(a,nl.min()))}else Uc(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,n=new Map;this.st.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&Gl(a.target)){var o=new Sl(a.target.path);null!==t.it.get(o)||t.It(i,o)||t.at(i,o,zl.newNoDocument(o,e))}r.j&&(n.set(i,r.H()),r.J())}}));var r=bh();this.rt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.it.forEach((function(t,n){return n.setReadTime(e)}));var i=new xh(e,n,this.ot,this.it,r);return this.it=vh(),this.rt=Nh(),this.ot=new hh(Zc),i}},{key:"ut",value:function(e,t){if(this.ft(e)){var n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Et(t.key).add(e))}}},{key:"at",value:function(e,t,n){if(this.ft(e)){var r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Et(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new Ih,this.st.set(e,t)),t}},{key:"Et",value:function(e){var t=this.rt.get(e);return t||(t=new hh(Zc),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||Dc("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.G?null:this.nt.Tt(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new Ih),this.nt.getRemoteKeysForTarget(e).forEach((function(n){t.at(e,n,null)}))}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Nh(){return new ch(Sl.comparator)}function Ah(){return new ch(Sl.comparator)}var Ph={asc:"ASCENDING",desc:"DESCENDING"},Dh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Rh=hi((function e(t,n){li(this,e),this.databaseId=t,this.N=n}));function Lh(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function jh(e,t){return e.N?t.toBase64():t.toUint8Array()}function Mh(e,t){return Lh(e,t.toTimestamp())}function Uh(e){return Uc(!!e),nl.fromTimestamp(function(e){var t=dl(e);return new tl(t.seconds,t.nanos)}(e))}function Fh(e,t){return function(e){return new ul(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Vh(e){var t=ul.fromString(e);return Uc(od(t)),t}function zh(e,t){return Fh(e.databaseId,t.path)}function Bh(e,t){var n=Vh(t);if(n.get(1)!==e.databaseId.projectId)throw new zc(Vc.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new zc(Vc.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Sl(Kh(n))}function qh(e,t){return Fh(e.databaseId,t)}function Wh(e){var t=Vh(e);return 4===t.length?ul.emptyPath():Kh(t)}function Hh(e){return new ul(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Kh(e){return Uc(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Gh(e,t,n){return{name:zh(e,t),fields:n.value.mapValue.fields}}function Qh(e,t){var n;if(t instanceof Xf)n={update:Gh(e,t.key,t.value)};else if(t instanceof ih)n={delete:zh(e,t.key)};else if(t instanceof Jf)n={update:Gh(e,t.key,t.data),updateMask:ad(t.fieldMask)};else{if(!(t instanceof ah))return Mc();n={verify:zh(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Df)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Rf)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof jf)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Uf)return{fieldPath:t.field.canonicalString(),increment:n.k};throw Mc()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Mh(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Mc()}(e,t.precondition)),n}function Yh(e,t){return{documents:[qh(e,t.path)]}}function $h(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=qh(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=qh(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(jl(e.value))return{unaryFilter:{field:td(e.field),op:"IS_NAN"}};if(Ll(e.value))return{unaryFilter:{field:td(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(jl(e.value))return{unaryFilter:{field:td(e.field),op:"IS_NOT_NAN"}};if(Ll(e.value))return{unaryFilter:{field:td(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:td(e.field),op:ed(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:td(e.field),direction:Zh(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.N||wl(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Xh(e){var t=Wh(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Uc(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=Jh(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new af(nd(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return wl(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new rf(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new rf(n,t)}(n.endAt)),lf(t,i,u,o,s,"F",c,l)}function Jh(e){return e?void 0!==e.unaryFilter?[id(e)]:void 0!==e.fieldFilter?[rd(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Jh(e)})).reduce((function(e,t){return e.concat(t)})):Mc():[]}function Zh(e){return Ph[e]}function ed(e){return Dh[e]}function td(e){return{fieldPath:e.canonicalString()}}function nd(e){return cl.fromServerFormat(e.fieldPath)}function rd(e){return Ql.create(nd(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Mc()}}(e.fieldFilter.op),e.fieldFilter.value)}function id(e){switch(e.unaryFilter.op){case"IS_NAN":var t=nd(e.unaryFilter.field);return Ql.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=nd(e.unaryFilter.field);return Ql.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=nd(e.unaryFilter.field);return Ql.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=nd(e.unaryFilter.field);return Ql.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Mc()}}function ad(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function od(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function ud(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=cd(t)),t=sd(e.get(n),t);return cd(t)}function sd(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function cd(e){return e+"\x01\x01"}var ld=hi((function e(t,n,r){li(this,e),this.ownerId=t,this.allowTabSynchronization=n,this.leaseTimestampMs=r}));ld.store="owner",ld.key="owner";var fd=hi((function e(t,n,r){li(this,e),this.userId=t,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r}));fd.store="mutationQueues",fd.keyPath="userId";var hd=hi((function e(t,n,r,i,a){li(this,e),this.userId=t,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=a}));hd.store="mutations",hd.keyPath="batchId",hd.userMutationsIndex="userMutationsIndex",hd.userMutationsKeyPath=["userId","batchId"];var dd=function(){function e(){li(this,e)}return hi(e,null,[{key:"prefixForUser",value:function(e){return[e]}},{key:"prefixForPath",value:function(e,t){return[e,ud(t)]}},{key:"key",value:function(e,t,n){return[e,ud(t),n]}}]),e}();dd.store="documentMutations",dd.PLACEHOLDER=new dd;var pd=hi((function e(t,n,r,i,a,o){li(this,e),this.unknownDocument=t,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=a,this.parentPath=o}));pd.store="remoteDocuments",pd.readTimeIndex="readTimeIndex",pd.readTimeIndexPath="readTime",pd.collectionReadTimeIndex="collectionReadTimeIndex",pd.collectionReadTimeIndexPath=["parentPath","readTime"];var vd=hi((function e(t){li(this,e),this.byteSize=t}));vd.store="remoteDocumentGlobal",vd.key="remoteDocumentGlobalKey";var yd=hi((function e(t,n,r,i,a,o,u){li(this,e),this.targetId=t,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=a,this.lastLimboFreeSnapshotVersion=o,this.query=u}));yd.store="targets",yd.keyPath="targetId",yd.queryTargetsIndexName="queryTargetsIndex",yd.queryTargetsKeyPath=["canonicalId","targetId"];var md=hi((function e(t,n,r){li(this,e),this.targetId=t,this.path=n,this.sequenceNumber=r}));md.store="targetDocuments",md.keyPath=["targetId","path"],md.documentTargetsIndex="documentTargetsIndex",md.documentTargetsKeyPath=["path","targetId"];var gd=hi((function e(t,n,r,i){li(this,e),this.highestTargetId=t,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i}));gd.key="targetGlobalKey",gd.store="targetGlobal";var kd=hi((function e(t,n){li(this,e),this.collectionId=t,this.parent=n}));kd.store="collectionParents",kd.keyPath=["collectionId","parent"];var bd=hi((function e(t,n,r,i){li(this,e),this.clientId=t,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i}));bd.store="clientMetadata",bd.keyPath="clientId";var wd=hi((function e(t,n,r){li(this,e),this.bundleId=t,this.createTime=n,this.version=r}));wd.store="bundles",wd.keyPath="bundleId";var Ed=hi((function e(t,n,r){li(this,e),this.name=t,this.readTime=n,this.bundledQuery=r}));Ed.store="namedQueries",Ed.keyPath="name";var xd=hi((function e(t,n,r){li(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r}));xd.store="indexConfiguration",xd.keyPath="indexId",xd.collectionGroupIndex="collectionGroupIndex",xd.collectionGroupIndexPath="collectionGroup";var Sd=hi((function e(t,n,r,i,a,o){li(this,e),this.indexId=t,this.uid=n,this.sequenceNumber=r,this.readTime=i,this.documentKey=a,this.largestBatchId=o}));Sd.store="indexState",Sd.keyPath=["indexId","uid"],Sd.sequenceNumberIndex="sequenceNumberIndex",Sd.sequenceNumberIndexPath=["uid","sequenceNumber"];var _d=hi((function e(t,n,r,i,a){li(this,e),this.indexId=t,this.uid=n,this.arrayValue=r,this.directionalValue=i,this.documentKey=a}));_d.store="indexEntries",_d.keyPath=["indexId","uid","arrayValue","directionalValue","documentKey"],_d.documentKeyIndex="documentKeyIndex",_d.documentKeyIndexPath=["indexId","uid","documentKey"];var Td=hi((function e(t,n,r,i,a,o){li(this,e),this.userId=t,this.collectionPath=n,this.documentId=r,this.collectionGroup=i,this.largestBatchId=a,this.overlayMutation=o}));Td.store="documentOverlays",Td.keyPath=["userId","collectionPath","documentId"],Td.collectionPathOverlayIndex="collectionPathOverlayIndex",Td.collectionPathOverlayIndexPath=["userId","collectionPath","largestBatchId"],Td.collectionGroupOverlayIndex="collectionGroupOverlayIndex",Td.collectionGroupOverlayIndexPath=["userId","collectionGroup","largestBatchId"];var Od=[fd.store,hd.store,dd.store,pd.store,yd.store,ld.store,gd.store,md.store].concat([bd.store]).concat([vd.store]).concat([kd.store]).concat([wd.store,Ed.store]),Id=[].concat(ci(Od),[Td.store]),Cd=([].concat(ci(Id),[xd.store,Sd.store,_d.store]),"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."),Nd=function(){function e(){li(this,e),this.onCommittedListeners=[]}return hi(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),Ad=function(){function e(t){var n=this;li(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return hi(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Mc(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=ri(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}();function Pd(e){return"IndexedDbTransactionError"===e.name}var Dd=function(){function e(t,n,r,i){li(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return hi(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Kf(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=ri(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&Gf(r,e,this.localWriteTime)}}catch(u){n.e(u)}finally{n.f()}var i,a=ri(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&Gf(o,e,this.localWriteTime)}}catch(u){a.e(u)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(nl.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),bh())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&el(this.mutations,e.mutations,(function(e,t){return Yf(e,t)}))&&el(this.baseMutations,e.baseMutations,(function(e,t){return Yf(e,t)}))}}]),e}(),Rd=function(){function e(t,n,r,i){li(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return hi(e,null,[{key:"from",value:function(t,n,r){Uc(t.mutations.length===r.length);for(var i=gh,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Ld=function(){function e(t,n){li(this,e),this.largestBatchId=t,this.mutation=n}return hi(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),jd=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:nl.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:nl.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:fl.EMPTY_BYTE_STRING;li(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return hi(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Md=hi((function e(t){li(this,e),this.Ht=t}));function Ud(e){var t=Xh({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?kf(t,t.limit,"L"):t}var Fd=function(){function e(){li(this,e)}return hi(e,[{key:"Xt",value:function(e,t){this.Zt(e,t),t.te()}},{key:"Zt",value:function(e,t){if("nullValue"in e)this.ee(t,5);else if("booleanValue"in e)this.ee(t,10),t.ne(e.booleanValue?1:0);else if("integerValue"in e)this.ee(t,15),t.ne(pl(e.integerValue));else if("doubleValue"in e){var n=pl(e.doubleValue);isNaN(n)?this.ee(t,13):(this.ee(t,15),El(n)?t.ne(0):t.ne(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ee(t,20),"string"==typeof r?t.se(r):(t.se("".concat(r.seconds||"")),t.ne(r.nanos||0))}else if("stringValue"in e)this.ie(e.stringValue,t),this.re(t);else if("bytesValue"in e)this.ee(t,30),t.oe(vl(e.bytesValue)),this.re(t);else if("referenceValue"in e)this.ce(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ee(t,45),t.ne(i.latitude||0),t.ne(i.longitude||0)}else"mapValue"in e?Ol(e,_l)?this.ee(t,Number.MAX_SAFE_INTEGER):(this.ue(e.mapValue,t),this.re(t)):"arrayValue"in e?(this.ae(e.arrayValue,t),this.re(t)):Mc()}},{key:"ie",value:function(e,t){this.ee(t,25),this.he(e,t)}},{key:"he",value:function(e,t){t.se(e)}},{key:"ue",value:function(e,t){var n=e.fields||{};this.ee(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.ie(a,t),this.Zt(n[a],t)}}},{key:"ae",value:function(e,t){var n=e.values||[];this.ee(t,50);var r,i=ri(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.Zt(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ce",value:function(e,t){var n=this;this.ee(t,37),Sl.fromName(e).path.forEach((function(e){n.ee(t,60),n.he(e,t)}))}},{key:"ee",value:function(e,t){e.ne(t)}},{key:"re",value:function(e){e.ne(2)}}]),e}();Fd.le=new Fd;var Vd=function(){function e(){li(this,e),this.xe=new zd}return hi(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.xe.add(t),Ad.resolve()}},{key:"getCollectionParents",value:function(e,t){return Ad.resolve(this.xe.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Ad.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Ad.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t,n){return Ad.resolve(bh())}},{key:"getFieldIndex",value:function(e,t){return Ad.resolve(null)}},{key:"getFieldIndexes",value:function(e,t){return Ad.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Ad.resolve(null)}},{key:"updateCollectionGroup",value:function(e,t,n){return Ad.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Ad.resolve()}}]),e}(),zd=function(){function e(){li(this,e),this.index={}}return hi(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new hh(ul.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new hh(ul.comparator)).toArray()}}]),e}();var Bd=function(){function e(t,n,r){li(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return hi(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();Bd.DEFAULT_COLLECTION_PERCENTILE=10,Bd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bd.DEFAULT=new Bd(41943040,Bd.DEFAULT_COLLECTION_PERCENTILE,Bd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bd.DISABLED=new Bd(-1,0,0);var qd=function(){function e(t){li(this,e),this.ze=t}return hi(e,[{key:"next",value:function(){return this.ze+=2,this.ze}}],[{key:"He",value:function(){return new e(0)}},{key:"Je",value:function(){return new e(-1)}}]),e}();function Wd(e){return Hd.apply(this,arguments)}function Hd(){return Hd=Qr($r().mark((function e(t){return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Vc.FAILED_PRECONDITION&&t.message===Cd){e.next=2;break}throw t;case 2:Dc("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Hd.apply(this,arguments)}var Kd=function(){function e(t,n){li(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return hi(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=ri(n);try{for(i.s();!(r=i.n()).done;){var a=o(r.value,2),u=a[0],s=a[1];if(this.equalsFn(u,e))return s}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}},{key:"forEach",value:function(e){il(this.inner,(function(t,n){var r,i=ri(n);try{for(i.s();!(r=i.n()).done;){var a=o(r.value,2),u=a[0],s=a[1];e(u,s)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return al(this.inner)}}]),e}(),Gd=function(){function e(){li(this,e),this.changes=new Kd((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return hi(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,zl.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Ad.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}();var Qd=function(){function e(t,n,r){li(this,e),this.qn=t,this.gs=n,this.indexManager=r}return hi(e,[{key:"ys",value:function(e,t){var n=this;return this.gs.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.ps(e,t,r)}))}},{key:"ps",value:function(e,t,n){return this.qn.getEntry(e,t).next((function(e){var t,r=ri(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"Is",value:function(e,t){e.forEach((function(e,n){var r,i=ri(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"Es",value:function(e,t){var n=this;return this.qn.getEntries(e,t).next((function(t){return n.Ts(e,t).next((function(){return t}))}))}},{key:"Ts",value:function(e,t){var n=this;return this.gs.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.Is(t,e)}))}},{key:"As",value:function(e,t,n){return function(e){return Sl.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Rs(e,t.path):yf(t)?this.Ps(e,t,n):this.bs(e,t,n)}},{key:"Rs",value:function(e,t){return this.ys(e,new Sl(t)).next((function(e){var t=mh();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Ps",value:function(e,t,n){var r=this,i=t.collectionGroup,a=mh();return this.indexManager.getCollectionParents(e,i).next((function(o){return Ad.forEach(o,(function(o){var u=function(e,t){return new cf(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.bs(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"bs",value:function(e,t,n){var r,i=this;return this.qn.getAll(e,t.path,n).next((function(n){return r=n,i.gs.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){var t,n=ri(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=ri(a.mutations);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=u.key,c=r.get(s);null==c&&(c=zl.newInvalidDocument(s),r=r.insert(s,c)),Gf(u,c,a.localWriteTime),c.isFoundDocument()||(r=r.remove(s))}}catch(l){o.e(l)}finally{o.f()}}}catch(l){n.e(l)}finally{n.f()}})).next((function(){return r.forEach((function(e,n){xf(t,n)||(r=r.remove(e))})),r}))}}]),e}(),Yd=function(){function e(t,n,r,i){li(this,e),this.targetId=t,this.fromCache=n,this.vs=r,this.Vs=i}return hi(e,null,[{key:"Ss",value:function(t,n){var r,i=bh(),a=bh(),o=ri(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),$d=function(){function e(){li(this,e)}return hi(e,[{key:"Ds",value:function(e){this.Cs=e}},{key:"As",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(nl.min())?this.Ns(e,t):this.Cs.Es(e,r).next((function(a){var o=i.xs(t,a);return(hf(t)||df(t))&&i.ks(t.limitType,o,r,n)?i.Ns(e,t):(Pc()<=Vi.DEBUG&&Dc("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Ef(t)),i.Cs.As(e,t,n).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"xs",value:function(e,t){var n=new hh(Sf(e));return t.forEach((function(t,r){xf(e,r)&&(n=n.add(r))})),n}},{key:"ks",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Ns",value:function(e,t){return Pc()<=Vi.DEBUG&&Dc("QueryEngine","Using full collection scan to execute query:",Ef(t)),this.Cs.As(e,t,nl.min())}}]),e}(),Xd=function(){function e(t,n,r,i){li(this,e),this.persistence=t,this.Os=n,this.O=i,this.Ms=new ch(Zc),this.$s=new Kd((function(e){return Hl(e)}),Kl),this.Fs=nl.min(),this.Bs=t.getRemoteDocumentCache(),this.Un=t.getTargetCache(),this.Kn=t.getBundleCache(),this.Ls(r)}return hi(e,[{key:"Ls",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.gs=this.persistence.getMutationQueue(e,this.indexManager),this.Us=new Qd(this.Bs,this.gs,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Os.Ds(this.Us)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ms)}))}}]),e}();function Jd(e,t,n,r){return new Xd(e,t,n,r)}function Zd(e,t){return ep.apply(this,arguments)}function ep(){return ep=Qr($r().mark((function e(t,n){var r;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fc(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.gs.getAllMutationBatches(e).next((function(i){return t=i,r.Ls(n),r.gs.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=bh(),s=ri(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=ri(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=ri(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var y,m=ri(v.mutations);try{for(m.s();!(y=m.n()).done;){var g=y.value;u=u.add(g.key)}}catch(k){m.e(k)}finally{m.f()}}}catch(k){p.e(k)}finally{p.f()}return r.Us.Es(e,u).next((function(e){return{qs:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),ep.apply(this,arguments)}function tp(e,t){var n=Fc(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Bs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Ad.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Uc(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.gs.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.gs.performConsistencyCheck(e)})).next((function(){return n.Us.Es(e,r)}))}))}function np(e){var t=Fc(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Un.getLastRemoteSnapshotVersion(e)}))}function rp(e,t){var n=Fc(e),r=t.snapshotVersion,i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.Ms;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Un.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Un.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(fl.EMPTY_BYTE_STRING,nl.min()).withLastLimboFreeSnapshotVersion(nl.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Un.updateTargetData(e,c))}}));var u=vh();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(ip(e,a,t.documentUpdates).next((function(e){u=e}))),!r.isEqual(nl.min())){var s=n.Un.getLastRemoteSnapshotVersion(e).next((function(t){return n.Un.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(s)}return Ad.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.Us.Ts(e,u)})).next((function(){return u}))})).then((function(e){return n.Ms=i,e}))}function ip(e,t,n){var r=bh();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=vh();return n.forEach((function(n,i){var a=e.get(n);i.isNoDocument()&&i.version.isEqual(nl.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):Dc("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),r}))}function ap(e,t){var n=Fc(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.gs.getNextMutationBatchAfterBatchId(e,t)}))}function op(e,t){var n=Fc(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Un.getTargetData(e,t).next((function(i){return i?(r=i,Ad.resolve(r)):n.Un.allocateTargetId(e).next((function(i){return r=new jd(t,i,0,e.currentSequenceNumber),n.Un.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.$s.set(t,e.targetId)),e}))}function up(e,t,n){return sp.apply(this,arguments)}function sp(){return sp=Qr($r().mark((function e(t,n,r){var i,a,o;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Fc(t),a=i.Ms.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Pd(e.t1)){e.next=12;break}throw e.t1;case 12:Dc("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ms=i.Ms.remove(n),i.$s.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),sp.apply(this,arguments)}function cp(e,t,n){var r=Fc(e),i=nl.min(),a=bh();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Fc(e),i=r.$s.get(n);return void 0!==i?Ad.resolve(r.Ms.get(i)):r.Un.getTargetData(t,n)}(r,e,gf(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Un.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Os.As(e,t,n?i:nl.min(),n?a:bh())})).next((function(e){return{documents:e,Ks:a}}))}))}var lp=function(){function e(t){li(this,e),this.O=t,this.Ws=new Map,this.zs=new Map}return hi(e,[{key:"getBundleMetadata",value:function(e,t){return Ad.resolve(this.Ws.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Ws.set(t.id,{id:(n=t).id,version:n.version,createTime:Uh(n.createTime)}),Ad.resolve()}},{key:"getNamedQuery",value:function(e,t){return Ad.resolve(this.zs.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.zs.set(t.name,function(e){return{name:e.name,query:Ud(e.bundledQuery),readTime:Uh(e.readTime)}}(t)),Ad.resolve()}}]),e}(),fp=function(){function e(){li(this,e),this.overlays=new ch(Sl.comparator),this.Hs=new Map}return hi(e,[{key:"getOverlay",value:function(e,t){return Ad.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n){r.Yt(e,t,n)})),Ad.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Hs.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Hs.delete(n)),Ad.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=new Map,i=t.length+1,a=new Sl(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return Ad.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new ch((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=new Map,i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=new Map,c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(t,e)})),!(s.size>=r)););return Ad.resolve(s)}},{key:"Yt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);null!==r&&this.Hs.get(r.largestBatchId).delete(n.key),this.overlays=this.overlays.insert(n.key,new Ld(t,n));var i=this.Hs.get(t);void 0===i&&(i=new Set,this.Hs.set(t,i)),i.add(n.key)}}}]),e}(),hp=function(){function e(){li(this,e),this.Js=new hh(dp.Ys),this.Xs=new hh(dp.Zs)}return hi(e,[{key:"isEmpty",value:function(){return this.Js.isEmpty()}},{key:"addReference",value:function(e,t){var n=new dp(e,t);this.Js=this.Js.add(n),this.Xs=this.Xs.add(n)}},{key:"ti",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.ei(new dp(e,t))}},{key:"ni",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"si",value:function(e){var t=this,n=new Sl(new ul([])),r=new dp(n,e),i=new dp(n,e+1),a=[];return this.Xs.forEachInRange([r,i],(function(e){t.ei(e),a.push(e.key)})),a}},{key:"ii",value:function(){var e=this;this.Js.forEach((function(t){return e.ei(t)}))}},{key:"ei",value:function(e){this.Js=this.Js.delete(e),this.Xs=this.Xs.delete(e)}},{key:"ri",value:function(e){var t=new Sl(new ul([])),n=new dp(t,e),r=new dp(t,e+1),i=bh();return this.Xs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new dp(e,0),n=this.Js.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),dp=function(){function e(t,n){li(this,e),this.key=t,this.oi=n}return hi(e,null,[{key:"Ys",value:function(e,t){return Sl.comparator(e.key,t.key)||Zc(e.oi,t.oi)}},{key:"Zs",value:function(e,t){return Zc(e.oi,t.oi)||Sl.comparator(e.key,t.key)}}]),e}(),pp=function(){function e(t,n){li(this,e),this.indexManager=t,this.referenceDelegate=n,this.gs=[],this.ci=1,this.ui=new hh(dp.Ys)}return hi(e,[{key:"checkEmpty",value:function(e){return Ad.resolve(0===this.gs.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ci;this.ci++,this.gs.length>0&&this.gs[this.gs.length-1];var a=new Dd(i,t,n,r);this.gs.push(a);var o,u=ri(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.ui=this.ui.add(new dp(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return Ad.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Ad.resolve(this.ai(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.hi(n),i=r<0?0:r;return Ad.resolve(this.gs.length>i?this.gs[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Ad.resolve(0===this.gs.length?-1:this.ci-1)}},{key:"getAllMutationBatches",value:function(e){return Ad.resolve(this.gs.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new dp(t,0),i=new dp(t,Number.POSITIVE_INFINITY),a=[];return this.ui.forEachInRange([r,i],(function(e){var t=n.ai(e.oi);a.push(t)})),Ad.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new hh(Zc);return t.forEach((function(e){var t=new dp(e,0),i=new dp(e,Number.POSITIVE_INFINITY);n.ui.forEachInRange([t,i],(function(e){r=r.add(e.oi)}))})),Ad.resolve(this.li(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Sl.isDocumentKey(i)||(i=i.child(""));var a=new dp(new Sl(i),0),o=new hh(Zc);return this.ui.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.oi)),!0)}),a),Ad.resolve(this.li(o))}},{key:"li",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ai(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Uc(0===this.fi(t.batchId,"removed")),this.gs.shift();var r=this.ui;return Ad.forEach(t.mutations,(function(i){var a=new dp(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ui=r}))}},{key:"Qe",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new dp(t,0),r=this.ui.firstAfterOrEqual(n);return Ad.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.gs.length,Ad.resolve()}},{key:"fi",value:function(e,t){return this.hi(e)}},{key:"hi",value:function(e){return 0===this.gs.length?0:e-this.gs[0].batchId}},{key:"ai",value:function(e){var t=this.hi(e);return t<0||t>=this.gs.length?null:this.gs[t]}}]),e}(),vp=function(){function e(t){li(this,e),this.di=t,this.docs=new ch(Sl.comparator),this.size=0}return hi(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.di(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Ad.resolve(n?n.document.mutableCopy():zl.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=vh();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():zl.newInvalidDocument(e))})),Ad.resolve(r)}},{key:"getAll",value:function(e,t,n){for(var r=vh(),i=new Sl(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||s.readTime.compareTo(n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return Ad.resolve(r)}},{key:"_i",value:function(e,t){return Ad.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new yp(this)}},{key:"getSize",value:function(e){return Ad.resolve(this.size)}}]),e}(),yp=function(e){ii(n,e);var t=si(n);function n(e){var r;return li(this,n),(r=t.call(this)).Tn=e,r}return hi(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Tn.addEntry(e,i)):t.Tn.removeEntry(r)})),Ad.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Tn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Tn.getEntries(e,t)}}]),n}(Gd),mp=function(){function e(t){li(this,e),this.persistence=t,this.wi=new Kd((function(e){return Hl(e)}),Kl),this.lastRemoteSnapshotVersion=nl.min(),this.highestTargetId=0,this.mi=0,this.gi=new hp,this.targetCount=0,this.yi=qd.He()}return hi(e,[{key:"forEachTarget",value:function(e,t){return this.wi.forEach((function(e,n){return t(n)})),Ad.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Ad.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Ad.resolve(this.mi)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.yi.next(),Ad.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.mi&&(this.mi=t),Ad.resolve()}},{key:"Ze",value:function(e){this.wi.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.yi=new qd(t),this.highestTargetId=t),e.sequenceNumber>this.mi&&(this.mi=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Ze(t),this.targetCount+=1,Ad.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Ze(t),Ad.resolve()}},{key:"removeTargetData",value:function(e,t){return this.wi.delete(t.target),this.gi.si(t.targetId),this.targetCount-=1,Ad.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.wi.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.wi.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Ad.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Ad.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.wi.get(t)||null;return Ad.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.gi.ti(t,n),Ad.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.gi.ni(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Ad.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.gi.si(t),Ad.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.gi.ri(t);return Ad.resolve(n)}},{key:"containsKey",value:function(e,t){return Ad.resolve(this.gi.containsKey(t))}}]),e}(),gp=function(){function e(t,n){var r=this;li(this,e),this.pi={},this.overlays={},this.Nn=new $c(0),this.xn=!1,this.xn=!0,this.referenceDelegate=t(this),this.Un=new mp(this),this.indexManager=new Vd,this.qn=new vp((function(e){return r.referenceDelegate.Ii(e)})),this.O=new Md(n),this.Kn=new lp(this.O)}return hi(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.xn=!1,Promise.resolve()}},{key:"started",get:function(){return this.xn}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new fp,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.pi[e.toKey()];return n||(n=new pp(t,this.referenceDelegate),this.pi[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Un}},{key:"getRemoteDocumentCache",value:function(){return this.qn}},{key:"getBundleCache",value:function(){return this.Kn}},{key:"runTransaction",value:function(e,t,n){var r=this;Dc("MemoryPersistence","Starting transaction:",e);var i=new kp(this.Nn.next());return this.referenceDelegate.Ei(),n(i).next((function(e){return r.referenceDelegate.Ti(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ai",value:function(e,t){return Ad.or(Object.values(this.pi).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),kp=function(e){ii(n,e);var t=si(n);function n(e){var r;return li(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return hi(n)}(Nd),bp=function(){function e(t){li(this,e),this.persistence=t,this.Ri=new hp,this.Pi=null}return hi(e,[{key:"vi",get:function(){if(this.Pi)return this.Pi;throw Mc()}},{key:"addReference",value:function(e,t,n){return this.Ri.addReference(n,t),this.vi.delete(n.toString()),Ad.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Ri.removeReference(n,t),this.vi.add(n.toString()),Ad.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.vi.add(t.toString()),Ad.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Ri.si(t.targetId).forEach((function(e){return n.vi.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.vi.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ei",value:function(){this.Pi=new Set}},{key:"Ti",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ad.forEach(this.vi,(function(r){var i=Sl.fromPath(r);return t.Vi(e,i).next((function(e){e||n.removeEntry(i,nl.min())}))})).next((function(){return t.Pi=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Vi(e,t).next((function(e){e?n.vi.delete(t.toString()):n.vi.add(t.toString())}))}},{key:"Ii",value:function(e){return 0}},{key:"Vi",value:function(e,t){var n=this;return Ad.or([function(){return Ad.resolve(n.Ri.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ai(e,t)}])}}],[{key:"bi",value:function(t){return new e(t)}}]),e}();var wp=function(){function e(){li(this,e),this.activeTargetIds=Eh()}return hi(e,[{key:"Ci",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Ni",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Di",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Ep=function(){function e(){li(this,e),this._r=new wp,this.wr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return hi(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this._r.Ci(e),this.wr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.wr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this._r.Ni(e)}},{key:"isLocalQueryTarget",value:function(e){return this._r.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.wr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this._r.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this._r.activeTargetIds.has(e)}},{key:"start",value:function(){return this._r=new wp,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(){}}]),e}(),xp=function(){function e(){li(this,e)}return hi(e,[{key:"mr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Sp=function(){function e(){var t=this;li(this,e),this.gr=function(){return t.yr()},this.pr=function(){return t.Ir()},this.Er=[],this.Tr()}return hi(e,[{key:"mr",value:function(e){this.Er.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.gr),window.removeEventListener("offline",this.pr)}},{key:"Tr",value:function(){window.addEventListener("online",this.gr),window.addEventListener("offline",this.pr)}},{key:"yr",value:function(){Dc("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=ri(this.Er);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Ir",value:function(){Dc("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=ri(this.Er);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"Vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),_p={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Tp=function(){function e(t){li(this,e),this.Ar=t.Ar,this.Rr=t.Rr}return hi(e,[{key:"Pr",value:function(e){this.br=e}},{key:"vr",value:function(e){this.Vr=e}},{key:"onMessage",value:function(e){this.Sr=e}},{key:"close",value:function(){this.Rr()}},{key:"send",value:function(e){this.Ar(e)}},{key:"Dr",value:function(){this.br()}},{key:"Cr",value:function(e){this.Vr(e)}},{key:"Nr",value:function(e){this.Sr(e)}}]),e}(),Op=function(e){ii(n,e);var t=si(n);function n(e){var r;return li(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return hi(n,[{key:"Br",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Oc;o.listenOnce(Ec.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case wc.NO_ERROR:var t=o.getResponseJson();Dc("Connection","XHR received:",JSON.stringify(t)),i(t);break;case wc.TIMEOUT:Dc("Connection",'RPC "'+e+'" timed out'),a(new zc(Vc.DEADLINE_EXCEEDED,"Request time out"));break;case wc.HTTP_ERROR:var n=o.getStatus();if(Dc("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Vc).indexOf(t)>=0?t:Vc.UNKNOWN}(r.status);a(new zc(u,r.message))}else a(new zc(Vc.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new zc(Vc.UNAVAILABLE,"Connection failed."));break;default:Mc()}}finally{Dc("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"Ur",value:function(e,t,n){var r=[this.kr,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=kc(),a=bc(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new _c({})),this.Fr(o.initMessageHeaders,t,n),bi()||Ei()||ki().indexOf("Electron/")>=0||xi()||ki().indexOf("MSAppHost/")>=0||wi()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");Dc("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new Tp({Ar:function(e){l?Dc("Connection","Not sending because WebChannel is closed:",e):(c||(Dc("Connection","Opening WebChannel transport."),s.open(),c=!0),Dc("Connection","WebChannel sending:",e),s.send(e))},Rr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,Tc.EventType.OPEN,(function(){l||Dc("Connection","WebChannel transport opened.")})),h(s,Tc.EventType.CLOSE,(function(){l||(l=!0,Dc("Connection","WebChannel transport closed"),f.Cr())})),h(s,Tc.EventType.ERROR,(function(e){l||(l=!0,Lc("Connection","WebChannel transport errored:",e),f.Cr(new zc(Vc.UNAVAILABLE,"The operation could not be completed")))})),h(s,Tc.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Uc(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Dc("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=nh[e];if(void 0!==t)return sh(t)}(a),u=i.message;void 0===o&&(o=Vc.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.Cr(new zc(o,u)),s.close()}else Dc("Connection","WebChannel received:",n),f.Nr(n)}})),h(a,xc.STAT_EVENT,(function(e){e.stat===Sc.PROXY?Dc("Connection","Detected buffering proxy"):e.stat===Sc.NOPROXY&&Dc("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Dr()}),0),f}}]),n}(function(){function e(t){li(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.kr=n+"://"+t.host,this.Or="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return hi(e,[{key:"Mr",value:function(e,t,n,r,i){var a=this.$r(e,t);Dc("RestConnection","Sending: ",a,n);var o={};return this.Fr(o,r,i),this.Br(e,a,o,n).then((function(e){return Dc("RestConnection","Received: ",e),e}),(function(t){throw Lc("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"Lr",value:function(e,t,n,r,i){return this.Mr(e,t,n,r,i)}},{key:"Fr",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Nc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"$r",value:function(e,t){var n=_p[e];return"".concat(this.kr,"/v1/").concat(t,":").concat(n)}}]),e}());function Ip(){return"undefined"!=typeof document?document:null}function Cp(e){return new Rh(e,!0)}var Np=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;li(this,e),this.Sn=t,this.timerId=n,this.qr=r,this.Kr=i,this.Gr=a,this.jr=0,this.Qr=null,this.Wr=Date.now(),this.reset()}return hi(e,[{key:"reset",value:function(){this.jr=0}},{key:"zr",value:function(){this.jr=this.Gr}},{key:"Hr",value:function(e){var t=this;this.cancel();var n=Math.floor(this.jr+this.Jr()),r=Math.max(0,Date.now()-this.Wr),i=Math.max(0,n-r);i>0&&Dc("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.jr," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Qr=this.Sn.enqueueAfterDelay(this.timerId,i,(function(){return t.Wr=Date.now(),e()})),this.jr*=this.Kr,this.jr<this.qr&&(this.jr=this.qr),this.jr>this.Gr&&(this.jr=this.Gr)}},{key:"Yr",value:function(){null!==this.Qr&&(this.Qr.skipDelay(),this.Qr=null)}},{key:"cancel",value:function(){null!==this.Qr&&(this.Qr.cancel(),this.Qr=null)}},{key:"Jr",value:function(){return(Math.random()-.5)*this.jr}}]),e}(),Ap=function(){function e(t,n,r,i,a,o,u,s){li(this,e),this.Sn=t,this.Xr=r,this.Zr=i,this.eo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.no=0,this.so=null,this.io=null,this.stream=null,this.ro=new Np(t,n)}return hi(e,[{key:"oo",value:function(){return 1===this.state||5===this.state||this.co()}},{key:"co",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.uo()}},{key:"stop",value:function(){var e=Qr($r().mark((function e(){return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.oo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ao",value:function(){this.state=0,this.ro.reset()}},{key:"ho",value:function(){var e=this;this.co()&&null===this.so&&(this.so=this.Sn.enqueueAfterDelay(this.Xr,6e4,(function(){return e.lo()})))}},{key:"fo",value:function(e){this._o(),this.stream.send(e)}},{key:"lo",value:function(){var e=Qr($r().mark((function e(){return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.co()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_o",value:function(){this.so&&(this.so.cancel(),this.so=null)}},{key:"wo",value:function(){this.io&&(this.io.cancel(),this.io=null)}},{key:"close",value:function(){var e=Qr($r().mark((function e(t,n){return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._o(),this.wo(),this.ro.cancel(),this.no++,4!==t?this.ro.reset():n&&n.code===Vc.RESOURCE_EXHAUSTED?(Rc(n.toString()),Rc("Using maximum backoff delay to prevent overloading the backend."),this.ro.zr()):n&&n.code===Vc.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.mo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.vr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"mo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.yo(this.no),n=this.no;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=o(t,2),i=r[0],a=r[1];e.no===n&&e.po(i,a)}),(function(n){t((function(){var t=new zc(Vc.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Io(t)}))}))}},{key:"po",value:function(e,t){var n=this,r=this.yo(this.no);this.stream=this.Eo(e,t),this.stream.Pr((function(){r((function(){return n.state=2,n.io=n.Sn.enqueueAfterDelay(n.Zr,1e4,(function(){return n.co()&&(n.state=3),Promise.resolve()})),n.listener.Pr()}))})),this.stream.vr((function(e){r((function(){return n.Io(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"uo",value:function(){var e=this;this.state=5,this.ro.Hr(Qr($r().mark((function t(){return $r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Io",value:function(e){return Dc("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"yo",value:function(e){var t=this;return function(n){t.Sn.enqueueAndForget((function(){return t.no===e?n():(Dc("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Pp=function(e){ii(n,e);var t=si(n);function n(e,r,i,a,o,u){var s;return li(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).O=o,s}return hi(n,[{key:"Eo",value:function(e,t){return this.eo.Ur("Listen",e,t)}},{key:"onMessage",value:function(e){this.ro.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Mc()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.N?(Uc(void 0===t||"string"==typeof t),fl.fromBase64String(t||"")):(Uc(void 0===t||t instanceof Uint8Array),fl.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?Vc.UNKNOWN:sh(e.code);return new zc(t,e.message||"")}(o);n=new Oh(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=Bh(e,s.document.name),l=Uh(s.document.updateTime),f=new Fl({mapValue:{fields:s.document.fields}}),h=zl.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new _h(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var y=Bh(e,v.document),m=v.readTime?Uh(v.readTime):nl.min(),g=zl.newNoDocument(y,m),k=v.removedTargetIds||[];n=new _h([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=Bh(e,b.document),E=b.removedTargetIds||[];n=new _h([],E,w,null)}else{if(!("filter"in t))return Mc();t.filter;var x=t.filter;x.targetId;var S=x.count||0,_=new oh(S),T=x.targetId;n=new Th(T,_)}return n}(this.O,e),n=function(e){if(!("targetChange"in e))return nl.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?nl.min():t.readTime?Uh(t.readTime):nl.min()}(e);return this.listener.To(t,n)}},{key:"Ao",value:function(e){var t={};t.database=Hh(this.O),t.addTarget=function(e,t){var n,r=t.target;return(n=Gl(r)?{documents:Yh(e,r)}:{query:$h(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=jh(e,t.resumeToken):t.snapshotVersion.compareTo(nl.min())>0&&(n.readTime=Lh(e,t.snapshotVersion.toTimestamp())),n}(this.O,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Mc()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.O,e);n&&(t.labels=n),this.fo(t)}},{key:"Ro",value:function(e){var t={};t.database=Hh(this.O),t.removeTarget=e,this.fo(t)}}]),n}(Ap),Dp=function(e){ii(n,e);var t=si(n);function n(e,r,i,a,o,u){var s;return li(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).O=o,s.Po=!1,s}return hi(n,[{key:"bo",get:function(){return this.Po}},{key:"start",value:function(){this.Po=!1,this.lastStreamToken=void 0,ni(ei(n.prototype),"start",this).call(this)}},{key:"mo",value:function(){this.Po&&this.vo([])}},{key:"Eo",value:function(e,t){return this.eo.Ur("Write",e,t)}},{key:"onMessage",value:function(e){if(Uc(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Po){this.ro.reset();var t=function(e,t){return e&&e.length>0?(Uc(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Uh(e.updateTime):Uh(t);return n.isEqual(nl.min())&&(n=Uh(t)),new Bf(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Uh(e.commitTime);return this.listener.Vo(n,t)}return Uc(!e.writeResults||0===e.writeResults.length),this.Po=!0,this.listener.So()}},{key:"Do",value:function(){var e={};e.database=Hh(this.O),this.fo(e)}},{key:"vo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Qh(t.O,e)}))};this.fo(n)}}]),n}(Ap),Rp=function(e){ii(n,e);var t=si(n);function n(e,r,i,a){var o;return li(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.eo=i,o.O=a,o.Co=!1,o}return hi(n,[{key:"No",value:function(){if(this.Co)throw new zc(Vc.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Mr",value:function(e,t,n){var r=this;return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=o(i,2),u=a[0],s=a[1];return r.eo.Mr(e,t,n,u,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Vc.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new zc(Vc.UNKNOWN,e.toString())}))}},{key:"Lr",value:function(e,t,n){var r=this;return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=o(i,2),u=a[0],s=a[1];return r.eo.Lr(e,t,n,u,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Vc.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new zc(Vc.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.Co=!0}}]),n}(function(){return hi((function e(){li(this,e)}))}()),Lp=function(){function e(t,n){li(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.xo=0,this.ko=null,this.Oo=!0}return hi(e,[{key:"Mo",value:function(){var e=this;0===this.xo&&(this.$o("Unknown"),this.ko=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ko=null,e.Fo("Backend didn't respond within 10 seconds."),e.$o("Offline"),Promise.resolve()})))}},{key:"Bo",value:function(e){"Online"===this.state?this.$o("Unknown"):(this.xo++,this.xo>=1&&(this.Lo(),this.Fo("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.$o("Offline")))}},{key:"set",value:function(e){this.Lo(),this.xo=0,"Online"===e&&(this.Oo=!1),this.$o(e)}},{key:"$o",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"Fo",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.Oo?(Rc(t),this.Oo=!1):Dc("OnlineStateTracker",t)}},{key:"Lo",value:function(){null!==this.ko&&(this.ko.cancel(),this.ko=null)}}]),e}(),jp=hi((function e(t,n,r,i,a){var o=this;li(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Uo=[],this.qo=new Map,this.Ko=new Set,this.Go=[],this.jo=a,this.jo.mr((function(e){r.enqueueAndForget(Qr($r().mark((function e(){return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Gp(o),!e.t0){e.next=5;break}return Dc("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Qr($r().mark((function e(t){var n;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Fc(t)).Ko.add(4),e.next=4,Fp(n);case 4:return n.Qo.set("Unknown"),n.Ko.delete(4),e.next=8,Mp(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.Qo=new Lp(r,i)}));function Mp(e){return Up.apply(this,arguments)}function Up(){return Up=Qr($r().mark((function e(t){var n,r,i;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Gp(t)){e.next=18;break}n=ri(t.Go),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Up.apply(this,arguments)}function Fp(e){return Vp.apply(this,arguments)}function Vp(){return Vp=Qr($r().mark((function e(t){var n,r,i;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=ri(t.Go),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Vp.apply(this,arguments)}function zp(e,t){var n=Fc(e);n.qo.has(t.targetId)||(n.qo.set(t.targetId,t),Kp(n)?Hp(n):Ev(n).co()&&qp(n,t))}function Bp(e,t){var n=Fc(e),r=Ev(n);n.qo.delete(t),r.co()&&Wp(n,t),0===n.qo.size&&(r.co()?r.ho():Gp(n)&&n.Qo.set("Unknown"))}function qp(e,t){e.Wo.Z(t.targetId),Ev(e).Ao(t)}function Wp(e,t){e.Wo.Z(t),Ev(e).Ro(t)}function Hp(e){e.Wo=new Ch({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Tt:function(t){return e.qo.get(t)||null}}),Ev(e).start(),e.Qo.Mo()}function Kp(e){return Gp(e)&&!Ev(e).oo()&&e.qo.size>0}function Gp(e){return 0===Fc(e).Ko.size}function Qp(e){e.Wo=void 0}function Yp(e){return $p.apply(this,arguments)}function $p(){return $p=Qr($r().mark((function e(t){return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.qo.forEach((function(e,n){qp(t,e)}));case 1:case"end":return e.stop()}}),e)}))),$p.apply(this,arguments)}function Xp(e,t){return Jp.apply(this,arguments)}function Jp(){return Jp=Qr($r().mark((function e(t,n){return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Qp(t),Kp(t)?(t.Qo.Bo(n),Hp(t)):t.Qo.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),Jp.apply(this,arguments)}function Zp(e,t,n){return ev.apply(this,arguments)}function ev(){return ev=Qr($r().mark((function e(t,n,r){var i;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Qo.set("Online"),!(n instanceof Oh&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Qr($r().mark((function e(t,n){var r,i,a,o;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=ri(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.qo.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.qo.delete(o),t.Wo.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Dc("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,tv(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof _h?t.Wo.ct(n):n instanceof Th?t.Wo._t(n):t.Wo.ht(n),r.isEqual(nl.min())){e.next=29;break}return e.prev=14,e.next=17,np(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Wo.yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.qo.get(r);i&&e.qo.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.qo.get(t);if(n){e.qo.set(t,n.withResumeToken(fl.EMPTY_BYTE_STRING,n.snapshotVersion)),Wp(e,t);var r=new jd(n.target,t,1,n.sequenceNumber);qp(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Dc("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,tv(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),ev.apply(this,arguments)}function tv(e,t,n){return nv.apply(this,arguments)}function nv(){return nv=Qr($r().mark((function e(t,n,r){return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Pd(n)){e.next=2;break}throw n;case 2:return t.Ko.add(1),e.next=5,Fp(t);case 5:t.Qo.set("Offline"),r||(r=function(){return np(t.localStore)}),t.asyncQueue.enqueueRetryable(Qr($r().mark((function e(){return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Dc("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.Ko.delete(1),e.next=6,Mp(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),nv.apply(this,arguments)}function rv(e,t){return t().catch((function(n){return tv(e,n,t)}))}function iv(e){return av.apply(this,arguments)}function av(){return av=Qr($r().mark((function e(t){var n,r,i,a;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Fc(t),r=xv(n),i=n.Uo.length>0?n.Uo[n.Uo.length-1].batchId:-1;case 2:if(!ov(n)){e.next=19;break}return e.prev=3,e.next=6,ap(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Uo.length&&r.ho(),e.abrupt("break",19);case 10:i=a.batchId,uv(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,tv(n,e.t0);case 17:e.next=2;break;case 19:sv(n)&&cv(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),av.apply(this,arguments)}function ov(e){return Gp(e)&&e.Uo.length<10}function uv(e,t){e.Uo.push(t);var n=xv(e);n.co()&&n.bo&&n.vo(t.mutations)}function sv(e){return Gp(e)&&!xv(e).oo()&&e.Uo.length>0}function cv(e){xv(e).start()}function lv(e){return fv.apply(this,arguments)}function fv(){return fv=Qr($r().mark((function e(t){return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:xv(t).Do();case 1:case"end":return e.stop()}}),e)}))),fv.apply(this,arguments)}function hv(e){return dv.apply(this,arguments)}function dv(){return dv=Qr($r().mark((function e(t){var n,r,i,a;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=xv(t),r=ri(t.Uo);try{for(r.s();!(i=r.n()).done;)a=i.value,n.vo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),dv.apply(this,arguments)}function pv(e,t,n){return vv.apply(this,arguments)}function vv(){return vv=Qr($r().mark((function e(t,n,r){var i,a;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Uo.shift(),a=Rd.from(i,n,r),e.next=3,rv(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,iv(t);case 5:case"end":return e.stop()}}),e)}))),vv.apply(this,arguments)}function yv(e,t){return mv.apply(this,arguments)}function mv(){return mv=Qr($r().mark((function e(t,n){return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&xv(t).bo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Qr($r().mark((function e(t,n){var r,i;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!uh(i=n.code)||i===Vc.ABORTED){e.next=7;break}return r=t.Uo.shift(),xv(t).ao(),e.next=5,rv(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,iv(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:sv(t)&&cv(t);case 5:case"end":return e.stop()}}),e)}))),mv.apply(this,arguments)}function gv(e,t){return kv.apply(this,arguments)}function kv(){return kv=Qr($r().mark((function e(t,n){var r,i;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Fc(t)).asyncQueue.verifyOperationInProgress(),Dc("RemoteStore","RemoteStore received new credentials"),i=Gp(r),r.Ko.add(3),e.next=6,Fp(r);case 6:return i&&r.Qo.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.Ko.delete(3),e.next=12,Mp(r);case 12:case"end":return e.stop()}}),e)}))),kv.apply(this,arguments)}function bv(e,t){return wv.apply(this,arguments)}function wv(){return wv=Qr($r().mark((function e(t,n){var r;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Fc(t),!n){e.next=7;break}return r.Ko.delete(2),e.next=5,Mp(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.Ko.add(2),e.next=12,Fp(r);case 12:r.Qo.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),wv.apply(this,arguments)}function Ev(e){return e.zo||(e.zo=function(e,t,n){var r=Fc(e);return r.No(),new Pp(t,r.eo,r.authCredentials,r.appCheckCredentials,r.O,n)}(e.datastore,e.asyncQueue,{Pr:Yp.bind(null,e),vr:Xp.bind(null,e),To:Zp.bind(null,e)}),e.Go.push(function(){var t=Qr($r().mark((function t(n){return $r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.zo.ao(),Kp(e)?Hp(e):e.Qo.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.zo.stop();case 6:Qp(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.zo}function xv(e){return e.Ho||(e.Ho=function(e,t,n){var r=Fc(e);return r.No(),new Dp(t,r.eo,r.authCredentials,r.appCheckCredentials,r.O,n)}(e.datastore,e.asyncQueue,{Pr:lv.bind(null,e),vr:yv.bind(null,e),So:hv.bind(null,e),Vo:pv.bind(null,e)}),e.Go.push(function(){var t=Qr($r().mark((function t(n){return $r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Ho.ao(),t.next=4,iv(e);case 4:t.next=9;break;case 6:return t.next=8,e.Ho.stop();case 8:e.Uo.length>0&&(Dc("RemoteStore","Stopping write stream with ".concat(e.Uo.length," pending writes")),e.Uo=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Ho}var Sv=function(){function e(t,n,r,i,a){li(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Bc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return hi(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new zc(Vc.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function _v(e,t){if(Rc("AsyncQueue","".concat(t,": ").concat(e)),Pd(e))return new zc(Vc.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Tv=function(){function e(t){li(this,e),this.comparator=t?function(e,n){return t(e,n)||Sl.comparator(e.key,n.key)}:function(e,t){return Sl.comparator(e.key,t.key)},this.keyedMap=mh(),this.sortedSet=new ch(this.comparator)}return hi(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Ov=function(){function e(){li(this,e),this.Jo=new ch(Sl.comparator)}return hi(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Jo.get(t);n?0!==e.type&&3===n.type?this.Jo=this.Jo.insert(t,e):3===e.type&&1!==n.type?this.Jo=this.Jo.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Jo=this.Jo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Jo=this.Jo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Jo=this.Jo.remove(t):1===e.type&&2===n.type?this.Jo=this.Jo.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Jo=this.Jo.insert(t,{type:2,doc:e.doc}):Mc():this.Jo=this.Jo.insert(t,e)}},{key:"Yo",value:function(){var e=[];return this.Jo.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Iv=function(){function e(t,n,r,i,a,o,u,s){li(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return hi(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,Tv.emptySet(n),a,r,i,!0,!1)}}]),e}(),Cv=hi((function e(){li(this,e),this.Xo=void 0,this.listeners=[]})),Nv=hi((function e(){li(this,e),this.queries=new Kd((function(e){return wf(e)}),bf),this.onlineState="Unknown",this.Zo=new Set}));function Av(e,t){return Pv.apply(this,arguments)}function Pv(){return Pv=Qr($r().mark((function e(t,n){var r,i,a,o,u;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Fc(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Cv),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Xo=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=_v(e.t0,"Initialization of query '".concat(Ef(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.tc(r.onlineState),o.Xo&&n.ec(o.Xo)&&Mv(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Pv.apply(this,arguments)}function Dv(e,t){return Rv.apply(this,arguments)}function Rv(){return Rv=Qr($r().mark((function e(t,n){var r,i,a,o,u;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Fc(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),Rv.apply(this,arguments)}function Lv(e,t){var n,r=Fc(e),i=!1,a=ri(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=ri(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.ec(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Xo=o}}}catch(f){a.e(f)}finally{a.f()}i&&Mv(r)}function jv(e,t,n){var r=Fc(e),i=r.queries.get(t);if(i){var a,o=ri(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function Mv(e){e.Zo.forEach((function(e){e.next()}))}var Uv=function(){function e(t,n,r){li(this,e),this.query=t,this.nc=n,this.sc=!1,this.ic=null,this.onlineState="Unknown",this.options=r||{}}return hi(e,[{key:"ec",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=ri(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Iv(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.sc?this.rc(e)&&(this.nc.next(e),a=!0):this.oc(e,this.onlineState)&&(this.cc(e),a=!0),this.ic=e,a}},{key:"onError",value:function(e){this.nc.error(e)}},{key:"tc",value:function(e){this.onlineState=e;var t=!1;return this.ic&&!this.sc&&this.oc(this.ic,e)&&(this.cc(this.ic),t=!0),t}},{key:"oc",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.uc||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"rc",value:function(e){if(e.docChanges.length>0)return!0;var t=this.ic&&this.ic.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"cc",value:function(e){e=Iv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.sc=!0,this.nc.next(e)}}]),e}();var Fv=hi((function e(t){li(this,e),this.key=t})),Vv=hi((function e(t){li(this,e),this.key=t})),zv=function(){function e(t,n){li(this,e),this.query=t,this.dc=n,this._c=null,this.current=!1,this.wc=bh(),this.mutatedKeys=bh(),this.mc=Sf(t),this.gc=new Tv(this.mc)}return hi(e,[{key:"yc",get:function(){return this.dc}},{key:"Ic",value:function(e,t){var n=this,r=t?t.Ec:new Ov,i=t?t.gc:this.gc,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s=hf(this.query)&&i.size===this.query.limit?i.last():null,c=df(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=xf(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Tc(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.mc(f,s)>0||c&&n.mc(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),hf(this.query)||df(this.query))for(;o.size>this.query.limit;){var l=hf(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{gc:o,Ec:r,ks:u,mutatedKeys:a}}},{key:"Tc",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.gc;this.gc=e.gc,this.mutatedKeys=e.mutatedKeys;var a=e.Ec.Yo();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Mc()}};return n(e)-n(t)}(e.type,t.type)||r.mc(e.doc,t.doc)})),this.Ac(n);var o=t?this.Rc():[],u=0===this.wc.size&&this.current?1:0,s=u!==this._c;return this._c=u,0!==a.length||s?{snapshot:new Iv(this.query,e.gc,i,a,e.mutatedKeys,0===u,s,!1),Pc:o}:{Pc:o}}},{key:"tc",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({gc:this.gc,Ec:new Ov,mutatedKeys:this.mutatedKeys,ks:!1},!1)):{Pc:[]}}},{key:"bc",value:function(e){return!this.dc.has(e)&&!!this.gc.has(e)&&!this.gc.get(e).hasLocalMutations}},{key:"Ac",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.dc=t.dc.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.dc=t.dc.delete(e)})),this.current=e.current)}},{key:"Rc",value:function(){var e=this;if(!this.current)return[];var t=this.wc;this.wc=bh(),this.gc.forEach((function(t){e.bc(t.key)&&(e.wc=e.wc.add(t.key))}));var n=[];return t.forEach((function(t){e.wc.has(t)||n.push(new Vv(t))})),this.wc.forEach((function(e){t.has(e)||n.push(new Fv(e))})),n}},{key:"vc",value:function(e){this.dc=e.Ks,this.wc=bh();var t=this.Ic(e.documents);return this.applyChanges(t,!0)}},{key:"Vc",value:function(){return Iv.fromInitialDocuments(this.query,this.gc,this.mutatedKeys,0===this._c)}}]),e}(),Bv=hi((function e(t,n,r){li(this,e),this.query=t,this.targetId=n,this.view=r})),qv=hi((function e(t){li(this,e),this.key=t,this.Sc=!1})),Wv=function(){function e(t,n,r,i,a,o){li(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Dc={},this.Cc=new Kd((function(e){return wf(e)}),bf),this.Nc=new Map,this.xc=new Set,this.kc=new ch(Sl.comparator),this.Oc=new Map,this.Mc=new hp,this.$c={},this.Fc=new Map,this.Bc=qd.Je(),this.onlineState="Unknown",this.Lc=void 0}return hi(e,[{key:"isPrimaryClient",get:function(){return!0===this.Lc}}]),e}();function Hv(e,t){return Kv.apply(this,arguments)}function Kv(){return Kv=Qr($r().mark((function e(t,n){var r,i,a,o,u,s;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=by(t),!(o=r.Cc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Vc(),e.next=15;break;case 6:return e.next=8,op(r.localStore,gf(n));case 8:return u=e.sent,r.isPrimaryClient&&zp(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,Gv(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),Kv.apply(this,arguments)}function Gv(e,t,n,r){return Qv.apply(this,arguments)}function Qv(){return Qv=Qr($r().mark((function e(t,n,r,i){var a,o,u,s,c,l;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Uc=function(e,n,r){return function(){var e=Qr($r().mark((function e(t,n,r,i){var a,o,u;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Ic(r),e.t0=a.ks,!e.t0){e.next=6;break}return e.next=5,cp(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Ic(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(hy(t,n.targetId,u.Pc),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,cp(t.localStore,n,!0);case 3:return a=e.sent,o=new zv(n,a.Ks),u=o.Ic(a.documents),s=Sh.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),hy(t,r,c.Pc),l=new Bv(n,r,o),e.abrupt("return",(t.Cc.set(n,l),t.Nc.has(r)?t.Nc.get(r).push(n):t.Nc.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),Qv.apply(this,arguments)}function Yv(e,t){return $v.apply(this,arguments)}function $v(){return $v=Qr($r().mark((function e(t,n){var r,i,a;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Fc(t),i=r.Cc.get(n),!((a=r.Nc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.Nc.set(i.targetId,a.filter((function(e){return!bf(e,n)}))),void r.Cc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,up(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Bp(r.remoteStore,i.targetId),ly(r,i.targetId)})).catch(Wd);case 9:e.next=14;break;case 11:return ly(r,i.targetId),e.next=14,up(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),$v.apply(this,arguments)}function Xv(e,t,n){return Jv.apply(this,arguments)}function Jv(){return Jv=Qr($r().mark((function e(t,n,r){var i,a,o;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=wy(t),e.prev=1,e.next=4,function(e,t){var n,r=Fc(e),i=tl.now(),a=t.reduce((function(e,t){return e.add(t.key)}),bh());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Us.Es(e,a).next((function(a){n=a;var o,u=[],s=ri(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=Qf(c,n.get(c.key));null!=l&&u.push(new Jf(c.key,l,Vl(l.value.mapValue),qf.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return r.gs.addMutationBatch(e,i,u,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.$c[e.currentUser.toKey()];r||(r=new ch(Zc)),r=r.insert(t,n),e.$c[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,vy(i,a.changes);case 9:return e.next=11,iv(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=_v(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),Jv.apply(this,arguments)}function Zv(e,t){return ey.apply(this,arguments)}function ey(){return ey=Qr($r().mark((function e(t,n){var r,i;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fc(t),e.prev=1,e.next=4,rp(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Oc.get(t);n&&(Uc(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Sc=!0:e.modifiedDocuments.size>0?Uc(n.Sc):e.removedDocuments.size>0&&(Uc(n.Sc),n.Sc=!1))})),e.next=8,vy(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Wd(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),ey.apply(this,arguments)}function ty(e,t,n){var r=Fc(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Cc.forEach((function(e,n){var r=n.view.tc(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Fc(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=ri(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.tc(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Mv(n)}(r.eventManager,t),i.length&&r.Dc.To(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function ny(e,t,n){return ry.apply(this,arguments)}function ry(){return ry=Qr($r().mark((function e(t,n,r){var i,a,o,u,s,c;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Fc(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.Oc.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new ch(Sl.comparator)).insert(o,zl.newNoDocument(o,nl.min())),s=bh().add(o),c=new xh(nl.min(),new Map,new hh(Zc),u,s),e.next=9,Zv(i,c);case 9:i.kc=i.kc.remove(o),i.Oc.delete(n),py(i),e.next=16;break;case 14:return e.next=16,up(i.localStore,n,!1).then((function(){return ly(i,n,r)})).catch(Wd);case 16:case"end":return e.stop()}}),e)}))),ry.apply(this,arguments)}function iy(e,t){return ay.apply(this,arguments)}function ay(){return ay=Qr($r().mark((function e(t,n){var r,i,a;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fc(t),i=n.batch.batchId,e.prev=1,e.next=4,tp(r.localStore,n);case 4:return a=e.sent,cy(r,i,null),sy(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,vy(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Wd(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),ay.apply(this,arguments)}function oy(e,t,n){return uy.apply(this,arguments)}function uy(){return uy=Qr($r().mark((function e(t,n,r){var i,a;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Fc(t),e.prev=1,e.next=4,function(e,t){var n=Fc(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.gs.lookupMutationBatch(e,t).next((function(t){return Uc(null!==t),r=t.keys(),n.gs.removeMutationBatch(e,t)})).next((function(){return n.gs.performConsistencyCheck(e)})).next((function(){return n.Us.Es(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,cy(i,n,r),sy(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,vy(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Wd(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),uy.apply(this,arguments)}function sy(e,t){(e.Fc.get(t)||[]).forEach((function(e){e.resolve()})),e.Fc.delete(t)}function cy(e,t,n){var r=Fc(e),i=r.$c[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.$c[r.currentUser.toKey()]=i}}function ly(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=ri(e.Nc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.Cc.delete(a),n&&e.Dc.qc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.Nc.delete(t),e.isPrimaryClient&&e.Mc.si(t).forEach((function(t){e.Mc.containsKey(t)||fy(e,t)}))}function fy(e,t){e.xc.delete(t.path.canonicalString());var n=e.kc.get(t);null!==n&&(Bp(e.remoteStore,n),e.kc=e.kc.remove(t),e.Oc.delete(n),py(e))}function hy(e,t,n){var r,i=ri(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Fv?(e.Mc.addReference(a.key,t),dy(e,a)):a instanceof Vv?(Dc("SyncEngine","Document no longer in limbo: "+a.key),e.Mc.removeReference(a.key,t),e.Mc.containsKey(a.key)||fy(e,a.key)):Mc()}}catch(o){i.e(o)}finally{i.f()}}function dy(e,t){var n=t.key,r=n.path.canonicalString();e.kc.get(n)||e.xc.has(r)||(Dc("SyncEngine","New document in limbo: "+n),e.xc.add(r),py(e))}function py(e){for(;e.xc.size>0&&e.kc.size<e.maxConcurrentLimboResolutions;){var t=e.xc.values().next().value;e.xc.delete(t);var n=new Sl(ul.fromString(t)),r=e.Bc.next();e.Oc.set(r,new qv(n)),e.kc=e.kc.insert(n,r),zp(e.remoteStore,new jd(gf(ff(n.path)),r,2,$c.A))}}function vy(e,t,n){return yy.apply(this,arguments)}function yy(){return yy=Qr($r().mark((function e(t,n,r){var i,a,o,u;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Fc(t),a=[],o=[],u=[],e.t0=i.Cc.isEmpty(),e.t0){e.next=9;break}return i.Cc.forEach((function(e,t){u.push(i.Uc(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=Yd.Ss(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.Dc.To(a),e.next=9,function(){var e=Qr($r().mark((function e(t,n){var r,i,a,o,u,s,c,l;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fc(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Ad.forEach(n,(function(t){return Ad.forEach(t.vs,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Ad.forEach(t.Vs,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Pd(e.t0)){e.next=10;break}throw e.t0;case 10:Dc("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=ri(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.Ms.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.Ms=r.Ms.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),yy.apply(this,arguments)}function my(e,t){return gy.apply(this,arguments)}function gy(){return gy=Qr($r().mark((function e(t,n){var r,i;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Fc(t)).currentUser.isEqual(n)){e.next=11;break}return Dc("SyncEngine","User change. New user:",n.toKey()),e.next=5,Zd(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.Fc.forEach((function(e){e.forEach((function(e){e.reject(new zc(Vc.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Fc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,vy(r,i.qs);case 11:case"end":return e.stop()}}),e)}))),gy.apply(this,arguments)}function ky(e,t){var n=Fc(e),r=n.Oc.get(t);if(r&&r.Sc)return bh().add(r.key);var i=bh(),a=n.Nc.get(t);if(!a)return i;var o,u=ri(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.Cc.get(s);i=i.unionWith(c.view.yc)}}catch(l){u.e(l)}finally{u.f()}return i}function by(e){var t=Fc(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Zv.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ky.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ny.bind(null,t),t.Dc.To=Lv.bind(null,t.eventManager),t.Dc.qc=jv.bind(null,t.eventManager),t}function wy(e){var t=Fc(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=iy.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=oy.bind(null,t),t}var Ey=function(){function e(){li(this,e),this.synchronizeTabs=!1}return hi(e,[{key:"initialize",value:function(){var e=Qr($r().mark((function e(t){return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.O=Cp(t.databaseInfo.databaseId),this.sharedClientState=this.Gc(t),this.persistence=this.jc(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.Qc(t),this.localStore=this.Wc(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Qc",value:function(e){return null}},{key:"Wc",value:function(e){return Jd(this.persistence,new $d,e.initialUser,this.O)}},{key:"jc",value:function(e){return new gp(bp.bi,this.O)}},{key:"Gc",value:function(e){return new Ep}},{key:"terminate",value:function(){var e=Qr($r().mark((function e(){return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),xy=function(){function e(){li(this,e)}return hi(e,[{key:"initialize",value:function(){var e=Qr($r().mark((function e(t,n){var r=this;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return ty(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=my.bind(null,this.syncEngine),e.next=12,bv(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Nv}},{key:"createDatastore",value:function(e){var t,n=Cp(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Op(t));return function(e,t,n,r){return new Rp(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return ty(o.syncEngine,e,0)},a=Sp.Vt()?new Sp:new xp,new jp(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new Wv(e,t,n,r,i,a);return o&&(u.Lc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Qr($r().mark((function e(t){var n;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Fc(t),Dc("RemoteStore","RemoteStore shutting down."),n.Ko.add(5),e.next=5,Fp(n);case 5:n.jo.shutdown(),n.Qo.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();var Sy=function(){function e(t){li(this,e),this.observer=t,this.muted=!1}return hi(e,[{key:"next",value:function(e){this.observer.next&&this.Hc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Hc(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Jc",value:function(){this.muted=!0}},{key:"Hc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),_y=function(){function e(t,n,r,i){var a=this;li(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Cc.UNAUTHENTICATED,this.clientId=Jc.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Qr($r().mark((function e(t){return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Dc("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Dc("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return hi(e,[{key:"getConfiguration",value:function(){var e=Qr($r().mark((function e(){return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new zc(Vc.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Bc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Qr($r().mark((function n(){var r;return $r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=_v(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function Ty(e,t){return Oy.apply(this,arguments)}function Oy(){return Oy=Qr($r().mark((function e(t,n){var r,i;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Dc("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Qr($r().mark((function e(t){return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Zd(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),Oy.apply(this,arguments)}function Iy(e,t){return Cy.apply(this,arguments)}function Cy(){return Cy=Qr($r().mark((function e(t,n){var r,i;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,Ny(t);case 3:return r=e.sent,Dc("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return gv(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return gv(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),Cy.apply(this,arguments)}function Ny(e){return Ay.apply(this,arguments)}function Ay(){return Ay=Qr($r().mark((function e(t){return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Dc("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,Ty(t,new Ey);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),Ay.apply(this,arguments)}function Py(e){return Dy.apply(this,arguments)}function Dy(){return Dy=Qr($r().mark((function e(t){return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Dc("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,Iy(t,new xy);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),Dy.apply(this,arguments)}function Ry(e){return Py(e).then((function(e){return e.syncEngine}))}function Ly(e){return jy.apply(this,arguments)}function jy(){return jy=Qr($r().mark((function e(t){var n,r;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Py(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Hv.bind(null,n.syncEngine),r.onUnlisten=Yv.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),jy.apply(this,arguments)}function My(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Bc;return e.asyncQueue.enqueueAndForget(Qr($r().mark((function i(){return $r().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Sy({next:function(n){t.enqueueAndForget((function(){return Dv(e,o)})),n.fromCache&&"server"===r.source?i.reject(new zc(Vc.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Uv(n,a,{includeMetadataChanges:!0,uc:!0});return Av(e,o)},i.next=3,Ly(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var Uy=new Map;function Fy(e,t,n){if(!n)throw new zc(Vc.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Vy(e){if(!Sl.isDocumentKey(e))throw new zc(Vc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function zy(e){if(Sl.isDocumentKey(e))throw new zc(Vc.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function By(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Mc()}function qy(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new zc(Vc.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=By(e);throw new zc(Vc.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}var Wy=function(){function e(t){var n;if(li(this,e),void 0===t.host){if(void 0!==t.ssl)throw new zc(Vc.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new zc(Vc.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,function(e,t,n,r){if(!0===t&&!0===r)throw new zc(Vc.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return hi(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),Hy=function(){function e(t,n,r){li(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Wy({}),this._settingsFrozen=!1,t instanceof bl?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new zc(Vc.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bl(e.options.projectId)}(t))}return hi(e,[{key:"app",get:function(){if(!this._app)throw new zc(Vc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new zc(Vc.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Wy(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Wc;switch(e.type){case"gapi":var t=e.client;return Uc(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Gc(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new zc(Vc.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Uy.get(e);t&&(Dc("ComponentProvider","Removing Datastore"),Uy.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();var Ky=function(){function e(t,n,r){li(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return hi(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Qy(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),Gy=function(){function e(t,n,r){li(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return hi(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Qy=function(e){ii(n,e);var t=si(n);function n(e,r,i){var a;return li(this,n),(a=t.call(this,e,r,ff(i)))._path=i,a.type="collection",a}return hi(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Ky(this.firestore,null,new Sl(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Gy);function Yy(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Li(e),Fy("collection","path",t),e instanceof Hy){var a=ul.fromString.apply(ul,[t].concat(r));return zy(a),new Qy(e,null,a)}if(!(e instanceof Ky||e instanceof Qy))throw new zc(Vc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(ul.fromString.apply(ul,[t].concat(r)));return zy(o),new Qy(e.firestore,null,o)}function $y(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Li(e),1===arguments.length&&(t=Jc.R()),Fy("doc","path",t),e instanceof Hy){var a=ul.fromString.apply(ul,[t].concat(r));return Vy(a),new Ky(e,null,new Sl(a))}if(!(e instanceof Ky||e instanceof Qy))throw new zc(Vc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(ul.fromString.apply(ul,[t].concat(r)));return Vy(o),new Ky(e.firestore,e instanceof Qy?e.converter:null,new Sl(o))}var Xy=function(){function e(){var t=this;li(this,e),this.hu=Promise.resolve(),this.lu=[],this.fu=!1,this.du=[],this._u=null,this.wu=!1,this.mu=!1,this.gu=[],this.ro=new Np(this,"async_queue_retry"),this.yu=function(){var e=Ip();e&&Dc("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ro.Yr()};var n=Ip();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.yu)}return hi(e,[{key:"isShuttingDown",get:function(){return this.fu}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.pu(),this.Iu(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.fu){this.fu=!0,this.mu=e||!1;var t=Ip();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.yu)}}},{key:"enqueue",value:function(e){var t=this;if(this.pu(),this.fu)return new Promise((function(){}));var n=new Bc;return this.Iu((function(){return t.fu&&t.mu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.lu.push(e),t.Eu()}))}},{key:"Eu",value:function(){var e=Qr($r().mark((function e(){var t=this;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.lu.length){e.next=14;break}return e.prev=1,e.next=4,this.lu[0]();case 4:this.lu.shift(),this.ro.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Pd(e.t0)){e.next=12;break}throw e.t0;case 12:Dc("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.lu.length>0&&this.ro.Hr((function(){return t.Eu()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Iu",value:function(e){var t=this,n=this.hu.then((function(){return t.wu=!0,e().catch((function(e){t._u=e,t.wu=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Rc("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.wu=!1,e}))}));return this.hu=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.pu(),this.gu.indexOf(e)>-1&&(t=0);var i=Sv.createAndSchedule(this,e,t,n,(function(e){return r.Tu(e)}));return this.du.push(i),i}},{key:"pu",value:function(){this._u&&Mc()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Au",value:function(){var e=Qr($r().mark((function e(){var t;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.hu,e.next=3,t;case 3:if(t!==this.hu){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ru",value:function(e){var t,n=ri(this.du);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Pu",value:function(e){var t=this;return this.Au().then((function(){t.du.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=ri(t.du);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Au()}))}},{key:"bu",value:function(e){this.gu.push(e)}},{key:"Tu",value:function(e){var t=this.du.indexOf(e);this.du.splice(t,1)}}]),e}();var Jy=function(e){ii(n,e);var t=si(n);function n(e,r,i){var a;return li(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new Xy,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return hi(n,[{key:"_terminate",value:function(){return this._firestoreClient||em(this),this._firestoreClient.terminate()}}]),n}(Hy);function Zy(e){return e._firestoreClient||em(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function em(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new kl(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new _y(e._authCredentials,e._appCheckCredentials,e._queue,r)}var tm=function(){function e(){li(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new zc(Vc.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cl(n)}return hi(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var nm=function(){function e(t){li(this,e),this._byteString=t}return hi(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(fl.fromBase64String(t))}catch(t){throw new zc(Vc.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(fl.fromUint8Array(t))}}]),e}(),rm=hi((function e(t){li(this,e),this._methodName=t})),im=function(){function e(t,n){if(li(this,e),!isFinite(t)||t<-90||t>90)throw new zc(Vc.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new zc(Vc.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return hi(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Zc(this._lat,e._lat)||Zc(this._long,e._long)}}]),e}(),am=/^__.*__$/,om=function(){function e(t,n,r){li(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return hi(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Jf(e,this.data,this.fieldMask,t,this.fieldTransforms):new Xf(e,this.data,t,this.fieldTransforms)}}]),e}();function um(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Mc()}}var sm=function(){function e(t,n,r,i,a,o){li(this,e),this.settings=t,this.databaseId=n,this.O=r,this.ignoreUndefinedProperties=i,void 0===a&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return hi(e,[{key:"path",get:function(){return this.settings.path}},{key:"Vu",get:function(){return this.settings.Vu}},{key:"Su",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.O,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Du",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Su({path:n,Cu:!1});return r.Nu(e),r}},{key:"xu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Su({path:n,Cu:!1});return r.vu(),r}},{key:"ku",value:function(e){return this.Su({path:void 0,Cu:!0})}},{key:"Ou",value:function(e){return bm(e,this.settings.methodName,this.settings.Mu||!1,this.path,this.settings.$u)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"vu",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Nu(this.path.get(e))}},{key:"Nu",value:function(e){if(0===e.length)throw this.Ou("Document fields must not be empty");if(um(this.Vu)&&am.test(e))throw this.Ou('Document fields cannot begin and end with "__"')}}]),e}(),cm=function(){function e(t,n,r){li(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.O=r||Cp(t)}return hi(e,[{key:"Fu",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new sm({Vu:e,methodName:t,$u:n,path:cl.emptyPath(),Cu:!1,Mu:r},this.databaseId,this.O,this.ignoreUndefinedProperties)}}]),e}();function lm(e){var t=e._freezeSettings(),n=Cp(e._databaseId);return new cm(e._databaseId,!!t.ignoreUndefinedProperties,n)}function fm(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.Fu(a.merge||a.mergeFields?2:0,t,n,i);ym("Data must be an object, but it was:",o,r);var u,s,c=pm(r,o);if(a.merge)u=new ll(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=ri(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=mm(t,d,n);if(!o.contains(p))throw new zc(Vc.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));wm(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new ll(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new om(new Fl(c),u,s)}var hm=function(e){ii(n,e);var t=si(n);function n(){return li(this,n),t.apply(this,arguments)}return hi(n,[{key:"_toFieldTransform",value:function(e){return new zf(e.path,new Df)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(rm);function dm(e,t){if(vm(e=Li(e)))return ym("Unsupported field value:",t,e),pm(e,t);if(e instanceof rm)return function(e,t){if(!um(t.Vu))throw t.Ou("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Ou("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Cu&&4!==t.Vu)throw t.Ou("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=ri(e);try{for(a.s();!(n=a.n()).done;){var o=dm(n.value,t.ku(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Li(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return If(t.O,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=tl.fromDate(e);return{timestampValue:Lh(t.O,n)}}if(e instanceof tl){var r=new tl(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Lh(t.O,r)}}if(e instanceof im)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof nm)return{bytesValue:jh(t.O,e._byteString)};if(e instanceof Ky){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.Ou("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Fh(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Ou("Unsupported field value: ".concat(By(e)))}(e,t)}function pm(e,t){var n={};return al(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):il(e,(function(e,r){var i=dm(r,t.Du(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function vm(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof tl||e instanceof im||e instanceof nm||e instanceof Ky||e instanceof rm)}function ym(e,t,n){if(!vm(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=By(n);throw"an object"===r?t.Ou(e+" a custom object"):t.Ou(e+" "+r)}}function mm(e,t,n){if((t=Li(t))instanceof tm)return t._internalPath;if("string"==typeof t)return km(e,t);throw bm("Field path arguments must be of type string or ",e,!1,void 0,n)}var gm=new RegExp("[~\\*/\\[\\]]");function km(e,t,n){if(t.search(gm)>=0)throw bm("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Zr(tm,ci(t.split(".")))._internalPath}catch(r){throw bm("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function bm(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new zc(Vc.INVALID_ARGUMENT,u+e+s)}function wm(e,t){return e.some((function(e){return e.isEqual(t)}))}var Em=function(){function e(t,n,r,i,a){li(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return hi(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Ky(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new xm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(Sm("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),xm=function(e){ii(n,e);var t=si(n);function n(){return li(this,n),t.apply(this,arguments)}return hi(n,[{key:"data",value:function(){return ni(ei(n.prototype),"data",this).call(this)}}]),n}(Em);function Sm(e,t){return"string"==typeof t?km(e,t):t instanceof tm?t._internalPath:t._delegate._internalPath}var _m=function(){function e(t,n){li(this,e),this.hasPendingWrites=t,this.fromCache=n}return hi(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Tm=function(e){ii(n,e);var t=si(n);function n(e,r,i,a,o,u){var s;return li(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return hi(n,[{key:"exists",value:function(){return ni(ei(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new Om(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(Sm("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(Em),Om=function(e){ii(n,e);var t=si(n);function n(){return li(this,n),t.apply(this,arguments)}return hi(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ni(ei(n.prototype),"data",this).call(this,e)}}]),n}(Tm),Im=function(){function e(t,n,r,i){li(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new _m(i.hasPendingWrites,i.fromCache),this.query=r}return hi(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Om(n._firestore,n._userDataWriter,r.key,r,new _m(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new zc(Vc.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new Om(e._firestore,e._userDataWriter,t.doc.key,t.doc,new _m(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Om(e._firestore,e._userDataWriter,t.doc.key,t.doc,new _m(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Cm(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function Cm(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Mc()}}function Nm(e){if(df(e)&&0===e.explicitOrderBy.length)throw new zc(Vc.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Am=hi((function e(){li(this,e)}));function Pm(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var Dm=function(e){ii(n,e);var t=si(n);function n(e,r){var i;return li(this,n),(i=t.call(this)).Uu=e,i.Gu=r,i.type="orderBy",i}return hi(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new zc(Vc.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new zc(Vc.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new af(t,n);return function(e,t){if(null===pf(e)){var n=vf(e);null!==n&&Lm(e,n,t.field)}}(e,r),r}(e._query,this.Uu,this.Gu);return new Gy(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new cf(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(Am);function Rm(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=t,r=Sm("orderBy",e);return new Dm(r,n)}function Lm(e,t,n){if(!n.isEqual(t))throw new zc(Vc.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var jm=function(){function e(){li(this,e)}return hi(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Tl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pl(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(vl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Mc()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return il(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new im(pl(e.latitude),pl(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=ml(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(gl(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=dl(e);return new tl(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=ul.fromString(e);Uc(od(n));var r=new bl(n.get(1),n.get(3)),i=new Sl(n.popFirst(5));return r.isEqual(t)||Rc("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function Mm(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Um=function(e){ii(n,e);var t=si(n);function n(e){var r;return li(this,n),(r=t.call(this)).firestore=e,r}return hi(n,[{key:"convertBytes",value:function(e){return new nm(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ky(this.firestore,null,t)}}]),n}(jm);function Fm(e){e=qy(e,Gy);var t=qy(e.firestore,Jy),n=Zy(t),r=new Um(t);return Nm(e._query),My(n,e._query).then((function(n){return new Im(t,r,e,n)}))}function Vm(e){return Bm(qy(e.firestore,Jy),[new ih(e._key,qf.none())])}function zm(e,t){var n=qy(e.firestore,Jy),r=$y(e),i=Mm(e.converter,t);return Bm(n,[fm(lm(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,qf.exists(!1))]).then((function(){return r}))}function Bm(e,t){return function(e,t){var n=new Bc;return e.asyncQueue.enqueueAndForget(Qr($r().mark((function r(){return $r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=Xv,r.next=3,Ry(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(Zy(e),t)}function qm(){return new hm("serverTimestamp")}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Nc="9.6.7",aa(new ji("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new Jy(i,new Hc(e.getProvider("auth-internal")),new Yc(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),da(Ic,"3.4.5",e),da(Ic,"3.4.5","esm2017")}();da("firebase","9.6.7","app");function Wm(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Hm;Object.create;function Km(){return di({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Gm=Km,Qm=new _i("auth","Firebase",Km()),Ym=new Yi("@firebase/auth");function $m(e){if(Ym.logLevel<=Vi.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ym.error.apply(Ym,["Auth (".concat(fa,"): ").concat(e)].concat(n))}}function Xm(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw tg.apply(void 0,[e].concat(n))}function Jm(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return tg.apply(void 0,[e].concat(n))}function Zm(e,t,n){var r=Object.assign(Object.assign({},Gm()),di({},t,n));return new _i("auth","Firebase",r).create(t,{appName:e.name})}function eg(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Xm(e,"argument-error"),Zm(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function tg(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=ci(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(ci(o)))}return Qm.create.apply(Qm,[e].concat(n))}function ng(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw tg.apply(void 0,[t].concat(r))}}function rg(e){var t="INTERNAL ASSERTION FAILED: "+e;throw $m(t),new Error(t)}function ig(e,t){e||rg(t)}var ag=new Map;function og(e){ig(e instanceof Function,"Expected a class definition");var t=ag.get(e);return t?(ig(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ag.set(e,t),t)}function ug(e,t){var n=oa(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(Ii(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;Xm(r,"already-initialized")}return n.initialize({options:t})}function sg(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function cg(){return"http:"===lg()||"https:"===lg()}function lg(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var fg=function(){function e(t,n){li(this,e),this.shortDelay=t,this.longDelay=n,ig(n>t,"Short delay should be less than long delay!"),this.isMobile=bi()||Ei()}return hi(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(cg()||wi()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function hg(e,t){ig(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var dg=function(){function e(){li(this,e)}return hi(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void rg("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void rg("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void rg("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),pg=(di(Hm={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),di(Hm,"MISSING_CUSTOM_TOKEN","internal-error"),di(Hm,"INVALID_IDENTIFIER","invalid-email"),di(Hm,"MISSING_CONTINUE_URI","internal-error"),di(Hm,"INVALID_PASSWORD","wrong-password"),di(Hm,"MISSING_PASSWORD","internal-error"),di(Hm,"EMAIL_EXISTS","email-already-in-use"),di(Hm,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),di(Hm,"INVALID_IDP_RESPONSE","invalid-credential"),di(Hm,"INVALID_PENDING_TOKEN","invalid-credential"),di(Hm,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),di(Hm,"MISSING_REQ_TYPE","internal-error"),di(Hm,"EMAIL_NOT_FOUND","user-not-found"),di(Hm,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),di(Hm,"EXPIRED_OOB_CODE","expired-action-code"),di(Hm,"INVALID_OOB_CODE","invalid-action-code"),di(Hm,"MISSING_OOB_CODE","internal-error"),di(Hm,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),di(Hm,"INVALID_ID_TOKEN","invalid-user-token"),di(Hm,"TOKEN_EXPIRED","user-token-expired"),di(Hm,"USER_NOT_FOUND","user-token-expired"),di(Hm,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),di(Hm,"INVALID_CODE","invalid-verification-code"),di(Hm,"INVALID_SESSION_INFO","invalid-verification-id"),di(Hm,"INVALID_TEMPORARY_PROOF","invalid-credential"),di(Hm,"MISSING_SESSION_INFO","missing-verification-id"),di(Hm,"SESSION_EXPIRED","code-expired"),di(Hm,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),di(Hm,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),di(Hm,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),di(Hm,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),di(Hm,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),di(Hm,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),di(Hm,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),di(Hm,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),di(Hm,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),di(Hm,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),di(Hm,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Hm),vg=new fg(3e4,6e4);function yg(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function mg(e,t,n,r){return gg.apply(this,arguments)}function gg(){return gg=Qr($r().mark((function e(t,n,r,i){var a,o=arguments;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",kg(t,a,Qr($r().mark((function e(){var a,o,u,s;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=Ni(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",dg.fetch()(xg(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),gg.apply(this,arguments)}function kg(e,t,n){return bg.apply(this,arguments)}function bg(){return bg=Qr($r().mark((function e(t,n,r){var i,a,u,s,c,l,f,h,d,p;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},pg),n),e.prev=2,a=new Sg(t),e.next=6,Promise.race([r(),a.promise]);case 6:return u=e.sent,a.clearNetworkTimeout(),e.next=10,u.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw _g(t,"account-exists-with-different-credential",s);case 13:if(!u.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(c=u.ok?s.errorMessage:s.error.message,l=c.split(" : "),f=o(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw _g(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=25;break}throw _g(t,"email-already-in-use",s);case 25:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=30;break}throw Zm(t,p,d);case 30:Xm(t,p);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof Si)){e.next=37;break}throw e.t0;case 37:Xm(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])}))),bg.apply(this,arguments)}function wg(e,t,n,r){return Eg.apply(this,arguments)}function Eg(){return Eg=Qr($r().mark((function e(t,n,r,i){var a,o,u=arguments;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,mg(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Xm(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Eg.apply(this,arguments)}function xg(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?hg(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Sg=function(){function e(t){var n=this;li(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Jm(n.auth,"network-request-failed"))}),vg.get())}))}return hi(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function _g(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Jm(e,t,r);return i.customData._tokenResponse=n,i}function Tg(e,t){return Og.apply(this,arguments)}function Og(){return Og=Qr($r().mark((function e(t,n){return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mg(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),Og.apply(this,arguments)}function Ig(e,t){return Cg.apply(this,arguments)}function Cg(){return Cg=Qr($r().mark((function e(t,n){return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mg(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),Cg.apply(this,arguments)}function Ng(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Ag(){return Ag=Qr($r().mark((function e(t){var n,r,i,a,o,u,s=arguments;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=Li(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,ng((a=Dg(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Ng(Pg(a.auth_time)),issuedAtTime:Ng(Pg(a.iat)),expirationTime:Ng(Pg(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Ag.apply(this,arguments)}function Pg(e){return 1e3*Number(e)}function Dg(e){var t=o(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return $m("JWT malformed, contained fewer than 3 sections"),null;try{var a=mi(r);return a?JSON.parse(a):($m("Failed to decode base64 JWT payload"),null)}catch(u){return $m("Caught error parsing JWT payload as JSON",u),null}}function Rg(e,t){return Lg.apply(this,arguments)}function Lg(){return Lg=Qr($r().mark((function e(t,n){var r=arguments;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Si&&jg(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Lg.apply(this,arguments)}function jg(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Mg=function(){function e(t){li(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return hi(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Qr($r().mark((function t(){return $r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Qr($r().mark((function e(){return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Ug=function(){function e(t,n){li(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return hi(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Ng(this.lastLoginAt),this.creationTime=Ng(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Fg(e){return Vg.apply(this,arguments)}function Vg(){return Vg=Qr($r().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Rg(t,Ig(r,{idToken:i}));case 6:ng(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?qg(o.providerUserInfo):[],s=Bg(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Ug(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Vg.apply(this,arguments)}function zg(){return(zg=Qr($r().mark((function e(t){var n;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Li(t),e.next=3,Fg(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bg(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(ci(n),ci(t))}function qg(e){return e.map((function(e){var t=e.providerId,n=Wm(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Wg(e,t){return Hg.apply(this,arguments)}function Hg(){return Hg=Qr($r().mark((function e(t,n){var r;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kg(t,{},Qr($r().mark((function e(){var r,i,a,o,u,s;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ni({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=xg(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",dg.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),Hg.apply(this,arguments)}var Kg=function(){function e(){li(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return hi(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){ng(e.idToken,"internal-error"),ng("undefined"!==typeof e.idToken,"internal-error"),ng("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Dg(e);return ng(t,"internal-error"),ng("undefined"!==typeof t.exp,"internal-error"),ng("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Qr($r().mark((function e(t){var n,r=arguments;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],ng(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Qr($r().mark((function e(t,n){var r,i,a,o;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wg(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return rg("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(ng("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(ng("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(ng("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Gg(e,t){ng("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Qg=function(){function e(t){li(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Wm(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Mg(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?ci(a.providerData):[],this.metadata=new Ug(a.createdAt||void 0,a.lastLoginAt||void 0)}return hi(e,[{key:"getIdToken",value:function(){var e=Qr($r().mark((function e(t){var n;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rg(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(ng(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Ag.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return zg.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(ng(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){ng(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Qr($r().mark((function e(t){var n,r,i=arguments;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Fg(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Qr($r().mark((function e(){var t;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Rg(this,Tg(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,y=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,m=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,E=n.providerData,x=n.stsTokenManager;ng(k&&x,t,"internal-error");var S=Kg.fromJSON(this.name,x);ng("string"===typeof k,t,"internal-error"),Gg(f,t.name),Gg(h,t.name),ng("boolean"===typeof b,t,"internal-error"),ng("boolean"===typeof w,t,"internal-error"),Gg(d,t.name),Gg(p,t.name),Gg(v,t.name),Gg(y,t.name),Gg(m,t.name),Gg(g,t.name);var _=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:S,createdAt:m,lastLoginAt:g});return E&&Array.isArray(E)&&(_.providerData=E.map((function(e){return Object.assign({},e)}))),y&&(_._redirectEventId=y),_}},{key:"_fromIdTokenResponse",value:function(){var t=Qr($r().mark((function t(n,r){var i,a,o,u=arguments;return $r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new Kg).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Fg(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Yg=function(){function e(){li(this,e),this.type="NONE",this.storage={}}return hi(e,[{key:"_isAvailable",value:function(){var e=Qr($r().mark((function e(){return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Qr($r().mark((function e(t,n){return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Qr($r().mark((function e(t){var n;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Qr($r().mark((function e(t){return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Yg.type="NONE";var $g=Yg;function Xg(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Jg=function(){function e(t,n,r){li(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Xg(this.userKey,a.apiKey,o),this.fullPersistenceKey=Xg("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return hi(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Qr($r().mark((function e(){var t;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Qg._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Qr($r().mark((function e(t){var n;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Qr($r().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return $r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(og($g),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Qr($r().mark((function e(t){return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||og($g),u=Xg(i,n.config.apiKey,n.name),s=null,c=ri(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=Qg._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Qr($r().mark((function e(t){return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Zg(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(rk(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ek(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ak(t))return"Blackberry";if(ok(t))return"Webos";if(tk(t))return"Safari";if((t.includes("chrome/")||nk(t))&&!t.includes("edge/"))return"Chrome";if(ik(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function ek(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ki();return/firefox\//i.test(e)}function tk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ki(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function nk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ki();return/crios\//i.test(e)}function rk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ki();return/iemobile/i.test(e)}function ik(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ki();return/android/i.test(e)}function ak(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ki();return/blackberry/i.test(e)}function ok(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ki();return/webos/i.test(e)}function uk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ki();return/iphone|ipad|ipod/i.test(e)}function sk(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ki();return uk(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function ck(){return xi()&&10===document.documentMode}function lk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ki();return uk(e)||ik(e)||ok(e)||ak(e)||/windows phone/i.test(e)||rk(e)}function fk(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Zg(ki());break;case"Worker":t="".concat(Zg(ki()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(fa,"/").concat(r)}var hk=function(){function e(t,n){li(this,e),this.app=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pk(this),this.idTokenSubscription=new pk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Qm,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=n.sdkClientVersion}return hi(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=og(t)),this._initializationPromise=this.queue(Qr($r().mark((function r(){var i,a;return $r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Jg.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Qr($r().mark((function e(){var t;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Qr($r().mark((function e(t){var n,r,i,a,o;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return ng(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Qr($r().mark((function e(t){var n;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Qr($r().mark((function e(t){return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Fg(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Qr($r().mark((function e(){return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Qr($r().mark((function e(t){var n;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Li(t):null)&&ng(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Qr($r().mark((function e(t){var n=this;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&ng(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(Qr($r().mark((function e(){return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Qr($r().mark((function e(){return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Qr($r().mark((function n(){return $r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(og(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new _i("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Qr($r().mark((function e(t,n){var r;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Qr($r().mark((function e(t){var n;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return ng(n=t&&og(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Jg.create(this,[og(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Qr($r().mark((function e(t){var n,r;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Qr($r().mark((function e(){return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Qr($r().mark((function e(t){var n=this;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Qr($r().mark((function e(){return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return ng(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Qr($r().mark((function e(t){return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return ng(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fk(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Qr($r().mark((function e(){var t;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=di({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function dk(e){return Li(e)}var pk=function(){function e(t){var n=this;li(this,e),this.auth=t,this.observer=null,this.addObserver=function(e,t){var n=new Di(e,t);return n.subscribe.bind(n)}((function(e){return n.observer=e}))}return hi(e,[{key:"next",get:function(){return ng(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();var vk=function(){function e(t,n){li(this,e),this.providerId=t,this.signInMethod=n}return hi(e,[{key:"toJSON",value:function(){return rg("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return rg("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return rg("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return rg("not implemented")}}]),e}();function yk(e,t){return mk.apply(this,arguments)}function mk(){return mk=Qr($r().mark((function e(t,n){return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mg(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),mk.apply(this,arguments)}function gk(e,t){return kk.apply(this,arguments)}function kk(){return kk=Qr($r().mark((function e(t,n){return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wg(t,"POST","/v1/accounts:signInWithPassword",yg(t,n)));case 1:case"end":return e.stop()}}),e)}))),kk.apply(this,arguments)}function bk(e,t){return wk.apply(this,arguments)}function wk(){return wk=Qr($r().mark((function e(t,n){return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wg(t,"POST","/v1/accounts:signInWithEmailLink",yg(t,n)));case 1:case"end":return e.stop()}}),e)}))),wk.apply(this,arguments)}function Ek(e,t){return xk.apply(this,arguments)}function xk(){return xk=Qr($r().mark((function e(t,n){return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wg(t,"POST","/v1/accounts:signInWithEmailLink",yg(t,n)));case 1:case"end":return e.stop()}}),e)}))),xk.apply(this,arguments)}var Sk=function(e){ii(n,e);var t=si(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return li(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return hi(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Qr($r().mark((function e(t){return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",gk(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",bk(t,{email:this._email,oobCode:this._password}));case 5:Xm(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Qr($r().mark((function e(t,n){return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",yk(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Ek(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Xm(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(vk);function _k(e,t){return Tk.apply(this,arguments)}function Tk(){return Tk=Qr($r().mark((function e(t,n){return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wg(t,"POST","/v1/accounts:signInWithIdp",yg(t,n)));case 1:case"end":return e.stop()}}),e)}))),Tk.apply(this,arguments)}var Ok=function(e){ii(n,e);var t=si(n);function n(){var e;return li(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return hi(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return _k(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,_k(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,_k(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ni(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Xm("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Wm(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(vk);function Ik(e,t){return Ck.apply(this,arguments)}function Ck(){return Ck=Qr($r().mark((function e(t,n){return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mg(t,"POST","/v1/accounts:sendVerificationCode",yg(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ck.apply(this,arguments)}function Nk(){return Nk=Qr($r().mark((function e(t,n){return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wg(t,"POST","/v1/accounts:signInWithPhoneNumber",yg(t,n)));case 1:case"end":return e.stop()}}),e)}))),Nk.apply(this,arguments)}function Ak(){return Ak=Qr($r().mark((function e(t,n){var r;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wg(t,"POST","/v1/accounts:signInWithPhoneNumber",yg(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw _g(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),Ak.apply(this,arguments)}var Pk=di({},"USER_NOT_FOUND","user-not-found");function Dk(){return Dk=Qr($r().mark((function e(t,n){var r;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",wg(t,"POST","/v1/accounts:signInWithPhoneNumber",yg(t,r),Pk));case 2:case"end":return e.stop()}}),e)}))),Dk.apply(this,arguments)}var Rk=function(e){ii(n,e);var t=si(n);function n(e){var r;return li(this,n),(r=t.call(this,"phone","phone")).params=e,r}return hi(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Nk.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Ak.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Dk.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(vk);var Lk=function(){function e(t){var n,r,i,a,o,u;li(this,e);var s=Ai(Pi(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);ng(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return hi(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Ai(Pi(e)).link,n=t?Ai(Pi(t)).deep_link_id:null,r=Ai(Pi(e)).deep_link_id;return(r?Ai(Pi(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(Zy){return null}}}]),e}();var jk=function(){function e(){li(this,e),this.providerId=e.PROVIDER_ID}return hi(e,null,[{key:"credential",value:function(e,t){return Sk._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Lk.parseLink(t);return ng(n,"argument-error"),Sk._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();jk.PROVIDER_ID="password",jk.EMAIL_PASSWORD_SIGN_IN_METHOD="password",jk.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Mk=function(){function e(t){li(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return hi(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Uk=function(e){ii(n,e);var t=si(n);function n(){var e;return li(this,n),(e=t.apply(this,arguments)).scopes=[],e}return hi(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return ci(this.scopes)}}]),n}(Mk),Fk=function(e){ii(n,e);var t=si(n);function n(){return li(this,n),t.call(this,"facebook.com")}return hi(n,null,[{key:"credential",value:function(e){return Ok._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Zy){return null}}}]),n}(Uk);Fk.FACEBOOK_SIGN_IN_METHOD="facebook.com",Fk.PROVIDER_ID="facebook.com";var Vk=function(e){ii(n,e);var t=si(n);function n(){var e;return li(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return hi(n,null,[{key:"credential",value:function(e,t){return Ok._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(Zy){return null}}}]),n}(Uk);Vk.GOOGLE_SIGN_IN_METHOD="google.com",Vk.PROVIDER_ID="google.com";var zk=function(e){ii(n,e);var t=si(n);function n(){return li(this,n),t.call(this,"github.com")}return hi(n,null,[{key:"credential",value:function(e){return Ok._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Zy){return null}}}]),n}(Uk);zk.GITHUB_SIGN_IN_METHOD="github.com",zk.PROVIDER_ID="github.com";var Bk=function(e){ii(n,e);var t=si(n);function n(){return li(this,n),t.call(this,"twitter.com")}return hi(n,null,[{key:"credential",value:function(e,t){return Ok._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(Zy){return null}}}]),n}(Uk);Bk.TWITTER_SIGN_IN_METHOD="twitter.com",Bk.PROVIDER_ID="twitter.com";var qk=function(){function e(t){li(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return hi(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Qr($r().mark((function t(n,r,i){var a,o,u,s,c=arguments;return $r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Qg._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=Wk(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Qr($r().mark((function t(n,r,i){var a;return $r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Wk(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Wk(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var Hk=function(e){ii(n,e);var t=si(n);function n(e,r,i,a){var o,u;return li(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(oi(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return hi(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Si);function Kk(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Hk._fromErrorAndOperation(e,n,t,r);throw n}))}function Gk(e,t){return Qk.apply(this,arguments)}function Qk(){return Qk=Qr($r().mark((function e(t,n){var r,i,a=arguments;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Rg,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",qk._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Qk.apply(this,arguments)}function Yk(e,t){return $k.apply(this,arguments)}function $k(){return $k=Qr($r().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Rg(t,Kk(i,a,n,t),r);case 6:return ng((o=e.sent).idToken,i,"internal-error"),ng(u=Dg(o.idToken),i,"internal-error"),s=u.sub,ng(t.uid===s,i,"user-mismatch"),e.abrupt("return",qk._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Xm(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),$k.apply(this,arguments)}function Xk(e,t){return Jk.apply(this,arguments)}function Jk(){return Jk=Qr($r().mark((function e(t,n){var r,i,a,o,u=arguments;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,Kk(t,i,n);case 4:return a=e.sent,e.next=7,qk._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Jk.apply(this,arguments)}function Zk(e,t){return mg(e,"POST","/v2/accounts/mfaEnrollment:start",yg(e,t))}new WeakMap;var eb="__sak",tb=function(){function e(t,n){li(this,e),this.storageRetriever=t,this.type=n}return hi(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(eb,"1"),this.storage.removeItem(eb),Promise.resolve(!0)):Promise.resolve(!1)}catch(Zy){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var nb=function(e){ii(n,e);var t=si(n);function n(){var e;return li(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=ki();return tk(e)||uk(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=lk(),e._shouldAllowMigration=!0,e}return hi(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);ck()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Qr($r().mark((function e(t,r){return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ni(ei(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Qr($r().mark((function e(t){var r;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ni(ei(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Qr($r().mark((function e(t){return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ni(ei(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(tb);nb.type="LOCAL";var rb=nb,ib=function(e){ii(n,e);var t=si(n);function n(){return li(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return hi(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(tb);ib.type="SESSION";var ab=ib;function ob(e){return Promise.all(e.map(function(){var e=Qr($r().mark((function e(t){var n;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var ub=function(){function e(t){li(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return hi(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Qr($r().mark((function e(t){var n,r,i,a,o,u,s,c;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=Qr($r().mark((function e(t){return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,ob(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function sb(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}ub.receivers=[];var cb=function(){function e(t){li(this,e),this.target=t,this.handlers=new Set}return hi(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Qr($r().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=sb("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function lb(){return window}function fb(){return"undefined"!==typeof lb().WorkerGlobalScope&&"function"===typeof lb().importScripts}function hb(){return db.apply(this,arguments)}function db(){return(db=Qr($r().mark((function e(){var t;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function pb(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var vb="firebaseLocalStorageDb",yb="firebaseLocalStorage",mb="fbase_key",gb=function(){function e(t){li(this,e),this.request=t}return hi(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function kb(e,t){return e.transaction([yb],t?"readwrite":"readonly").objectStore(yb)}function bb(){var e=indexedDB.deleteDatabase(vb);return new gb(e).toPromise()}function wb(){var e=indexedDB.open(vb,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(yb,{keyPath:mb})}catch(r){n(r)}})),e.addEventListener("success",Qr($r().mark((function n(){var r;return $r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(yb)){n.next=12;break}return r.close(),n.next=5,bb();case 5:return n.t0=t,n.next=8,wb();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Eb(e,t,n){return xb.apply(this,arguments)}function xb(){return xb=Qr($r().mark((function e(t,n,r){var i,a;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=kb(t,!0).put((di(i={},mb,n),di(i,"value",r),i)),e.abrupt("return",new gb(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),xb.apply(this,arguments)}function Sb(e,t){return _b.apply(this,arguments)}function _b(){return _b=Qr($r().mark((function e(t,n){var r,i;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=kb(t,!1).get(n),e.next=3,new gb(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),_b.apply(this,arguments)}function Tb(e,t){var n=kb(e,!0).delete(t);return new gb(n).toPromise()}var Ob=function(){function e(){li(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return hi(e,[{key:"_openDb",value:function(){var e=Qr($r().mark((function e(){return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,wb();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Qr($r().mark((function e(t){var n,r;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Qr($r().mark((function e(){return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fb()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Qr($r().mark((function e(){var t=this;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=ub._getInstance(fb()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Qr($r().mark((function e(n,r){var i;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Qr($r().mark((function e(t,n){return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Qr($r().mark((function e(){var t,n,r;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hb();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new cb(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Qr($r().mark((function e(t){return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&pb()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Qr($r().mark((function e(){var t;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,wb();case 5:return t=e.sent,e.next=8,Eb(t,eb,"1");case 8:return e.next=10,Tb(t,eb);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Qr($r().mark((function e(t){return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Qr($r().mark((function e(t,n){var r=this;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Qr($r().mark((function e(){return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Eb(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Qr($r().mark((function e(t){var n;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Sb(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Qr($r().mark((function e(t){var n=this;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Qr($r().mark((function e(){return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Tb(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Qr($r().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=kb(e,!1).getAll();return new gb(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=ri(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Qr($r().mark((function t(){return $r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Ob.type="LOCAL";var Ib=Ob;function Cb(e,t){return mg(e,"POST","/v2/accounts/mfaSignIn:start",yg(e,t))}function Nb(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Jm("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Ab(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}Ab("rcb"),new fg(3e4,6e4);var Pb="recaptcha";function Db(e,t,n){return Rb.apply(this,arguments)}function Rb(){return Rb=Qr($r().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,ng("string"===typeof a,t,"argument-error"),ng(r.type===Pb,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return ng("enroll"===u.type,t,"internal-error"),e.next=13,Zk(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return ng("signin"===u.type,t,"internal-error"),ng(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Cb(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Ik(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Rb.apply(this,arguments)}var Lb=function(){function e(t){li(this,e),this.providerId=e.PROVIDER_ID,this.auth=dk(t)}return hi(e,[{key:"verifyPhoneNumber",value:function(e,t){return Db(this.auth,e,Li(t))}}],[{key:"credential",value:function(e,t){return Rk._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Rk._fromTokenResponse(n,r):null}}]),e}();function jb(e,t){return t?og(t):(ng(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Lb.PROVIDER_ID="phone",Lb.PHONE_SIGN_IN_METHOD="phone";var Mb=function(e){ii(n,e);var t=si(n);function n(e){var r;return li(this,n),(r=t.call(this,"custom","custom")).params=e,r}return hi(n,[{key:"_getIdTokenResponse",value:function(e){return _k(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return _k(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return _k(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(vk);function Ub(e){return Xk(e.auth,new Mb(e),e.bypassAuthState)}function Fb(e){var t=e.auth,n=e.user;return ng(n,t,"internal-error"),Yk(n,new Mb(e),e.bypassAuthState)}function Vb(e){return zb.apply(this,arguments)}function zb(){return zb=Qr($r().mark((function e(t){var n,r;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,ng(r=t.user,n,"internal-error"),e.abrupt("return",Gk(r,new Mb(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),zb.apply(this,arguments)}var Bb=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];li(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return hi(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Qr($r().mark((function t(n,r){return $r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Qr($r().mark((function e(t){var n,r,i,a,o,u,s;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ub;case"linkViaPopup":case"linkViaRedirect":return Vb;case"reauthViaPopup":case"reauthViaRedirect":return Fb;default:Xm(this.auth,"internal-error")}}},{key:"resolve",value:function(e){ig(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){ig(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),qb=new fg(2e3,1e4);function Wb(){return Wb=Qr($r().mark((function e(t,n,r){var i,a,o;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=dk(t),eg(t,n,Mk),a=jb(i,r),o=new Hb(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Wb.apply(this,arguments)}var Hb=function(e){ii(n,e);var t=si(n);function n(e,r,i,a,o){var u;return li(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=oi(u),u}return hi(n,[{key:"executeNotNull",value:function(){var e=Qr($r().mark((function e(){var t;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return ng(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Qr($r().mark((function e(){var t,n=this;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ig(1===this.filter.length,"Popup operations only handle one event"),t=sb(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Jm(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Jm(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Jm(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,qb.get())}()}}]),n}(Bb);Hb.currentPopupAction=null;var Kb=new Map,Gb=function(e){ii(n,e);var t=si(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return li(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return hi(n,[{key:"execute",value:function(){var e=Qr($r().mark((function e(){var t,r;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Kb.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Qb(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,ni(ei(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Kb.set(this.auth._key(),t);case 21:return this.bypassAuthState||Kb.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Qr($r().mark((function e(t){var r;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",ni(ei(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",ni(ei(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Qr($r().mark((function e(){return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Bb);function Qb(e,t){return Yb.apply(this,arguments)}function Yb(){return Yb=Qr($r().mark((function e(t,n){var r,i,a;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Xb(n),i=$b(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),Yb.apply(this,arguments)}function $b(e){return og(e._redirectPersistence)}function Xb(e){return Xg("pendingRedirect",e.config.apiKey,e.name)}function Jb(e,t){return Zb.apply(this,arguments)}function Zb(){return Zb=Qr($r().mark((function e(t,n){var r,i,a,o,u,s=arguments;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=dk(t),a=jb(i,n),o=new Gb(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),Zb.apply(this,arguments)}var ew=function(){function e(t){li(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return hi(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nw(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!nw(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Jm(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(tw(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(tw(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function tw(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function nw(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function rw(e){return iw.apply(this,arguments)}function iw(){return iw=Qr($r().mark((function e(t){var n,r=arguments;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",mg(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),iw.apply(this,arguments)}var aw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ow=/^https?/;function uw(){return uw=Qr($r().mark((function e(t){var n,r,i,a,o;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,rw(t);case 4:n=e.sent,r=n.authorizedDomains,i=ri(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!sw(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Xm(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),uw.apply(this,arguments)}function sw(e){var t=sg(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!ow.test(r))return!1;if(aw.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var cw=new fg(3e4,6e4);function lw(){var e=lb().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=ci(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var fw=null;function hw(e){return fw=fw||function(e){return new Promise((function(t,n){var r,i,a;function o(){lw(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){lw(),n(Jm(e,"network-request-failed"))},timeout:cw.get()})}if(null===(i=null===(r=lb().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=lb().gapi)||void 0===a?void 0:a.load)){var u=Ab("iframefcb");return lb()[u]=function(){gapi.load?o():n(Jm(e,"network-request-failed"))},Nb("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw fw=null,e}))}(e),fw}var dw=new fg(5e3,15e3),pw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yw(e){var t=e.config;ng(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?hg(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:fa},i=vw.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Ni(r).slice(1))}function mw(e){return gw.apply(this,arguments)}function gw(){return gw=Qr($r().mark((function e(t){var n,r;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hw(t);case 2:return n=e.sent,ng(r=lb().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:yw(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pw,dontclear:!0},(function(e){return new Promise(function(){var n=Qr($r().mark((function n(r,i){var a,o,u;return $r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){lb().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Jm(t,"network-request-failed"),o=lb().setTimeout((function(){i(a)}),dw.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),gw.apply(this,arguments)}var kw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},bw="_blank",ww="http://localhost",Ew=function(){function e(t){li(this,e),this.window=t,this.associatedEvent=null}return hi(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function xw(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",c=Object.assign(Object.assign({},kw),{width:r.toString(),height:i.toString(),top:a,left:u}),l=ki().toLowerCase();n&&(s=nk(l)?bw:n),ek(l)&&(t=t||ww,c.scrollbars="yes");var f=Object.entries(c).reduce((function(e,t){var n=o(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(sk(l)&&"_self"!==s)return Sw(t||"",s),new Ew(null);var h=window.open(t||"",s,f);ng(h,e,"popup-blocked");try{h.focus()}catch(d){}return new Ew(h)}function Sw(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var _w="__/auth/handler",Tw="emulator/auth/handler";function Ow(e,t,n,r,i,a){ng(e.config.authDomain,e,"auth-domain-config-required"),ng(e.config.apiKey,e,"invalid-api-key");var u={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:fa,eventId:i};if(t instanceof Mk){t.setDefaultLanguage(e.languageCode),u.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(u.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,c=Object.entries(a||{});s<c.length;s++){var l=o(c[s],2),f=l[0],h=l[1];u[f]=h}}if(t instanceof Uk){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(u.scopes=d.join(","))}e.tenantId&&(u.tid=e.tenantId);for(var p=u,v=0,y=Object.keys(p);v<y.length;v++){var m=y[v];void 0===p[m]&&delete p[m]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(_w);return hg(t,Tw)}(e),"?").concat(Ni(p).slice(1))}var Iw="webStorageSupport",Cw=function(){function e(){li(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ab,this._completeRedirectFn=Jb}return hi(e,[{key:"_openPopup",value:function(){var e=Qr($r().mark((function e(t,n,r,i){var a,o;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ig(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Ow(t,n,r,sg(),i),e.abrupt("return",xw(t,o,sb()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Qr($r().mark((function e(t,n,r,i){return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Ow(t,n,r,sg(),i),lb().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(ig(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Qr($r().mark((function e(t){var n,r;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mw(t);case 2:return n=e.sent,r=new ew(t),n.register("authEvent",(function(e){return ng(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Iw,{type:Iw},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Xm(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return uw.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return lk()||tk()||uk()}}]),e}(),Nw=Cw,Aw=function(){function e(t){li(this,e),this.factorId=t}return hi(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return rg("unexpected MultiFactorSessionType")}}}]),e}(),Pw=function(e){ii(n,e);var t=si(n);function n(e){var r;return li(this,n),(r=t.call(this,"phone")).credential=e,r}return hi(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return mg(e,"POST","/v2/accounts/mfaEnrollment:finalize",yg(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return mg(e,"POST","/v2/accounts/mfaSignIn:finalize",yg(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Aw);(function(){function e(){li(this,e)}return hi(e,null,[{key:"assertion",value:function(e){return Pw._fromCredential(e)}}]),e}()).FACTOR_ID="phone";var Dw,Rw="@firebase/auth",Lw="0.19.9",jw=function(){function e(t){li(this,e),this.auth=t,this.internalListeners=new Map}return hi(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Qr($r().mark((function e(t){var n;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){ng(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();Dw="Browser",aa(new ji("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=r.options,a=i.apiKey,o=i.authDomain;return function(e){ng(a&&!a.includes(":"),"invalid-api-key",{appName:e.name}),ng(!(null===o||void 0===o?void 0:o.includes(":")),"argument-error",{appName:e.name});var t={apiKey:a,authDomain:o,clientPlatform:Dw,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fk(Dw)},r=new hk(e,t);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(og);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(r,n),r}(r)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),aa(new ji("auth-internal",(function(e){return function(e){return new jw(e)}(dk(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),da(Rw,Lw,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Dw)),da(Rw,Lw,"esm2017");var Mw=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:ea,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw ca.create("bad-app-name",{appName:String(i)});var a=na.get(i);if(a){if(Ii(e,a.options)&&Ii(r,a.config))return a;throw ca.create("duplicate-app",{appName:i})}var o,u=new zi(i),s=ri(ra.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new la(e,r,u);return na.set(i,l),l}({apiKey:"AIzaSyBUq-LG2qC5KTsDVSoTXxQdBkNuLjh6AHo",authDomain:"journal-7ec7a.firebaseapp.com",projectId:"journal-7ec7a",storageBucket:"journal-7ec7a.appspot.com",messagingSenderId:"548029416465",appId:"1:548029416465:web:c1e8b83be4b9b2fad09db0"}),Uw=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ha();return oa(e,"firestore").getImmediate()}(Mw),Fw=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ha(),t=oa(e,"auth");return t.isInitialized()?t.getImmediate():ug(e,{popupRedirectResolver:Nw,persistence:[Ib,rb,ab]})}(Mw);(function(e,t){return Li(e).setPersistence(t)})(Fw,ab).then((function(){return Vk(Fw)})).catch((function(e){e.code,e.message}));var Vw=new Vk,zw=n(184),Bw=function(){var e=o((0,t.useState)(""),2),n=e[0],r=e[1],i=Yy(Uw,"notes"),a=function(){var e=Qr($r().mark((function e(){return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.trim().length>0)){e.next=4;break}return e.next=3,zm(i,{stickyText:n,createdAt:qm()});case 3:r("");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,t.useEffect)((function(){var e=function(){var e=Qr($r().mark((function e(){return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fm(i);case 2:if(void 0!==e.sent.docs[0]){e.next=5;break}return e.abrupt("return");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,zw.jsxs)("div",{className:"sticky-note",children:[(0,zw.jsxs)("div",{className:"sticky-note-container",children:[(0,zw.jsx)("img",{className:"pinned-icon",src:"https://icons.iconarchive.com/icons/paomedia/small-n-flat/512/pin-icon.png",alt:""}),(0,zw.jsx)("textarea",{maxLength:200,rows:6,className:"input-sticky-note",placeholder:"Write a note",onChange:function(e){250-e.target.value.length>=0&&r(e.target.value)},value:n})]}),(0,zw.jsx)("button",{className:"save-sticky-btn",onClick:a,children:"Save"})]})},qw=function(){var e=o((0,t.useState)(""),2),n=e[0],r=e[1],i=o((0,t.useState)(""),2),a=i[0],u=i[1],s=Yy(Uw,"entry"),c=function(){var e=Qr($r().mark((function e(){return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a.trim().length>0)){e.next=3;break}return e.next=3,zm(s,{date:l(new Date),title:n,text:a,id:Fw.currentUser.uid,createdAt:qm()});case 3:u(""),r("");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,t.useEffect)((function(){var e=function(){var e=Qr($r().mark((function e(){return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fm(s);case 2:if(void 0!==e.sent.docs[0]){e.next=5;break}return e.abrupt("return");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var l=function(e){var t=e.getDate(),n=["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()],r=e.getFullYear();return" ".concat(n,"  ").concat(t,", ").concat(r)};return(0,zw.jsxs)("div",{className:"new-entry",children:[(0,zw.jsx)("div",{className:"date",children:l(new Date)}),(0,zw.jsxs)("div",{className:"input-container",children:[(0,zw.jsx)("input",{className:"entry-title",placeholder:"Title...",maxLength:90,required:!0,value:n,onChange:function(e){r(e.target.value)}}),(0,zw.jsx)("textarea",{className:"entry-text",placeholder:"Write here...",value:a,onChange:function(e){u(e.target.value)}}),(0,zw.jsx)("button",{className:"save-entry-btn",onClick:c,children:"Save"})]})]})},Ww=function(e){var t=e.signUserOut,n=(e.isAuth,_());return(0,zw.jsxs)("div",{className:"main-bar",children:[(0,zw.jsx)("button",{className:"main-btn",onClick:function(){return n("/entries")},children:"Entries"}),(0,zw.jsx)("button",{className:"main-btn",onClick:function(){return n("/notes")},children:"Notes"}),(0,zw.jsx)("button",{className:"main-btn",onClick:function(){return n("/tasks")},children:"Tasks"}),localStorage.getItem("isAuth")?(0,zw.jsx)("button",{className:"log-out",onClick:t,children:"Sign Out"}):"test"]})},Hw=function(e){var n=e.setShowCreateTask,r=e.pickDate,i=o((0,t.useState)(""),2),a=i[0],u=i[1],s=o((0,t.useState)(""),2),c=s[0],l=s[1],f=Yy(Uw,"tasks"),h=function(){var e=Qr($r().mark((function e(){return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a.trim().length>0)){e.next=3;break}return e.next=3,zm(f,{task:a,priority:c,createdAt:r});case 3:u(""),n(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,t.useEffect)((function(){var e=function(){var e=Qr($r().mark((function e(){return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fm(f);case 2:if(void 0!==e.sent.docs[0]){e.next=5;break}return e.abrupt("return");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,zw.jsxs)("div",{className:"create-task",children:[(0,zw.jsxs)("div",{className:"top-create-task",children:[(0,zw.jsx)("h2",{children:"Create task"}),(0,zw.jsx)("img",{className:"close-create-task",onClick:function(){return n(!1)},src:"https://freepikpsd.com/file/2019/10/close-button-png-icon-6-Transparent-Images-Free.png",alt:""})]}),(0,zw.jsxs)("div",{className:"task-input-container",children:[(0,zw.jsx)("input",{className:"task-input",maxLength:120,value:a,onChange:function(e){u(e.target.value)}}),(0,zw.jsx)("h2",{children:"Priority"}),(0,zw.jsxs)("div",{className:"priority-selection",onChange:function(e){var t;l(null===(t=document.querySelector('input[name="priority"]:checked'))||void 0===t?void 0:t.value)},children:[(0,zw.jsxs)("div",{className:"checkbox-priority",children:[(0,zw.jsx)("input",{type:"radio",id:"high",name:"priority",value:"high"}),(0,zw.jsx)("label",{htmlFor:"high",children:"High"})]}),(0,zw.jsxs)("div",{className:"checkbox-priority",children:[(0,zw.jsx)("input",{type:"radio",id:"medium",name:"priority",value:"medium"}),(0,zw.jsx)("label",{htmlFor:"medium",children:"Medium"})]}),(0,zw.jsxs)("div",{className:"checkbox-priority",children:[(0,zw.jsx)("input",{type:"radio",id:"low",name:"priority",value:"low"}),(0,zw.jsx)("label",{htmlFor:"low",children:"Low"})]})]})]}),(0,zw.jsx)("button",{className:"save-task-btn",onClick:function(){return h()},children:"Save"})]})},Kw=function(e){var n=e.signUserOut,r=e.isAuth,i=o((0,t.useState)(!1),2),a=i[0],u=i[1],s=o((0,t.useState)(new Date),2),c=s[0],l=s[1];return(0,zw.jsxs)("div",{className:"home",children:[(0,zw.jsxs)("div",{className:"side-home",children:[(0,zw.jsx)(Kr,{onClickDay:function(){return u(!0)},value:c,onChange:function(e){l(e)}}),(0,zw.jsx)(Bw,{})]}),!0===a?(0,zw.jsx)(Hw,{setShowCreateTask:u,pickDate:c}):(0,zw.jsx)(zw.Fragment,{}),(0,zw.jsxs)("div",{className:"main",children:[(0,zw.jsx)(Ww,{signUserOut:n,isAuth:r}),(0,zw.jsx)(qw,{})]})]})},Gw=function(e){var n=e.setIsAuth,r=_();(0,t.useRef)();return(0,zw.jsxs)("div",{className:"welcome-page",children:[(0,zw.jsx)("h1",{id:"app-title",children:"Journal"}),(0,zw.jsxs)("div",{className:"welcome-container",children:[(0,zw.jsx)("h1",{className:"welcome-title",children:"WELCOME"}),(0,zw.jsx)("p",{className:"welcome-text",children:"Let us help you remember things"}),(0,zw.jsx)("button",{onClick:function(){(function(e,t,n){return Wb.apply(this,arguments)})(Fw,Vw).then((function(e){localStorage.setItem("isAuth",!0),n(!0),r("/home")})).catch((function(e){console.log(e)}))},className:"login",children:"Log in with Google"}),(0,zw.jsxs)("div",{className:"info",children:[(0,zw.jsx)("p",{className:"info-title",children:"About me"}),(0,zw.jsx)("a",{href:"https://www.linkedin.com/in/jazm%C3%ADn-del-puerto-61397222a/",target:"_blank",rel:"noopener noreferrer",children:(0,zw.jsx)("img",{className:"icon",src:"https://cdn-icons-png.flaticon.com/512/174/174857.png",alt:""})}),(0,zw.jsx)("a",{href:"https://github.com/jazmindelp",target:"_blank",rel:"noopener noreferrer",children:(0,zw.jsx)("img",{className:"icon",src:"https://cdn-icons-png.flaticon.com/512/25/25231.png",alt:""})})]})]})]})};function Qw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qw(Object(n),!0).forEach((function(t){di(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $w=hE(),Xw=function(e){return sE(e,$w)},Jw=hE();Xw.write=function(e){return sE(e,Jw)};var Zw=hE();Xw.onStart=function(e){return sE(e,Zw)};var eE=hE();Xw.onFrame=function(e){return sE(e,eE)};var tE=hE();Xw.onFinish=function(e){return sE(e,tE)};var nE=[];Xw.setTimeout=function(e,t){var n=Xw.now()+t,r={time:n,handler:e,cancel:function e(){var t=nE.findIndex((function(t){return t.cancel==e}));~t&&nE.splice(t,1),oE-=~t?1:0}};return nE.splice(rE(n),0,r),oE+=1,cE(),r};var rE=function(e){return~(~nE.findIndex((function(t){return t.time>e}))||~nE.length)};Xw.cancel=function(e){Zw.delete(e),eE.delete(e),$w.delete(e),Jw.delete(e),tE.delete(e)},Xw.sync=function(e){uE=!0,Xw.batchedUpdates(e),uE=!1},Xw.throttle=function(e){var t;function n(){try{e.apply(void 0,ci(t))}finally{t=null}}function r(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];t=r,Xw.onStart(n)}return r.handler=e,r.cancel=function(){Zw.delete(n),t=null},r};var iE="undefined"!=typeof window?window.requestAnimationFrame:function(){};Xw.use=function(e){return iE=e},Xw.now="undefined"!=typeof performance?function(){return performance.now()}:Date.now,Xw.batchedUpdates=function(e){return e()},Xw.catch=console.error,Xw.frameLoop="always",Xw.advance=function(){"demand"!==Xw.frameLoop?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):fE()};var aE=-1,oE=0,uE=!1;function sE(e,t){uE?(t.delete(e),e(0)):(t.add(e),cE())}function cE(){aE<0&&(aE=0,"demand"!==Xw.frameLoop&&iE(lE))}function lE(){~aE&&(iE(lE),Xw.batchedUpdates(fE))}function fE(){var e=aE;aE=Xw.now();var t=rE(aE);t&&(dE(nE.splice(0,t),(function(e){return e.handler()})),oE-=t),Zw.flush(),$w.flush(e?Math.min(64,aE-e):16.667),eE.flush(),Jw.flush(),tE.flush(),oE||(aE=-1)}function hE(){var e=new Set,t=e;return{add:function(n){oE+=t!=e||e.has(n)?0:1,e.add(n)},delete:function(n){return oE-=t==e&&e.has(n)?1:0,e.delete(n)},flush:function(n){t.size&&(e=new Set,oE-=t.size,dE(t,(function(t){return t(n)&&e.add(t)})),oE+=e.size,t=e)}}}function dE(e,t){e.forEach((function(e){try{t(e)}catch(n){Xw.catch(n)}}))}var pE={arr:Array.isArray,obj:function(e){return!!e&&"Object"===e.constructor.name},fun:function(e){return"function"===typeof e},str:function(e){return"string"===typeof e},num:function(e){return"number"===typeof e},und:function(e){return void 0===e}};var vE=function(e,t){return e.forEach(t)};function yE(e,t,n){if(pE.arr(e))for(var r=0;r<e.length;r++)t.call(n,e[r],"".concat(r));else for(var i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i)}var mE=function(e){return pE.und(e)?[]:pE.arr(e)?e:[e]};var gE,kE,bE=function(){return"undefined"===typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)},wE=null,EE=!1,xE=function(){},SE=Object.freeze({__proto__:null,get createStringInterpolator(){return gE},get to(){return kE},get colors(){return wE},get skipAnimation(){return EE},get willAdvance(){return xE},assign:function(e){e.to&&(kE=e.to),e.now&&(Xw.now=e.now),void 0!==e.colors&&(wE=e.colors),null!=e.skipAnimation&&(EE=e.skipAnimation),e.createStringInterpolator&&(gE=e.createStringInterpolator),e.requestAnimationFrame&&Xw.use(e.requestAnimationFrame),e.batchedUpdates&&(Xw.batchedUpdates=e.batchedUpdates),e.willAdvance&&(xE=e.willAdvance),e.frameLoop&&(Xw.frameLoop=e.frameLoop)}}),_E=new Set,TE=[],OE=[],IE=0,CE={get idle(){return!_E.size&&!TE.length},start:function(e){IE>e.priority?(_E.add(e),Xw.onStart(NE)):(AE(e),Xw(DE))},advance:DE,sort:function(e){if(IE)Xw.onFrame((function(){return CE.sort(e)}));else{var t=TE.indexOf(e);~t&&(TE.splice(t,1),PE(e))}},clear:function(){TE=[],_E.clear()}};function NE(){_E.forEach(AE),_E.clear(),Xw(DE)}function AE(e){TE.includes(e)||PE(e)}function PE(e){TE.splice(function(e,t){var n=e.findIndex(t);return n<0?e.length:n}(TE,(function(t){return t.priority>e.priority})),0,e)}function DE(e){for(var t=OE,n=0;n<TE.length;n++){var r=TE[n];IE=r.priority,r.idle||(xE(r),r.advance(e),r.idle||t.push(r))}return IE=0,(OE=TE).length=0,(TE=t).length>0}var RE="[-+]?\\d*\\.?\\d+",LE=RE+"%";function jE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var ME=new RegExp("rgb"+jE(RE,RE,RE)),UE=new RegExp("rgba"+jE(RE,RE,RE,RE)),FE=new RegExp("hsl"+jE(RE,LE,LE)),VE=new RegExp("hsla"+jE(RE,LE,LE,RE)),zE=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,BE=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,qE=/^#([0-9a-fA-F]{6})$/,WE=/^#([0-9a-fA-F]{8})$/;function HE(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function KE(e,t,n){var r=n<.5?n*(1+t):n+t-n*t,i=2*n-r,a=HE(i,r,e+1/3),o=HE(i,r,e),u=HE(i,r,e-1/3);return Math.round(255*a)<<24|Math.round(255*o)<<16|Math.round(255*u)<<8}function GE(e){var t=parseInt(e,10);return t<0?0:t>255?255:t}function QE(e){return(parseFloat(e)%360+360)%360/360}function YE(e){var t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function $E(e){var t=parseFloat(e);return t<0?0:t>100?1:t/100}function XE(e){var t=function(e){var t;return"number"===typeof e?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=qE.exec(e))?parseInt(t[1]+"ff",16)>>>0:wE&&void 0!==wE[e]?wE[e]:(t=ME.exec(e))?(GE(t[1])<<24|GE(t[2])<<16|GE(t[3])<<8|255)>>>0:(t=UE.exec(e))?(GE(t[1])<<24|GE(t[2])<<16|GE(t[3])<<8|YE(t[4]))>>>0:(t=zE.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=WE.exec(e))?parseInt(t[1],16)>>>0:(t=BE.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=FE.exec(e))?(255|KE(QE(t[1]),$E(t[2]),$E(t[3])))>>>0:(t=VE.exec(e))?(KE(QE(t[1]),$E(t[2]),$E(t[3]))|YE(t[4]))>>>0:null}(e);if(null===t)return e;var n=(16711680&(t=t||0))>>>16,r=(65280&t)>>>8,i=(255&t)/255;return"rgba(".concat((4278190080&t)>>>24,", ").concat(n,", ").concat(r,", ").concat(i,")")}var JE=function e(t,n,r){if(pE.fun(t))return t;if(pE.arr(t))return e({range:t,output:n,extrapolate:r});if(pE.str(t.output[0]))return gE(t);var i=t,a=i.output,o=i.range||[0,1],u=i.extrapolateLeft||i.extrapolate||"extend",s=i.extrapolateRight||i.extrapolate||"extend",c=i.easing||function(e){return e};return function(e){var t=function(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}(e,o);return function(e,t,n,r,i,a,o,u,s){var c=s?s(e):e;if(c<t){if("identity"===o)return c;"clamp"===o&&(c=t)}if(c>n){if("identity"===u)return c;"clamp"===u&&(c=n)}if(r===i)return r;if(t===n)return e<=t?r:i;t===-1/0?c=-c:n===1/0?c-=t:c=(c-t)/(n-t);c=a(c),r===-1/0?c=-c:i===1/0?c+=r:c=c*(i-r)+r;return c}(e,o[t],o[t+1],a[t],a[t+1],c,u,s,i.map)}};function ZE(){return ZE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ZE.apply(this,arguments)}var ex=Symbol.for("FluidValue.get"),tx=Symbol.for("FluidValue.observers"),nx=function(e){return Boolean(e&&e[ex])},rx=function(e){return e&&e[ex]?e[ex]():e};function ix(e,t){var n=e[tx];n&&n.forEach((function(e){!function(e,t){e.eventObserved?e.eventObserved(t):e(t)}(e,t)}))}var ax=hi((function e(t){if(li(this,e),this[ex]=void 0,this[tx]=void 0,!t&&!(t=this.get))throw Error("Unknown getter");ox(this,t)})),ox=function(e,t){return lx(e,ex,t)};function ux(e,t){if(e[ex]){var n=e[tx];n||lx(e,tx,n=new Set),n.has(t)||(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function sx(e,t){var n=e[tx];if(n&&n.has(t)){var r=n.size-1;r?n.delete(t):e[tx]=null,e.observerRemoved&&e.observerRemoved(r,t)}}var cx,lx=function(e,t,n){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})},fx=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,hx=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,dx=new RegExp("(".concat(fx.source,")(%|[a-z]+)"),"i"),px=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,vx=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,yx=function e(t){var n=o(mx(t),2),r=n[0],i=n[1];if(!r||bE())return t;var a=window.getComputedStyle(document.documentElement).getPropertyValue(r);if(a)return a.trim();if(i&&i.startsWith("--")){var u=window.getComputedStyle(document.documentElement).getPropertyValue(i);return u||t}return i&&vx.test(i)?e(i):i||t},mx=function(e){var t=vx.exec(e);if(!t)return[,];var n=o(t,3);return[n[1],n[2]]},gx=function(e,t,n,r,i){return"rgba(".concat(Math.round(t),", ").concat(Math.round(n),", ").concat(Math.round(r),", ").concat(i,")")},kx=function(e){cx||(cx=wE?new RegExp("(".concat(Object.keys(wE).join("|"),")(?!\\w)"),"g"):/^\b$/);var t=e.output.map((function(e){return rx(e).replace(vx,yx).replace(hx,XE).replace(cx,XE)})),n=t.map((function(e){return e.match(fx).map(Number)})),r=n[0].map((function(e,t){return n.map((function(e){if(!(t in e))throw Error('The arity of each "output" value must be equal');return e[t]}))})).map((function(t){return JE(ZE({},e,{output:t}))}));return function(e){var n,i=!dx.test(t[0])&&(null==(n=t.find((function(e){return dx.test(e)})))?void 0:n.replace(fx,"")),a=0;return t[0].replace(fx,(function(){return"".concat(r[a++](e)).concat(i||"")})).replace(px,gx)}},bx="react-spring: ",wx=function(e){var t=e,n=!1;if("function"!=typeof t)throw new TypeError("".concat(bx,"once requires a function parameter"));return function(){n||(t.apply(void 0,arguments),n=!0)}},Ex=wx(console.warn);function xx(){Ex("".concat(bx,'The "interpolate" function is deprecated in v9 (use "to" instead)'))}wx(console.warn);function Sx(e){return pE.str(e)&&("#"==e[0]||/\d/.test(e)||!bE()&&vx.test(e)||e in(wE||{}))}var _x=function(e){return(0,t.useEffect)(e,Tx)},Tx=[];function Ox(){var e={current:!0,unmount:function(){return function(){e.current=!1}}};return e}var Ix="undefined"!==typeof window&&window.document&&window.document.createElement?t.useLayoutEffect:t.useEffect,Cx=Symbol.for("Animated:node"),Nx=function(e){return e&&e[Cx]},Ax=function(e,t){return n=e,r=Cx,i=t,Object.defineProperty(n,r,{value:i,writable:!0,configurable:!0});var n,r,i},Px=function(e){return e&&e[Cx]&&e[Cx].getPayload()},Dx=function(){function e(){li(this,e),this.payload=void 0,Ax(this,this)}return hi(e,[{key:"getPayload",value:function(){return this.payload||[]}}]),e}(),Rx=function(e){ii(n,e);var t=si(n);function n(e){var r;return li(this,n),(r=t.call(this)).done=!0,r.elapsedTime=void 0,r.lastPosition=void 0,r.lastVelocity=void 0,r.v0=void 0,r.durationProgress=0,r._value=e,pE.num(r._value)&&(r.lastPosition=r._value),r}return hi(n,[{key:"getPayload",value:function(){return[this]}},{key:"getValue",value:function(){return this._value}},{key:"setValue",value:function(e,t){return pE.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value!==e&&(this._value=e,!0)}},{key:"reset",value:function(){var e=this.done;this.done=!1,pE.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}}],[{key:"create",value:function(e){return new n(e)}}]),n}(Dx),Lx=function(e){ii(n,e);var t=si(n);function n(e){var r;return li(this,n),(r=t.call(this,0))._string=null,r._toString=void 0,r._toString=JE({output:[e,e]}),r}return hi(n,[{key:"getValue",value:function(){var e=this._string;return null==e?this._string=this._toString(this._value):e}},{key:"setValue",value:function(e){if(pE.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else{if(!ni(ei(n.prototype),"setValue",this).call(this,e))return!1;this._string=null}return!0}},{key:"reset",value:function(e){e&&(this._toString=JE({output:[this.getValue(),e]})),this._value=0,ni(ei(n.prototype),"reset",this).call(this)}}],[{key:"create",value:function(e){return new n(e)}}]),n}(Rx),jx={dependencies:null},Mx=function(e){ii(n,e);var t=si(n);function n(e){var r;return li(this,n),(r=t.call(this)).source=e,r.setValue(e),r}return hi(n,[{key:"getValue",value:function(e){var t={};return yE(this.source,(function(n,r){var i;(i=n)&&i[Cx]===i?t[r]=n.getValue(e):nx(n)?t[r]=rx(n):e||(t[r]=n)})),t}},{key:"setValue",value:function(e){this.source=e,this.payload=this._makePayload(e)}},{key:"reset",value:function(){this.payload&&vE(this.payload,(function(e){return e.reset()}))}},{key:"_makePayload",value:function(e){if(e){var t=new Set;return yE(e,this._addToPayload,t),Array.from(t)}}},{key:"_addToPayload",value:function(e){var t=this;jx.dependencies&&nx(e)&&jx.dependencies.add(e);var n=Px(e);n&&vE(n,(function(e){return t.add(e)}))}}]),n}(Dx),Ux=function(e){ii(n,e);var t=si(n);function n(e){return li(this,n),t.call(this,e)}return hi(n,[{key:"getValue",value:function(){return this.source.map((function(e){return e.getValue()}))}},{key:"setValue",value:function(e){var t=this.getPayload();return e.length==t.length?t.map((function(t,n){return t.setValue(e[n])})).some(Boolean):(ni(ei(n.prototype),"setValue",this).call(this,e.map(Fx)),!0)}}],[{key:"create",value:function(e){return new n(e)}}]),n}(Mx);function Fx(e){return(Sx(e)?Lx:Rx).create(e)}function Vx(){return Vx=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vx.apply(this,arguments)}var zx=function(e,n){var r=!pE.fun(e)||e.prototype&&e.prototype.isReactComponent;return(0,t.forwardRef)((function(i,a){var u=(0,t.useRef)(null),s=r&&(0,t.useCallback)((function(e){u.current=function(e,t){e&&(pE.fun(e)?e(t):e.current=t);return t}(a,e)}),[a]),c=function(e,t){var n=new Set;jx.dependencies=n,e.style&&(e=Vx({},e,{style:t.createAnimatedStyle(e.style)}));return e=new Mx(e),jx.dependencies=null,[e,n]}(i,n),l=o(c,2),f=l[0],h=l[1],d=function(){var e=(0,t.useState)()[1],n=(0,t.useState)(Ox)[0];return _x(n.unmount),function(){n.current&&e({})}}(),p=function(){var e=u.current;r&&!e||!1===(!!e&&n.applyAnimatedValues(e,f.getValue(!0)))&&d()},v=new Bx(p,h),y=(0,t.useRef)();Ix((function(){var e=y.current;y.current=v,vE(h,(function(e){return ux(e,v)})),e&&(vE(e.deps,(function(t){return sx(t,e)})),Xw.cancel(e.update))})),(0,t.useEffect)(p,[]),_x((function(){return function(){var e=y.current;vE(e.deps,(function(t){return sx(t,e)}))}}));var m=n.getComponentProps(f.getValue());return t.createElement(e,Vx({},m,{ref:s}))}))},Bx=function(){function e(t,n){li(this,e),this.update=t,this.deps=n}return hi(e,[{key:"eventObserved",value:function(e){"change"==e.type&&Xw.write(this.update)}}]),e}();var qx=Symbol.for("AnimatedComponent"),Wx=function(e){return pE.str(e)?e:e&&pE.str(e.displayName)?e.displayName:pE.fun(e)&&e.name||null};function Hx(){return Hx=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hx.apply(this,arguments)}var Kx={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},Gx=1.70158,Qx=1.525*Gx,Yx=Gx+1,$x=2*Math.PI/3,Xx=2*Math.PI/4.5,Jx=function(e){var t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},Zx={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return 1-(1-e)*(1-e)},easeInOutQuad:function(e){return e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1-Math.pow(1-e,3)},easeInOutCubic:function(e){return e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1-Math.pow(1-e,4)},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1-Math.pow(1-e,5)},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2},easeInSine:function(e){return 1-Math.cos(e*Math.PI/2)},easeOutSine:function(e){return Math.sin(e*Math.PI/2)},easeInOutSine:function(e){return-(Math.cos(Math.PI*e)-1)/2},easeInExpo:function(e){return 0===e?0:Math.pow(2,10*e-10)},easeOutExpo:function(e){return 1===e?1:1-Math.pow(2,-10*e)},easeInOutExpo:function(e){return 0===e?0:1===e?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2},easeInCirc:function(e){return 1-Math.sqrt(1-Math.pow(e,2))},easeOutCirc:function(e){return Math.sqrt(1-Math.pow(e-1,2))},easeInOutCirc:function(e){return e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2},easeInBack:function(e){return Yx*e*e*e-Gx*e*e},easeOutBack:function(e){return 1+Yx*Math.pow(e-1,3)+Gx*Math.pow(e-1,2)},easeInOutBack:function(e){return e<.5?Math.pow(2*e,2)*(7.189819*e-Qx)/2:(Math.pow(2*e-2,2)*((Qx+1)*(2*e-2)+Qx)+2)/2},easeInElastic:function(e){return 0===e?0:1===e?1:-Math.pow(2,10*e-10)*Math.sin((10*e-10.75)*$x)},easeOutElastic:function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin((10*e-.75)*$x)+1},easeInOutElastic:function(e){return 0===e?0:1===e?1:e<.5?-Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*Xx)/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*Xx)/2+1},easeInBounce:function(e){return 1-Jx(1-e)},easeOutBounce:Jx,easeInOutBounce:function(e){return e<.5?(1-Jx(1-2*e))/2:(1+Jx(2*e-1))/2}};Hx({},Kx.default,{mass:1,damping:1,easing:Zx.linear,clamp:!1});Error,Error;var eS=function(e){return e instanceof nS},tS=1,nS=function(e){ii(n,e);var t=si(n);function n(){var e;li(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).id=tS++,e.key=void 0,e._priority=0,e}return hi(n,[{key:"priority",get:function(){return this._priority},set:function(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}},{key:"get",value:function(){var e=Nx(this);return e&&e.getValue()}},{key:"to",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return SE.to(this,t)}},{key:"interpolate",value:function(){xx();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return SE.to(this,t)}},{key:"toJSON",value:function(){return this.get()}},{key:"observerAdded",value:function(e){1==e&&this._attach()}},{key:"observerRemoved",value:function(e){0==e&&this._detach()}},{key:"_attach",value:function(){}},{key:"_detach",value:function(){}},{key:"_onChange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];ix(this,{type:"change",parent:this,value:e,idle:t})}},{key:"_onPriorityChange",value:function(e){this.idle||CE.sort(this),ix(this,{type:"priority",parent:this,priority:e})}}]),n}(ax);Symbol.for("SpringPhase");function rS(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var iS,aS,oS=["children"],uS=function(e){var n=e.children,r=rS(e,oS),i=(0,t.useContext)(sS),a=r.pause||!!i.pause,u=r.immediate||!!i.immediate;r=function(e,n){var r=o((0,t.useState)((function(){return{inputs:n,result:e()}})),1)[0],i=(0,t.useRef)(),a=i.current,u=a;return u?Boolean(n&&u.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(n,u.inputs))||(u={inputs:n,result:e()}):u=r,(0,t.useEffect)((function(){i.current=u,a==r&&(r.inputs=r.result=void 0)}),[u]),u.result}((function(){return{pause:a,immediate:u}}),[a,u]);var s=sS.Provider;return t.createElement(s,{value:r},n)},sS=(iS=uS,aS={},Object.assign(iS,t.createContext(aS)),iS.Provider._context=iS,iS.Consumer._context=iS,iS);uS.Provider=sS.Provider,uS.Consumer=sS.Consumer;var cS;!function(e){e.MOUNT="mount",e.ENTER="enter",e.UPDATE="update",e.LEAVE="leave"}(cS||(cS={}));var lS=function(e){ii(n,e);var t=si(n);function n(e,r){var i;li(this,n),(i=t.call(this)).key=void 0,i.idle=!0,i.calc=void 0,i._active=new Set,i.source=e,i.calc=JE.apply(void 0,ci(r));var a=i._get(),o=function(e){var t=Nx(e);return t?t.constructor:pE.arr(e)?Ux:Sx(e)?Lx:Rx}(a);return Ax(oi(i),o.create(a)),i}return hi(n,[{key:"advance",value:function(e){var t=this._get();(function(e,t){if(pE.arr(e)){if(!pE.arr(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t})(t,this.get())||(Nx(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&hS(this._active)&&dS(this)}},{key:"_get",value:function(){var e=pE.arr(this.source)?this.source.map(rx):mE(rx(this.source));return this.calc.apply(this,ci(e))}},{key:"_start",value:function(){var e=this;this.idle&&!hS(this._active)&&(this.idle=!1,vE(Px(this),(function(e){e.done=!1})),SE.skipAnimation?(Xw.batchedUpdates((function(){return e.advance()})),dS(this)):CE.start(this))}},{key:"_attach",value:function(){var e=this,t=1;vE(mE(this.source),(function(n){nx(n)&&ux(n,e),eS(n)&&(n.idle||e._active.add(n),t=Math.max(t,n.priority+1))})),this.priority=t,this._start()}},{key:"_detach",value:function(){var e=this;vE(mE(this.source),(function(t){nx(t)&&sx(t,e)})),this._active.clear(),dS(this)}},{key:"eventObserved",value:function(e){"change"==e.type?e.idle?this.advance():(this._active.add(e.parent),this._start()):"idle"==e.type?this._active.delete(e.parent):"priority"==e.type&&(this.priority=mE(this.source).reduce((function(e,t){return Math.max(e,(eS(t)?t.priority:0)+1)}),0))}}]),n}(nS);function fS(e){return!1!==e.idle}function hS(e){return!e.size||Array.from(e).every(fS)}function dS(e){e.idle||(e.idle=!0,vE(Px(e),(function(e){e.done=!0})),ix(e,{type:"idle",parent:e}))}SE.assign({createStringInterpolator:kx,to:function(e,t){return new lS(e,t)}});CE.advance;function pS(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var vS=["style","children","scrollTop","scrollLeft"],yS=/^--/;function mS(e,t){return null==t||"boolean"===typeof t||""===t?"":"number"!==typeof t||0===t||yS.test(e)||kS.hasOwnProperty(e)&&kS[e]?(""+t).trim():t+"px"}var gS={};var kS={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bS=["Webkit","Ms","Moz","O"];kS=Object.keys(kS).reduce((function(e,t){return bS.forEach((function(n){return e[function(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}(n,t)]=e[t]})),e}),kS);var wS=["x","y","z"],ES=/^(matrix|translate|scale|rotate|skew)/,xS=/^(translate)/,SS=/^(rotate|skew)/,_S=function(e,t){return pE.num(e)&&0!==e?e+t:e},TS=function e(t,n){return pE.arr(t)?t.every((function(t){return e(t,n)})):pE.num(t)?t===n:parseFloat(t)===n},OS=function(e){ii(n,e);var t=si(n);function n(e){li(this,n);var r=e.x,i=e.y,a=e.z,u=pS(e,wS),s=[],c=[];return(r||i||a)&&(s.push([r||0,i||0,a||0]),c.push((function(e){return["translate3d(".concat(e.map((function(e){return _S(e,"px")})).join(","),")"),TS(e,0)]}))),yE(u,(function(e,t){if("transform"===t)s.push([e||""]),c.push((function(e){return[e,""===e]}));else if(ES.test(t)){if(delete u[t],pE.und(e))return;var n=xS.test(t)?"px":SS.test(t)?"deg":"";s.push(mE(e)),c.push("rotate3d"===t?function(e){var t=o(e,4),r=t[0],i=t[1],a=t[2],u=t[3];return["rotate3d(".concat(r,",").concat(i,",").concat(a,",").concat(_S(u,n),")"),TS(u,0)]}:function(e){return["".concat(t,"(").concat(e.map((function(e){return _S(e,n)})).join(","),")"),TS(e,t.startsWith("scale")?1:0)]})}})),s.length&&(u.transform=new IS(s,c)),t.call(this,u)}return hi(n)}(Mx),IS=function(e){ii(n,e);var t=si(n);function n(e,r){var i;return li(this,n),(i=t.call(this))._value=null,i.inputs=e,i.transforms=r,i}return hi(n,[{key:"get",value:function(){return this._value||(this._value=this._get())}},{key:"_get",value:function(){var e=this,t="",n=!0;return vE(this.inputs,(function(r,i){var a=rx(r[0]),u=o(e.transforms[i](pE.arr(a)?a:r.map(rx)),2),s=u[0],c=u[1];t+=" "+s,n=n&&c})),n?"none":t}},{key:"observerAdded",value:function(e){var t=this;1==e&&vE(this.inputs,(function(e){return vE(e,(function(e){return nx(e)&&ux(e,t)}))}))}},{key:"observerRemoved",value:function(e){var t=this;0==e&&vE(this.inputs,(function(e){return vE(e,(function(e){return nx(e)&&sx(e,t)}))}))}},{key:"eventObserved",value:function(e){"change"==e.type&&(this._value=null),ix(this,e)}}]),n}(ax),CS=["scrollTop","scrollLeft"];SE.assign({batchedUpdates:r.unstable_batchedUpdates,createStringInterpolator:kx,colors:{transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199}});var NS=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.applyAnimatedValues,r=void 0===n?function(){return!1}:n,i=t.createAnimatedStyle,a=void 0===i?function(e){return new Mx(e)}:i,o=t.getComponentProps,u=void 0===o?function(e){return e}:o,s={applyAnimatedValues:r,createAnimatedStyle:a,getComponentProps:u},c=function e(t){var n=Wx(t)||"Anonymous";return(t=pE.str(t)?e[t]||(e[t]=zx(t,s)):t[qx]||(t[qx]=zx(t,s))).displayName="Animated(".concat(n,")"),t};return yE(e,(function(t,n){pE.arr(e)&&(n=Wx(t)),c[n]=c(t)})),{animated:c}}(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],{applyAnimatedValues:function(e,t){if(!e.nodeType||!e.setAttribute)return!1;var n="filter"===e.nodeName||e.parentNode&&"filter"===e.parentNode.nodeName,r=t,i=r.style,a=r.children,o=r.scrollTop,u=r.scrollLeft,s=pS(r,vS),c=Object.values(s),l=Object.keys(s).map((function(t){return n||e.hasAttribute(t)?t:gS[t]||(gS[t]=t.replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()})))}));for(var f in void 0!==a&&(e.textContent=a),i)if(i.hasOwnProperty(f)){var h=mS(f,i[f]);yS.test(f)?e.style.setProperty(f,h):e.style[f]=h}l.forEach((function(t,n){e.setAttribute(t,c[n])})),void 0!==o&&(e.scrollTop=o),void 0!==u&&(e.scrollLeft=u)},createAnimatedStyle:function(e){return new OS(e)},getComponentProps:function(e){return pS(e,CS)}}),AS=(NS.animated,function(e){var n=e.rotation,r=void 0===n?0:n,i=e.timing,a=void 0===i?150:i,u=e.children,s=o((0,t.useState)(!1),2),c=s[0],l=s[1],f={display:"flex",backfaceVisibility:"hidden",transform:c?"rotate(".concat(r,"deg)"):"rotate(0deg)",transition:"transform ".concat(a,"ms"),config:Kx.slow};(0,t.useEffect)((function(){if(c){var e=window.setTimeout((function(){l(!1)}),a);return function(){window.clearTimeout(e)}}}),[c,a]);return(0,zw.jsx)("span",{onMouseOver:function(){l(!0)},style:f,children:u})}),PS=function(){var e=o((0,t.useState)([]),2),n=e[0],r=e[1],i=o((0,t.useState)(!1),2),a=i[0],u=i[1],s=o((0,t.useState)(!1),2),c=s[0],l=s[1],f=(Yy(Uw,"notes"),Pm(Yy(Uw,"notes"),Rm("createdAt","desc")));(0,t.useEffect)((function(){var e=function(){var e=Qr($r().mark((function e(){var t;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fm(f);case 2:0===(t=e.sent).docs.length&&l(!0),r(t.docs.map((function(e){return Yw(Yw({},e.data()),{},{id:e.id})})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[a]);var h=_(),d=function(){var e=Qr($r().mark((function e(t){var r;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$y(Uw,"notes",t),e.next=3,Vm(r);case 3:u(!a),1===n.length&&l(!0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return!0===c?(0,zw.jsxs)(zw.Fragment,{children:[(0,zw.jsx)("div",{className:"top-bar",children:(0,zw.jsxs)("div",{className:"go-back",onClick:function(){return h("/home")},children:[(0,zw.jsx)("p",{className:"go-back-text",children:"Go back"}),(0,zw.jsx)("img",{className:"go-back-page-icon",src:"https://static.thenounproject.com/png/2961062-200.png",alt:""})]})}),(0,zw.jsx)("div",{className:"empty-list-container",children:(0,zw.jsx)("div",{className:"empty-entry-list",children:"Nothing to see here yet! Go back and write a note first"})})]}):(0,zw.jsxs)("div",{className:"notes",children:[(0,zw.jsxs)("div",{className:"go-back",onClick:function(){return h("/home")},children:[(0,zw.jsx)("p",{className:"go-back-text",children:"Go back"}),(0,zw.jsx)("img",{className:"go-back-page-icon",src:"https://static.thenounproject.com/png/2961062-200.png",alt:""})]}),(0,zw.jsx)("div",{className:"notes-list-container",children:(0,zw.jsx)("div",{className:"notes-list",children:n.map((function(e){return(0,zw.jsxs)("div",{className:"note-item",children:[(0,zw.jsx)("div",{className:"note-item-text",children:e.stickyText}),(0,zw.jsx)("div",{className:"delete-btn-container",children:(0,zw.jsx)(AS,{rotation:15,timing:100,children:(0,zw.jsx)("img",{className:"icon-delete-note",src:"https://cdn2.iconfinder.com/data/icons/apple-inspire-white/100/Apple-64-512.png",alt:"",onClick:function(){d(e.id)}})})})]},e.id)}))})})]})},DS=function(){var e=_(),n=o((0,t.useState)([]),2),r=n[0],i=n[1],a=o((0,t.useState)(!1),2),u=a[0],s=a[1],c=o((0,t.useState)(!1),2),l=c[0],f=c[1],h=(Yy(Uw,"entry"),Pm(Yy(Uw,"entry"),Rm("createdAt","desc")));(0,t.useEffect)((function(){var e=function(){var e=Qr($r().mark((function e(){var t;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fm(h);case 2:0===(t=e.sent).docs.length&&f(!0),i(t.docs.map((function(e){return Yw(Yw({},e.data()),{},{id:e.id})}))),console.log(r);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[u]);var d=function(){var e=Qr($r().mark((function e(t){var n;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=$y(Uw,"entry",t),e.next=3,Vm(n);case 3:s(!u),y(!1),1===r.length&&f(!0);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=o((0,t.useState)(!1),2),v=p[0],y=p[1],m=o((0,t.useState)({}),2),g=m[0],k=m[1];return!0===l?(0,zw.jsxs)(zw.Fragment,{children:[(0,zw.jsx)("div",{className:"top-bar",children:(0,zw.jsxs)("div",{className:"go-back",onClick:function(){return e("/home")},children:[(0,zw.jsx)("p",{className:"go-back-text",children:"Go back"}),(0,zw.jsx)("img",{className:"go-back-page-icon",src:"https://static.thenounproject.com/png/2961062-200.png",alt:""})]})}),(0,zw.jsx)("div",{className:"empty-list-container",children:(0,zw.jsx)("div",{className:"empty-entry-list",children:"Nothing to see here yet! Go back and write an entry first"})})]}):(0,zw.jsxs)(zw.Fragment,{children:[(0,zw.jsx)("div",{className:"top-bar",children:(0,zw.jsxs)("div",{className:"go-back",onClick:function(){return e("/home")},children:[(0,zw.jsx)("p",{className:"go-back-text",children:"Go back"}),(0,zw.jsx)("img",{className:"go-back-page-icon",src:"https://static.thenounproject.com/png/2961062-200.png",alt:""})]})}),(0,zw.jsxs)("div",{className:"entries-page",children:[(0,zw.jsx)("div",{className:"entry-list",children:r.map((function(e){return(0,zw.jsxs)("div",{className:"entry-list-item",onClick:function(t){y(!0),k(e),console.log(g)},children:[(0,zw.jsx)("p",{className:"list-item-date",children:e.date}),(0,zw.jsxs)("div",{className:"entry-row",children:[(0,zw.jsx)("p",{className:"list-item-title",children:e.title}),(0,zw.jsx)("div",{className:"delete-entry-container",children:(0,zw.jsx)(AS,{rotation:15,timing:100,children:(0,zw.jsx)("img",{className:"icon-delete",src:"https://cdn2.iconfinder.com/data/icons/apple-inspire-white/100/Apple-64-512.png",alt:"",onClick:function(){d(e.id)}})})})]})]},e.id)}))}),v?(0,zw.jsx)("div",{className:"selected-entry-container",children:(0,zw.jsx)("div",{className:"selected-entry",children:(0,zw.jsxs)("div",{className:"input-container",children:[(0,zw.jsx)("div",{className:"entry-title",children:g.title}),(0,zw.jsx)("div",{className:"entry-text",children:g.text})]})})}):(0,zw.jsx)("div",{className:"selected-entry-container"})]})]})},RS=function(e){var n=e.isDone,r=e.doneTasks,i=e.setIsDone,a=e.setDoneTasks,u=o((0,t.useState)([]),2),s=u[0],c=u[1],l=o((0,t.useState)(!1),2),f=(l[0],l[1]),h=o((0,t.useState)(!1),2),d=h[0],p=h[1],v=Pm(Yy(Uw,"tasks"),Rm("createdAt","asc")),y=function(){var e=Qr($r().mark((function e(t){var n;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=$y(Uw,"tasks",t),e.next=3,Vm(n);case 3:p(!d),1===s.length&&f(!0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=o((0,t.useState)("all"),2),g=m[0],k=m[1];(0,t.useEffect)((function(){var e=function(){var e=Qr($r().mark((function e(){var t;return $r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fm(v);case 2:0===(t=e.sent).docs.length&&f(!0),c(t.docs.map((function(e){return Yw(Yw({},e.data()),{},{id:e.id})})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[d,g]);var b=function(e){e.target.checked&&(i(!n),a(r+1))};return(0,zw.jsx)("div",{className:"tasks-container",children:(0,zw.jsxs)("div",{className:"task-info",children:[(0,zw.jsxs)("div",{className:"upcoming-tasks-title",children:[(0,zw.jsx)("p",{className:"upcoming-tasks",children:"All tasks"}),(0,zw.jsxs)("div",{className:"filter-by",children:[(0,zw.jsx)("p",{className:"upcoming-tasks",children:"Filter by tag "}),(0,zw.jsx)("div",{className:"select-container",children:(0,zw.jsxs)("select",{name:"select",className:"filter-by-select",onChange:function(e){k(e.target.value)},defaultValue:"all",children:[(0,zw.jsx)("option",{value:"high",children:"High"}),(0,zw.jsx)("option",{value:"medium",children:"Medium"}),(0,zw.jsx)("option",{value:"low",children:"Low"}),(0,zw.jsx)("option",{value:"all",children:"All"})]})})]})]}),(0,zw.jsx)("div",{className:"task-list",children:s.map((function(e){var t=[e];if("all"===g)return(0,zw.jsxs)("li",{className:"task-item",children:[(0,zw.jsx)("p",{className:"task-title",children:e.task}),(0,zw.jsxs)("div",{className:"side-task-item",children:[(0,zw.jsx)("div",{className:"task-priority-tag-".concat(e.priority),children:e.priority}),(0,zw.jsxs)("div",{className:"delete-task-container",children:[(0,zw.jsx)("input",{type:"checkbox",id:"done",name:"done-task",className:"mark-done",value:n,onChange:b}),(0,zw.jsx)(AS,{rotation:15,timing:100,children:(0,zw.jsx)("img",{className:"icon-delete-task",src:"https://cdn2.iconfinder.com/data/icons/apple-inspire-white/100/Apple-64-512.png",alt:"",onClick:function(){y(e.id)}})})]})]})]},e.id);var r=t.filter((function(e){return e.priority.includes(g)}));return void 0!==r[0]?(0,zw.jsxs)("li",{className:"task-item",children:[(0,zw.jsx)("p",{className:"task-title",children:r[0].task}),(0,zw.jsxs)("div",{className:"side-task-item",children:[(0,zw.jsx)("div",{className:"task-priority-tag-".concat(r[0].priority),children:r[0].priority}),(0,zw.jsxs)("div",{className:"delete-task-container",children:[(0,zw.jsx)("input",{type:"checkbox",id:"done",name:"done-task",className:"mark-done"}),(0,zw.jsx)(AS,{rotation:15,timing:100,children:(0,zw.jsx)("img",{className:"icon-delete-task",src:"https://cdn2.iconfinder.com/data/icons/apple-inspire-white/100/Apple-64-512.png",alt:"",onClick:function(){y(r[0].id)}})})]})]})]},r[0].id):(0,zw.jsx)(zw.Fragment,{})}))})]})})},LS=function(){var e=_(),n=o((0,t.useState)(0),2),r=n[0],i=n[1],a=o((0,t.useState)(!1),2),u=a[0],s=a[1];return(0,zw.jsxs)(zw.Fragment,{children:[(0,zw.jsx)("div",{className:"top-bar",children:(0,zw.jsxs)("div",{className:"go-back",onClick:function(){return e("/home")},children:[(0,zw.jsx)("p",{className:"go-back-text",children:"Go back"}),(0,zw.jsx)("img",{className:"go-back-page-icon",src:"https://static.thenounproject.com/png/2961062-200.png",alt:""})]})}),(0,zw.jsx)(RS,{isDone:u,setIsDone:s,doneTasks:r,setDoneTasks:i})]})},jS=function(){var e=o((0,t.useState)(!1),2),n=e[0],r=e[1];console.log(n);var i=_();return(0,zw.jsx)(zw.Fragment,{children:(0,zw.jsxs)(E,{children:[(0,zw.jsx)(b,{path:"/home",element:(0,zw.jsx)(Kw,{signUserOut:function(){(function(e){return Li(e).signOut()})(Fw).then((function(){localStorage.clear(),r(!1),i("/")}))},isAuth:n})}),(0,zw.jsx)(b,{path:"/",element:(0,zw.jsx)(Gw,{setIsAuth:r,isAuth:n})}),(0,zw.jsx)(b,{path:"/entries",element:(0,zw.jsx)(DS,{})}),(0,zw.jsx)(b,{path:"/notes",element:(0,zw.jsx)(PS,{})}),(0,zw.jsx)(b,{path:"/tasks",element:(0,zw.jsx)(LS,{})})]})})};function MS(n){var r=n.basename,i=n.children,a=n.window,y=(0,t.useRef)();null==y.current&&(y.current=function(t){void 0===t&&(t={});var n=t.window,r=void 0===n?document.defaultView:n,i=r.history;function a(){var e=r.location,t=e.pathname,n=e.search,a=e.hash,o=i.state||{};return[o.idx,s({pathname:t,search:n,hash:a,state:o.usr||null,key:o.key||"default"})]}var o=null;r.addEventListener(l,(function(){if(o)w.call(o),o=null;else{var t=e.Pop,n=a(),r=n[0],i=n[1];if(w.length){if(null!=r){var u=g-r;u&&(o={action:t,location:i,retry:function(){O(-1*u)}},O(u))}}else T(t)}}));var y=e.Pop,m=a(),g=m[0],k=m[1],b=h(),w=h();function E(e){return"string"===typeof e?e:p(e)}function x(e,t){return void 0===t&&(t=null),s(u({pathname:k.pathname,hash:"",search:""},"string"===typeof e?v(e):e,{state:t,key:d()}))}function S(e,t){return[{usr:e.state,key:e.key,idx:t},E(e)]}function _(e,t,n){return!w.length||(w.call({action:e,location:t,retry:n}),!1)}function T(e){y=e;var t=a();g=t[0],k=t[1],b.call({action:y,location:k})}function O(e){i.go(e)}null==g&&(g=0,i.replaceState(u({},i.state,{idx:g}),""));var I={get action(){return y},get location(){return k},createHref:E,push:function t(n,a){var o=e.Push,u=x(n,a);if(_(o,u,(function(){t(n,a)}))){var s=S(u,g+1),c=s[0],l=s[1];try{i.pushState(c,"",l)}catch(f){r.location.assign(l)}T(o)}},replace:function t(n,r){var a=e.Replace,o=x(n,r);if(_(a,o,(function(){t(n,r)}))){var u=S(o,g),s=u[0],c=u[1];i.replaceState(s,"",c),T(a)}},go:O,back:function(){O(-1)},forward:function(){O(1)},listen:function(e){return b.push(e)},block:function(e){var t=w.push(e);return 1===w.length&&r.addEventListener(c,f),function(){t(),w.length||r.removeEventListener(c,f)}}};return I}({window:a}));var m=y.current,g=o((0,t.useState)({action:m.action,location:m.location}),2),k=g[0],b=g[1];return(0,t.useLayoutEffect)((function(){return m.listen(b)}),[m]),(0,t.createElement)(w,{basename:r,children:i,location:k.location,navigationType:k.action,navigator:m})}r.render((0,zw.jsx)(MS,{children:(0,zw.jsx)(jS,{})}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.462707f4.js.map